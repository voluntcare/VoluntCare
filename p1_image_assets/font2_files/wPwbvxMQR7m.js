if (self.CavalryLogger) { CavalryLogger.start_js(["Dy3ur"]); }

__d("SearchInstantBootstrapEntityModule",["cx","Arbiter","BanzaiODS","ContextualComponent","CSS","CurrentUser","DOM","ReactDOM","ReactRenderer","Run","SearchBootstrapEntityModuleDebugUtil","SearchBootstrapEntityModuleUIConfig","SearchBootstrapEntityModuleUtil","SearchEntityModule.react","SearchEntityModuleServerConstants","SearchEntityModuleUIConfig","SearchWWWTrackableClientViewConfig","SubscriptionsHandler","XUISpinner.react","ge"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="/search",j=void 0;function k(l){__p&&__p();this.$SearchInstantBootstrapEntityModule12=function(event,m){this.$SearchInstantBootstrapEntityModule4=String(m.structure);this.$SearchInstantBootstrapEntityModule6=this.$SearchInstantBootstrapEntityModule1.getSquashedEntIDsFromQuery(m);this.$SearchInstantBootstrapEntityModule7=m.uri;this.$SearchInstantBootstrapEntityModule14()}.bind(this);this.$SearchInstantBootstrapEntityModule13=function(m,n){if(n.to.getPath().startsWith(i))return;if(j.$SearchInstantBootstrapEntityModule8!=null)this.$SearchInstantBootstrapEntityModule15(j.$SearchInstantBootstrapEntityModule8)}.bind(this);this.$SearchInstantBootstrapEntityModule1=l.getCore();this.$SearchInstantBootstrapEntityModule2=new(c("SubscriptionsHandler"))();j=this}k.prototype.enable=function(){this.$SearchInstantBootstrapEntityModule10=c("ge")("content");if(this.$SearchInstantBootstrapEntityModule10==null)return;this.$SearchInstantBootstrapEntityModule11();c("Run").onAfterLoad(function(){this.$SearchInstantBootstrapEntityModule2.addSubscriptions(this.$SearchInstantBootstrapEntityModule1.subscribe("execute",this.$SearchInstantBootstrapEntityModule12),c("Arbiter").subscribe("pre_page_transition",this.$SearchInstantBootstrapEntityModule13))}.bind(this))};k.prototype.disable=function(){this.$SearchInstantBootstrapEntityModule2.release()};k.prototype.$SearchInstantBootstrapEntityModule15=function(f){__p&&__p();if(this.$SearchInstantBootstrapEntityModule10==null)return;var l=c("ContextualComponent").closestToNode(this.$SearchInstantBootstrapEntityModule10);if(l==null)return;l.onUnmount(function(){if(f==this.$SearchInstantBootstrapEntityModule8){this.$SearchInstantBootstrapEntityModule16();this.$SearchInstantBootstrapEntityModule17()}}.bind(this))};k.prototype.$SearchInstantBootstrapEntityModule11=function(){var l=c("DOM").create("div",{className:"_126b"});this.$SearchInstantBootstrapEntityModule3=c("DOM").create("div",{className:"_126c"},l);c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("XUISpinner.react"),{size:"large"},l);this.$SearchInstantBootstrapEntityModule9=c("DOM").create("div",{className:"_126d"},this.$SearchInstantBootstrapEntityModule3);c("DOM").appendContent(this.$SearchInstantBootstrapEntityModule9,this.$SearchInstantBootstrapEntityModule3);c("CSS").hide(this.$SearchInstantBootstrapEntityModule9);c("DOM").appendContent(document.body,this.$SearchInstantBootstrapEntityModule9)};k.prototype.$SearchInstantBootstrapEntityModule14=function(){__p&&__p();c("Arbiter").inform("FacebarDataSource.getBootstrapMatches",{query:this.$SearchInstantBootstrapEntityModule4,callback:function(l){var m=c("SearchBootstrapEntityModuleUtil").transformRawBootstrapResultsToEntityModuleResults(l,this.$SearchInstantBootstrapEntityModule1.getBrowseSessionID());this.$SearchInstantBootstrapEntityModule5=m;c("SearchBootstrapEntityModuleDebugUtil").printDebugNotice(m.length===0?"no_matches":"shown",l);this.$SearchInstantBootstrapEntityModule18();if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading){if(m.length>0)this.$SearchInstantBootstrapEntityModule17();this.$SearchInstantBootstrapEntityModule19()}}.bind(this),whitelistedEntIds:this.$SearchInstantBootstrapEntityModule6},c("Arbiter").BEHAVIOR_PERSISTENT)};k.prototype.$SearchInstantBootstrapEntityModule18=function(){var l=this.$SearchInstantBootstrapEntityModule5,m=this.$SearchInstantBootstrapEntityModule7;if(l==null||l.length===0||m==null)return;var n=l.map(function(o){return o.tuid});m.setQueryData(babelHelpers["extends"]({},m.getQueryData(),{preloaded_entity_ids:n,preloaded_entity_type:l[0].type}))};k.prototype.$SearchInstantBootstrapEntityModule19=function(){__p&&__p();var l=this.$SearchInstantBootstrapEntityModule5,m=this.$SearchInstantBootstrapEntityModule4;if(l==null||l.length===0||m==null)return;var n=c("DOM").create("div"),o=c("SearchBootstrapEntityModuleUtil").getTitleForResultType(l[0].type),p={plain_text_query:m,browse_query:"keywords_search("+m+")",results:l,module_role:c("SearchEntityModuleServerConstants").RESULT_TYPE_TO_MODULE_ROLE[l[0].type],result_type:l[0].type,num_results_to_show:c("SearchBootstrapEntityModuleUIConfig").numResultsToShow,client_view_config:c("SearchWWWTrackableClientViewConfig"),browse_session_id:this.$SearchInstantBootstrapEntityModule1.getBrowseSessionID(),module_style:c("SearchEntityModuleUIConfig").moduleStyle,title:o,see_more_uri:c("SearchBootstrapEntityModuleUtil").getSeeMoreURIForResults(l,this.$SearchInstantBootstrapEntityModule1.getSessionID(),m),logging_unit_id:c("SearchBootstrapEntityModuleUtil").generateUnitIDWithPrefix("www_bem"),has_module_guidelines:c("SearchEntityModuleUIConfig").hasModuleGuidelines,viewer_id:c("CurrentUser").getID(),is_bootstrap_entity_module:true,should_render_footer:false};if(this.$SearchInstantBootstrapEntityModule8!=null)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","previous_bem_not_unmounted");this.$SearchInstantBootstrapEntityModule8=c("ReactRenderer").constructAndRenderComponentAcrossTransitions(c("SearchEntityModule.react"),p,n,function(){if(c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)this.$SearchInstantBootstrapEntityModule20()}.bind(this));c("DOM").prependContent(this.$SearchInstantBootstrapEntityModule3,n)};k.prototype.$SearchInstantBootstrapEntityModule17=function(){if(this.$SearchInstantBootstrapEntityModule8==null)return;var l=c("ReactDOM").findDOMNode(this.$SearchInstantBootstrapEntityModule8),m=c("ReactDOM").unmountComponentAtNode(l.parentNode);if(!m)c("BanzaiODS").bumpEntityKey("search.www.bem.instant_bem","current_bem_did_not_unmount");this.$SearchInstantBootstrapEntityModule8=null};k.prototype.$SearchInstantBootstrapEntityModule20=function(){c("CSS").show(this.$SearchInstantBootstrapEntityModule9);if(document.body!=null)c("CSS").removeClass(document.body,"_2yq");if(this.$SearchInstantBootstrapEntityModule10!=null)c("CSS").hide(this.$SearchInstantBootstrapEntityModule10)};k.prototype.$SearchInstantBootstrapEntityModule16=function(){if(this.$SearchInstantBootstrapEntityModule10!=null)c("CSS").show(this.$SearchInstantBootstrapEntityModule10);c("CSS").hide(this.$SearchInstantBootstrapEntityModule9)};k.moveInsideWrapper=function(l){__p&&__p();if(j==null)return;if(!c("SearchBootstrapEntityModuleUIConfig").hasInstantLoading)j.$SearchInstantBootstrapEntityModule19();var f=j.$SearchInstantBootstrapEntityModule8;if(f==null)return;var m=c("ReactDOM").findDOMNode(f);if(m==null)return;if(m.parentNode==null)return;j.$SearchInstantBootstrapEntityModule16();j.$SearchInstantBootstrapEntityModule15(f);c("DOM").appendContent(l,m.parentNode)};f.exports=k}),null);
__d("PagerButtonsExample",["DOM"],(function a(b,c,d,e,f,g){f.exports={register:function h(i,j){i.subscribe("prev",function(){c("DOM").setContent(j,"Previous clicked!");i.setPrevEnabled(false);i.setNextEnabled(true)});i.subscribe("next",function(){c("DOM").setContent(j,"Next clicked!");i.setPrevEnabled(true);i.setNextEnabled(false)})}}}),null);