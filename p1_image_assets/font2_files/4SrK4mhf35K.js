if (self.CavalryLogger) { CavalryLogger.start_js(["lhuyT"]); }

__d("SphericalPhotoComposerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("spherical_photo_composer:SphericalPhotoComposerLoggerConfig",this.$SphericalPhotoComposerTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("spherical_photo_composer:SphericalPhotoComposerLoggerConfig",this.$SphericalPhotoComposerTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SphericalPhotoComposerTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SphericalPhotoComposerTypedLogger1=babelHelpers["extends"]({},this.$SphericalPhotoComposerTypedLogger1,j);return this};h.prototype.setClientUserID=function(j){this.$SphericalPhotoComposerTypedLogger1.client_userid=j;return this};h.prototype.setComposerSessionID=function(j){this.$SphericalPhotoComposerTypedLogger1.composer_session_id=j;return this};h.prototype.setCountry=function(j){this.$SphericalPhotoComposerTypedLogger1.country=j;return this};h.prototype.setDeltaTime=function(j){this.$SphericalPhotoComposerTypedLogger1.delta_time=j;return this};h.prototype.setErrorMessage=function(j){this.$SphericalPhotoComposerTypedLogger1.error_message=j;return this};h.prototype.setErrorMessageHash=function(j){this.$SphericalPhotoComposerTypedLogger1.error_message_hash=j;return this};h.prototype.setErrorStackTrace=function(j){this.$SphericalPhotoComposerTypedLogger1.error_stack_trace=j;return this};h.prototype.setIsemployee=function(j){this.$SphericalPhotoComposerTypedLogger1.isemployee=j;return this};h.prototype.setName=function(j){this.$SphericalPhotoComposerTypedLogger1.name=j;return this};h.prototype.setNumberOfMagicTags=function(j){this.$SphericalPhotoComposerTypedLogger1.number_of_magic_tags=j;return this};h.prototype.setNumberOfPhoto=function(j){this.$SphericalPhotoComposerTypedLogger1.number_of_photo=j;return this};h.prototype.setNumberOfSphericalPhoto=function(j){this.$SphericalPhotoComposerTypedLogger1.number_of_spherical_photo=j;return this};h.prototype.setNumberOfTags=function(j){this.$SphericalPhotoComposerTypedLogger1.number_of_tags=j;return this};h.prototype.setPhotoID=function(j){this.$SphericalPhotoComposerTypedLogger1.photo_id=j;return this};h.prototype.setPitch=function(j){this.$SphericalPhotoComposerTypedLogger1.pitch=j;return this};h.prototype.setProjectionType=function(j){this.$SphericalPhotoComposerTypedLogger1.projection_type=j;return this};h.prototype.setSessionPhotoID=function(j){this.$SphericalPhotoComposerTypedLogger1.session_photo_id=j;return this};h.prototype.setSourceHeight=function(j){this.$SphericalPhotoComposerTypedLogger1.source_height=j;return this};h.prototype.setSourceProjectionType=function(j){this.$SphericalPhotoComposerTypedLogger1.source_projection_type=j;return this};h.prototype.setSourceWidth=function(j){this.$SphericalPhotoComposerTypedLogger1.source_width=j;return this};h.prototype.setSurface=function(j){this.$SphericalPhotoComposerTypedLogger1.surface=j;return this};h.prototype.setVfov=function(j){this.$SphericalPhotoComposerTypedLogger1.vfov=j;return this};h.prototype.setYaw=function(j){this.$SphericalPhotoComposerTypedLogger1.yaw=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$SphericalPhotoComposerTypedLogger1=babelHelpers["extends"]({},this.$SphericalPhotoComposerTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={client_userid:true,composer_session_id:true,country:true,delta_time:true,error_message:true,error_message_hash:true,error_stack_trace:true,isemployee:true,name:true,number_of_magic_tags:true,number_of_photo:true,number_of_spherical_photo:true,number_of_tags:true,photo_id:true,pitch:true,projection_type:true,session_photo_id:true,source_height:true,source_projection_type:true,source_width:true,surface:true,vfov:true,yaw:true};f.exports=h}),null);
__d("SphericalPhotoComposerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CANVAS_RESIZE_START:"spherical_photo_www_canvas_resize_start",CANVAS_RESIZE_IMG_LOADED:"spherical_photo_www_canvas_resize_img_loaded",CANVAS_RESIZE_SUCCESS:"spherical_photo_www_canvas_resize_success",CANVAS_RESIZE_FAILED:"spherical_photo_www_canvas_resize_failed",GL_INIT_FAILURE:"spherical_photo_gl_init_failure",GL_CONTEXT_LOST:"spherical_photo_gl_context_lost",GL_RENDER_FAILURE:"spherical_photo_gl_render_failure",IVS_DRAG_START:"spherical_photo_ivs_drag_start",IVS_SET:"spherical_photo_ivs_set",IVS_TOGGLE_OFF:"spherical_photo_ivs_toggle_off",IVS_TOGGLE_ON:"spherical_photo_ivs_toggle_on",POST:"spherical_photo_post",SERVER_IVS_UPDATE_DONE:"spherical_photo_server_ivs_update_done",SERVER_IVS_UPDATE_FAILED:"spherical_photo_server_ivs_update_failed",SERVER_IVS_UPDATE_START:"spherical_photo_server_ivs_update_start",TAG_CANCEL:"spherical_photo_tag_cancel",TAG_CHANGES_FROM_COMPOSER:"spherical_photo_tag_changes_from_composer",TAG_CLICK_LABEL:"spherical_photo_tag_click_label",TAG_CLICK_TO_TAG:"spherical_photo_tag_click_to_tag",TAG_CREATE:"spherical_photo_tag_create",TAG_CREATE_FROM_FACEBOX:"spherical_photo_tag_create_from_facebox",TAG_DELETE:"spherical_photo_tag_delete",TAG_OPEN_DIALOG:"spherical_photo_tag_open_dialog",TAG_SAVE:"spherical_photo_tag_save",WWW_IVS_CANCEL:"spherical_photo_www_ivs_cancel",WWW_IVS_DISABLE_ON_SAVE:"spherical_photo_www_ivs_disable_on_save",WWW_IVS_ENABLE_ON_SAVE:"spherical_photo_www_ivs_enable_on_save",WWW_IVS_OPEN:"spherical_photo_www_ivs_open",WWW_IVS_REQUEST_DONE:"spherical_photo_www_ivs_request_done",WWW_IVS_REQUEST_FAILED:"spherical_photo_www_ivs_request_failed",WWW_IVS_REQUEST_START:"spherical_photo_www_ivs_request_start",WWW_IVS_UPDATE_DONE:"spherical_photo_www_ivs_update_done",WWW_IVS_UPDATE_FAILED:"spherical_photo_www_ivs_update_failed",WWW_IVS_UPDATE_START:"spherical_photo_www_ivs_update_start",SERVER_RENDER_PROJ_UPDATE_DONE:"spherical_photo_server_renderer_projection_update_done",SERVER_RENDER_PROJ_UPDATE_FAILED:"spherical_photo_server_renderer_projection_update_failed",SERVER_RENDER_PROJ_UPDATE_START:"spherical_photo_server_renderer_projection_update_start"})}),null);
__d("SphericalPhotoTagLoggingUtil",["SphericalMediaActions","SphericalPhotoComposerTypedLogger","SphericalPhotoComposerEvents","SphericalMediaConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("SphericalPhotoComposerTypedLogger"))(),i=c("SphericalMediaConstants").UNTAGGED_FACEBOX,j=function j(k,l){__p&&__p();h.clear().setComposerSessionID(l.sessionID).setPhotoID(l.fbid).setProjectionType(l.projectionType).setSurface(l.surface);var m=void 0,n=0,o=0;switch(k.type){case c("SphericalMediaActions").UPDATE_SPATIAL_TAGS_FROM_COMPOSER:m=k.data;m.forEach(function(p){if(p.type!==i)o++;if(p.isMagicFaceboxTag)n++});h.setName(c("SphericalPhotoComposerEvents").TAG_CHANGES_FROM_COMPOSER).setNumberOfTags(o).setNumberOfMagicTags(n).log();break;case c("SphericalMediaActions").DELETED_SPATIAL_TAG:h.setName(c("SphericalPhotoComposerEvents").TAG_DELETE).log();break;case c("SphericalMediaActions").SAVE_DIALOG_TAGS:m=k.data;m.forEach(function(p){if(p.type!==i)o++;if(p.isMagicFaceboxTag)n++});h.setName(c("SphericalPhotoComposerEvents").TAG_SAVE).setNumberOfTags(o).setNumberOfMagicTags(n).log();break;case c("SphericalMediaActions").CANCEL_DIALOG_TAG_CHANGES:h.setName(c("SphericalPhotoComposerEvents").TAG_CANCEL).log();break;case c("SphericalMediaActions").REDIRECT_FROM_CLICKED_TAG:h.setName(c("SphericalPhotoComposerEvents").TAG_CLICK_LABEL).log();break;case c("SphericalMediaActions").OPEN_TAG_DIALOG:h.setName(c("SphericalPhotoComposerEvents").TAG_OPEN_DIALOG).log();break;case c("SphericalMediaActions").TAGGING_START:h.setName(c("SphericalPhotoComposerEvents").TAG_CLICK_TO_TAG).log();break;case c("SphericalMediaActions").ADD_SPATIAL_TAG_FROM_PHOTO_TAGGER:h.setName(c("SphericalPhotoComposerEvents").TAG_CREATE).log();break}};f.exports={log:j}}),null);
__d("SphericalPhotoViewerLoggingUtil",["SphericalMediaActions","SphericalPhotoViewerTypedLogger","SphericalPhotoViewerLogEvents"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("SphericalPhotoViewerTypedLogger"))(),i=function i(j,k){__p&&__p();h.clear().setSphericalPhotoSessionID(k.sessionID).setPhotoID(k.fbid).setSurface(k.surface);var l=void 0,m=void 0;switch(j.type){case c("SphericalMediaActions").DRAG_START:h.setName(c("SphericalPhotoViewerLogEvents").DRAG_START).log();break;case c("SphericalMediaActions").GYRO_START:h.setName(c("SphericalPhotoViewerLogEvents").WWW_GYRO_START).log();break;case c("SphericalMediaActions").ZOOM_START:h.setName(c("SphericalPhotoViewerLogEvents").ZOOM_START).log();break;case c("SphericalMediaActions").SIGNIFICANT_MOVE:m=k.viewStore.getState().view;h.setName(c("SphericalPhotoViewerLogEvents").SIGNIFICANT_MOVEMENT).setYaw(m.yaw).setPitch(m.pitch).setVfov(m.fov).setViewportWidth(k.width).setViewportHeight(k.height).log();break;case c("SphericalMediaActions").MOUSE_ENTER:h.setName(c("SphericalPhotoViewerLogEvents").MOUSEOVER_START).log();break;case c("SphericalMediaActions").TAP_HEADING_INDICATOR:h.setName(c("SphericalPhotoViewerLogEvents").TAP_HEADING_INDICATOR).log();break;case c("SphericalMediaActions").MOUSE_ANIMATION_START:h.setName(c("SphericalPhotoViewerLogEvents").DRAG_MOUSE_ANIMATION).log();break;case c("SphericalMediaActions").SETUP_RENDERER:h.setName(c("SphericalPhotoViewerLogEvents").RENDERER_SETUP).setDt(j.data.dt).setRenderMethod(k.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").log();break;case c("SphericalMediaActions").WEBGL_RENDER_FAILED:l=j.data.error;m=k.viewStore.getState().view;h.setName(c("SphericalPhotoViewerLogEvents").WEBGL_RENDER_FAILURE).setErrorMessage(l.message).setRenderMethod(k.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").setYaw(m.yaw).setPitch(m.pitch).setVfov(m.fov).setViewportWidth(k.width).setViewportHeight(k.height).setErrorStackTrace(l.stack&&l.stack.split&&l.stack.split("at ")[1]).log();break;case c("SphericalMediaActions").WEBGL_CONTEXT_LOST:h.setName(c("SphericalPhotoViewerLogEvents").WEBGL_CONTEXT_LOST).log();break;case c("SphericalMediaActions").WEBGL_INIT_FAILED:l=j.data.error;h.setName(c("SphericalPhotoViewerLogEvents").WEBGL_INIT_FAILURE).setErrorMessage(l.message).setRenderMethod(k.tiledSphericalConfig.useTiledRenderer?"tiled":"cubestrip").setViewportWidth(k.width).setViewportHeight(k.height).setErrorStackTrace(l.stack&&l.stack.split&&l.stack.split("at ")[1]).log();break;case c("SphericalMediaActions").PHOTO_RENDERER_STATS:h.updateData(j.data).setName(c("SphericalPhotoViewerLogEvents").RENDERER_STATS).log();break}};f.exports={log:i}}),null);