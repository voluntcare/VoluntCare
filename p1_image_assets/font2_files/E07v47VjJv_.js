if (self.CavalryLogger) { CavalryLogger.start_js(["mM6p+"]); }

__d("PrivacyBaseFilterConst",[],(function a(b,c,d,e,f,g){f.exports={FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0}}),null);
__d("ReactComposerJSONCollageLayoutData",[],(function a(b,c,d,e,f,g){f.exports={2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]}}),null);
__d("EmoticonSpan.react",["cx","DraftEntity","EmojiImageURL","EmoticonsList","React","SupportedFBEmoji"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.size,m=c("DraftEntity").get(this.props.entityKey).getData(),n=c("EmoticonsList").emoji[m.type],o=c("SupportedFBEmoji")[n]?c("EmojiImageURL").getFBEmojiURL(n,l):c("EmojiImageURL").getFBEmojiExtendedURL(n,l);return c("React").createElement("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+o+")",backgroundSize:l+"px "+l+"px",height:l+"px",width:l+"px"}},c("React").createElement("span",{className:"_ncl"},this.props.children))};function k(){i.apply(this,arguments)}k.defaultProps={size:16};f.exports=k}),null);
__d("HashtagSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5zk7",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("MentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_247o",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("WeakMentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("getHashtagRegex")();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length)}}f.exports=i}),null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],(function a(b,c,d,e,f,g){__p&&__p();var h;function i(){if(!h){var j=[{strategy:c("getEntityMatcher")(function(k){var l=k.getData();return k.getType()==="MENTION"&&l&&l.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(k){return k.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")}];h=new(c("CompositeDraftDecorator"))(j)}return h}f.exports=i}),null);
__d("ComposerTargetData",[],(function a(b,c,d,e,f,g){function h(i,j,k,l){"use strict";this.targetID=i;this.targetSupportsMultiplePhotos=j;this.viewerIsTarget=k;this.targetSupportsMultiMedia=l}f.exports=h}),null);
__d("DocumentUploadConfig",["DocumentUploadConfigInitialData"],(function a(b,c,d,e,f,g){var h={isSupported:function i(j){if(!j)return false;if(c("DocumentUploadConfigInitialData").CONTENT_TYPES.length<=0)return false;return c("DocumentUploadConfigInitialData").CONTENT_TYPES.includes(j)}};f.exports=h}),null);
__d("ComposerXDragDropUtils",["csx","Arbiter","CSS","DocumentUploadConfig","DOMQuery","Parent","VideoUploadFeatureDetector"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={handleDragEnterAndLeave:function j(k){var l=c("DOMQuery").scry(c("Parent").bySelector(k,"._119"),"._2wr");c("Arbiter").subscribe("dragenter",function(m,n){if(k==n.element)l.forEach(c("CSS").hide)});c("Arbiter").subscribe("dragleave",function(m,n){if(k==n.element)l.forEach(c("CSS").show)})},filterImages:function j(k){__p&&__p();var l=c("VideoUploadFeatureDetector").supportsFileAPI(),m=[];for(var n=k,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(r.type.match("image/*"))m.push(r);else if(l&&r.type.match("video/*"))m.push(r);else if(c("DocumentUploadConfig").isSupported(r.type))m.push(r)}return m}};f.exports=i}),null);
__d("OldPrivacySelectorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$OldPrivacySelectorTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$OldPrivacySelectorTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$OldPrivacySelectorTypedLogger1={};return this};h.prototype.updateData=function(j){this.$OldPrivacySelectorTypedLogger1=babelHelpers["extends"]({},this.$OldPrivacySelectorTypedLogger1,j);return this};h.prototype.setAdamaRenderLocation=function(j){this.$OldPrivacySelectorTypedLogger1.adama_render_location=j;return this};h.prototype.setEvent=function(j){this.$OldPrivacySelectorTypedLogger1.event=j;return this};h.prototype.setFbid=function(j){this.$OldPrivacySelectorTypedLogger1.fbid=j;return this};h.prototype.setVC=function(j){this.$OldPrivacySelectorTypedLogger1.vc=j;return this};var i={adama_render_location:true,event:true,fbid:true,vc:true};f.exports=h}),null);
__d("SATPInteractionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$SATPInteractionsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SATPInteractionsLoggerConfig",this.$SATPInteractionsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SATPInteractionsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$SATPInteractionsTypedLogger1=babelHelpers["extends"]({},this.$SATPInteractionsTypedLogger1,j);return this};h.prototype.setCountry=function(j){this.$SATPInteractionsTypedLogger1.country=j;return this};h.prototype.setEventname=function(j){this.$SATPInteractionsTypedLogger1.eventname=j;return this};h.prototype.setPresetID=function(j){this.$SATPInteractionsTypedLogger1.preset_id=j;return this};h.prototype.setRankedPosition=function(j){this.$SATPInteractionsTypedLogger1.ranked_position=j;return this};h.prototype.setRequestedCollection=function(j){this.$SATPInteractionsTypedLogger1.requested_collection=j;return this};h.prototype.setServertime=function(j){this.$SATPInteractionsTypedLogger1.servertime=j;return this};h.prototype.setTrackingString=function(j){this.$SATPInteractionsTypedLogger1.tracking_string=j;return this};h.prototype.setUserActionString=function(j){this.$SATPInteractionsTypedLogger1.user_action_string=j;return this};h.prototype.setVC=function(j){this.$SATPInteractionsTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$SATPInteractionsTypedLogger1=babelHelpers["extends"]({},this.$SATPInteractionsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={country:true,eventname:true,preset_id:true,ranked_position:true,requested_collection:true,servertime:true,tracking_string:true,user_action_string:true,vc:true};f.exports=h}),null);
__d("AudienceSelectorTags",[],(function a(b,c,d,e,f,g){var h={},i={hasTags:function j(k){return Object.prototype.hasOwnProperty.call(h,k)},setHasTags:function j(k){if(k)h[k]=true}};f.exports=i}),null);
__d("DynamicIconSelector",["Button","CSS","DOM","SelectorDeprecated"],(function a(b,c,d,e,f,g){__p&&__p();var h={swapIcon:function i(j){var k=c("SelectorDeprecated").getSelectedOptions(j)[0],l=k&&c("DOM").scry(k,".itemIcon")[0],m=c("SelectorDeprecated").getSelectorButton(j);if(l)c("Button").setIcon(m,l.cloneNode(true));else{var n=c("DOM").scry(m,".img")[0];n&&c("DOM").remove(n)}c("CSS").conditionClass(m,"uiSelectorChevronOnly",!l)}};c("SelectorDeprecated").subscribe("change",function(i,j){var k=j.selector;if(c("CSS").hasClass(k,"dynamicIconSelector"))h.swapIcon(k)});f.exports=h}),null);
__d("PrivacySelectorOption",["csx","fbt","Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyBaseFilterConst","PrivacyConst","SelectorDeprecated","intlList"],(function a(b,c,d,e,f,g,h,i){__p&&__p();function j(k,l){__p&&__p();if(!k)throw new Error("there's no DOM option. Config data: ",l);this._elem=k;this._selector=c("Parent").byClass(this._elem,"audienceSelector");if(!this._selector)return;this._priv_base_val=l.priv_base_val;this._audienceCount="";this._hasRestricted=l.has_restricted||false;this._isCustom=l.is_custom||false;this._includedAudience=l.included||"";this._excludedAudience=l.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=l.tag_expansion_behavior||c("PrivacyConst").TagExpansion.NONE;this._plusLabel=c("DOM").scry(k,".plusLabel")[0];this._audienceCountLabel=c("DOM").scry(k,".audienceCountLabel")[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();c("Arbiter").subscribe("Composer/changedtags",function(m,n){__p&&__p();var o=c("CSS").hasClass(this._selector,"composerAudienceSelector");if(!this._getChangedData()||!o)return;this._tags=[];this._taggedIDs=[];for(var p=0;p<n.withTags.length;p++){var q=n.withTags[p].info;if(q.uid!=c("CurrentUser").getID()){this._tags.push(q.text);this._taggedIDs.push(q.uid)}}for(var r in n.mention)if(n.mention[r].type=="user"&&n.mention[r].uid!=c("CurrentUser").getID()){this._tags.push(n.mention[r].text);this._taggedIDs.push(n.mention[r].uid)}var s=c("DOM").scry(document.body,"._5l7q")[0];s&&!!this._taggedIDs.length&&c("CSS").hide(s);this._updateOptionCountLabel();var t=this._recalculateTooltipAndLabel();if(t&&c("SelectorDeprecated").isOptionSelected(this._elem)){this._updateSelector();c("Arbiter").inform("SelectedPrivacyOption/changed",this._getChangedData())}}.bind(this));c("SelectorDeprecated").listen(this._selector,"change",this._updateSelector.bind(this))}Object.assign(j.prototype,{updateOption:function k(l,m,n,o,p){this._priv_base_val=l;this._includedAudience=m;this._excludedAudience=n;this._tagExpansionBehavior=o;this._audienceCount=p;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return{label:this._label,tooltip:this._tooltip}},_recalculateTooltipAndLabel:function k(){var l=this._label;this._label=this._getNewSelectorLabel();var m=this._tooltip;this._tooltip=this._getNewTooltip();return m!=this._tooltip||l!=this._label},_getNewTooltip:function k(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case c("PrivacyBaseFilterConst").ALL_FRIENDS:return this._recalcFriendsTooltip();case c("PrivacyBaseFilterConst").FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case c("PrivacyBaseFilterConst").SELF:var l=this._getTagExpansionText();return l?l:this._getIncludedAudience();default:return this._recalcCustomTooltip()}},_getNewSelectorLabel:function k(){var l=this._elem.getAttribute("data-label").replace(/\(.*\)/,"");if(this._showAudienceCount()){var m=" ("+this._audienceCount+")";l+=m}if(this._isTagExpanded())l+=" (+)";return l},_updateOptionCountLabel:function k(){if(this._audienceCountLabel){if(this._showAudienceCount()){var l=" ("+this._audienceCount+")";c("DOM").setContent(this._audienceCountLabel,l)}c("CSS").conditionShow(this._audienceCountLabel,this._showAudienceCount())}this._plusLabel&&c("CSS").conditionShow(this._plusLabel,this._isTagExpanded())},_getChangedData:function k(){return{tags:this._taggedIDs,privacy:this._priv_base_val}},_showAudienceCount:function k(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0},_isTagExpanded:function k(){var l=this._getTagExpansionBehavior(),m=!!this._taggedIDs.length||this._alreadyHasTags();return m&&l!=c("PrivacyConst").TagExpansion.NONE},_alreadyHasTags:function k(){var l=c("DOM").scry(this._selector,"*[data-oid]")[0];l=l&&l.getAttribute("data-oid");return l&&c("AudienceSelectorTags").hasTags(l)},_updateSelector:function k(){if(!this._isSharedAlbum()&&c("SelectorDeprecated").isOptionSelected(this._elem)){var l=c("CSS").hasClass(this._selector,"composerAudienceSelector");l&&c("SelectorDeprecated").setButtonLabel(this._selector,this._label);c("SelectorDeprecated").setButtonTooltip(this._selector,this._tooltip);c("DynamicIconSelector").swapIcon(this._selector);return false}return true},_isSharedAlbum:function k(){var l=c("DOM").scry(this._selector,"*[data-shared-album]")[0];return l&&l.getAttribute("data-shared-album")},_getTagExpansionBehavior:function k(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var l=this._priv_base_val===c("PrivacyConst").FriendsValue.SELF,m=this._priv_base_val===c("PrivacyConst").FriendsValue.EVERYONE;if(l&&this._isSharedAlbum()||m)return c("PrivacyConst").TagExpansion.NONE;else if(this._priv_base_val<c("PrivacyConst").FriendsValue.ALL_FRIENDS)return c("PrivacyConst").TagExpansion.TAGGEES;return c("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES},_getTagExpansionText:function k(){var l=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(l==c("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES)return i._("amis des personnes identifi\u00e9es");else if(l==c("PrivacyConst").TagExpansion.TAGGEES)return i._("Toutes les personnes identifi\u00e9es");return""}return""},_getIncludedAudience:function k(){if(this._includedAudience)return this._includedAudience;var l=this._priv_base_val===c("PrivacyConst").FriendsValue.SELF;if(l&&!this._isSharedAlbum())return i._("Moi uniquement");return this._elem.getAttribute("data-label")},_getCombinedSentence:function k(l,m){if(!m)return l;return i._("{list of people who can see this}\u00a0; Sauf\u00a0: {list of people who cannot see this}",[i.param("list of people who can see this",l),i.param("list of people who cannot see this",m)])},_recalcFriendsTooltip:function k(){__p&&__p();var l=this._tags.length;if(l>2)return this._hasRestricted?i._("Vos amis et les amis des personnes identifi\u00e9es\u00a0; sauf\u00a0: Restreint"):i._("Vos amis et ceux des personnes identifi\u00e9es");else if(l==2)if(this._hasRestricted)return i._("Vos amis, les amis de {user} et les amis de {user2}\u00a0; sauf\u00a0: Restreint",[i.param("user",this._tags[0]),i.param("user2",this._tags[1])]);else return i._("Vos amis, ceux de {user} et de {user2}",[i.param("user",this._tags[0]),i.param("user2",this._tags[1])]);else if(l==1)if(this._hasRestricted)return i._("Vos amis et les amis de {user}\u00a0; sauf\u00a0: Restreint",[i.param("user",this._tags[0])]);else return i._("Vos amis et ceux de {user}",[i.param("user",this._tags[0])]);else return this._hasRestricted?i._("Vos amis\u00a0; sauf\u00a0: Restreint"):i._("Vos amis")},_recalcFriendsMinusTooltip:function k(){__p&&__p();var l=this._tags.length;if(l>0||this._alreadyHasTags()){var m=i._("amis des personnes identifi\u00e9es"),n=i._("{people who can see this}, {list of more people who can see this}",[i.param("people who can see this",i._("Vos amis")),i.param("list of more people who can see this",m)]),o=i._("Connaissances");if(this._hasRestricted)o=i._("{Name of Acquaintances friend list}, {restricted}",[i.param("Name of Acquaintances friend list",o),i.param("restricted",i._("Restreint"))]);return this._getCombinedSentence(n,o)}else{if(this._hasRestricted)return i._("Amis, sauf Connaissances, Restreint");return i._("Amis sauf connaissances")}},_recalcCustomTooltip:function k(){__p&&__p();var l=this._getIncludedAudience(),m=this._getTagExpansionText();if(m)l=i._("{list of people who can see this}, {list of additional people who can see this}",[i.param("list of people who can see this",l),i.param("list of additional people who can see this",m)]);for(var n=0;n<this._taggedIDs.length;n++){var o=this._taggedIDs[n];if(o in this._excludedAudience){delete this._excludedAudience[o];this._excludedTaggees[o]=this._tags[n];break}}for(var p in this._excludedTaggees)if(Object.prototype.hasOwnProperty.call(this._excludedTaggees,p))if(this._taggedIDs.indexOf(p)===-1){this._excludedAudience[p]=this._excludedTaggees[p];delete this._excludedTaggees[p];break}var q=[];for(var r in this._excludedAudience)if(Object.prototype.hasOwnProperty.call(this._excludedAudience,r))q.push(this._excludedAudience[r]);return this._getCombinedSentence(l,c("intlList")(q))}});f.exports=j}),null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){__p&&__p();if(!i)return;setTimeout(function(){__p&&__p();this._selector=c("Parent").byClass(i,"audienceSelector");if(!this._selector)return;this.initCustomState(i,j.option_id,j.id);var k={priv_base_val:j.base_audience_value,audience_count:j.audience_count,is_custom:true,included:j.included_audience,excluded:j.excluded_audience,tag_expansion_behavior:j.tag_expansion_behavior};this._optionJSInstance=new(c("PrivacySelectorOption"))(i,k);c("Event").listen(i,"click",function(event){this.openCustomDialog(event,j.option_id,j.explain_tags,j.autosave,j.limit_community,j.limit_facebook,j.limit_fof,j.limit_tagexpand,j.source)}.bind(this));c("SelectorDeprecated").listen(this._selector,"select",function(l){if(l.option._id!=this._id)this.clearCustomState()}.bind(this))}.bind(this),0)}Object.assign(h,{_instances:{},update:function i(j,k,l,m,n,o,p,q,r){var s=h._instances[j];s._update(k,l)._updateOption(l,n,o,p,q,r);c("Arbiter").inform("Form/change",{node:s._container})},getData:function i(j){var k=h._instances[j];return k&&k._privacyData},setPrivacyData:function i(j,k,l){h._instances[j]._update(k,l)}});Object.assign(h.prototype,{_updateOption:function i(j,k,l,m,n,o){var p=c("SelectorDeprecated").getOption(this._selector,j)||c("SelectorDeprecated").getOption(this._selector,c("PrivacyConst").BaseValue.CUSTOM+""),q=this._optionJSInstance.updateOption(k,l,m,n,o);c("Arbiter").inform("CustomPrivacyOptionController/update",{selector:this._selector,option:p,tooltip:q.tooltip,label:q.label});return this},_update:function i(j,k){var l=k==c("PrivacyConst").BaseValue.CUSTOM||!c("SelectorDeprecated").getOption(this._selector,k),m=this._selector.getAttribute("data-name");this.updateCustomState(j,l,m);return this},initCustomState:function i(j,k,l){h._instances[k]=this;this._container=c("DOM").find(j,".customPrivacyInputs");this._id=l;this._privacyData={};var m=c("Form").serialize(this._container);if(m.audience)this._privacyData=m.audience[l];return j},openCustomDialog:function i(event,j,k,l,m,n,o,p,q){var r=c("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",j).setString("id",this._id).setString("privacy_data",JSON.stringify(this._privacyData)).setBool("explain_tags",k).setBool("autosave",l).setBool("limit_community",m).setBool("limit_facebook",n).setBool("limit_fof",o).setBool("limit_tagexpand",p).setBool("is_new_privacy_selector",false).setString("source",q).getURI(),s=new(c("AsyncRequest"))(r);s.setRelativeTo(event.getTarget());c("AsyncDialog").send(s,function(t){t.subscribe("cancel",function(){c("Arbiter").inform("CustomPrivacyOptionController/cancel",{selector:this._selector})}.bind(this))}.bind(this))},updateCustomState:function i(j,k,l){this.clearCustomState();this._privacyData=babelHelpers["extends"]({},j);if(k)if(l){l=l.slice(0,-"[value]".length);var m={};m[l]=j;c("Form").createHiddenInputs(m,this._container,{},true)}},clearCustomState:function i(){this._privacyData={};c("DOM").empty(this._container)}});f.exports=h}),null);
__d("OldPrivacySelectorEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RENDER_SELECTOR:"render_selector",OPEN_MENU:"open_menu",CLOSE_MENU:"close_menu",SELECT_EVERYONE:"select_everyone",SELECT_FRIENDS_OF_FRIENDS:"select_friends_of_friends",SELECT_FRIENDS:"select_friends",SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:"select_friends_except_acquaintances",SELECT_ONLY_ME:"select_only_me",SELECT_CUSTOM:"select_custom",CUSTOM_SAVE:"custom_save",CUSTOM_CANCEL:"custom_cancel",SELECT_FB_ONLY:"select_fb_only",SELECT_FRIENDLIST:"select_friendlist",SELECT_OTHER:"select_other",SELECT_SEE_ALL_LISTS:"select_see_all_lists",SELECT_RETURN:"select_return"})}),null);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DOMQuery","DynamicIconSelector","OldPrivacySelectorEvent","OldPrivacySelectorTypedLogger","PrivacyConst","SelectorDeprecated"],(function a(b,c,d,e,f,g){__p&&__p();var h={};c("SelectorDeprecated").subscribe("select",function(m,n){__p&&__p();if(!c("CSS").hasClass(n.selector,"audienceSelector"))return;var o=c("SelectorDeprecated").getOptionValue(n.option);n.value=o;c("Arbiter").inform("AudienceSelector/changed",n);if(o==c("PrivacyConst").BaseValue.CUSTOM&&!c("CSS").hasClass(n.option,"noDialog")){c("SelectorDeprecated").toggle(n.selector);return false}c("Arbiter").inform("AudienceSelector/changedNonCustomDialogButton",n);if(c("CSS").hasClass(n.selector,"dataTooltip")){var p=c("DOM").find(n.option,".itemAnchor").getAttribute("data-tooltip");c("SelectorDeprecated").setButtonTooltip(n.selector,p||null)}if(!c("CSS").hasClass(n.option,"specialOption"))return;var q=c("DOM").find(n.option,"a").getAttribute("data-type");if(c("CSS").hasClass(n.option,"moreOption")){c("CSS").addClass(n.selector,q);c("CSS").addClass(n.selector,"showSecondaryOptions");return false}else if(c("CSS").hasClass(n.option,"returnOption")){c("CSS").removeClass(n.selector,"showSecondaryOptions");c("CSS").removeClass(n.selector,"friendList");return false}});var i=function i(m,event){var n=j(m,"data-fbid-for-logging"),o=j(m,"data-adama-render-location");new(c("OldPrivacySelectorTypedLogger"))().setEvent(event).setFbid(n).setAdamaRenderLocation(o).log()},j=function j(m,n){var o=m.getAttribute(n);if(o)return o;var p=c("DOMQuery").scry(m,".uiSelectorButton")[0];return p?p.getAttribute(n):null};function k(m){var n=document.documentElement,o=m.getBoundingClientRect();return o.top>=0&&o.bottom<=(window.innerHeight||n.clientHeight)&&o.left>=0&&o.right<=(window.innerWidth||n.clientWidth)}c("SelectorDeprecated").subscribe(["open","close"],function(event,m){if(!c("CSS").hasClass(m.selector,"audienceSelector"))return;var n=c("DOMQuery").scry(m.selector,".uiSelectorMenuWrapper");if(n.length>0){var o=n[0];c("CSS").conditionClass(o,"audienceSelectorUpwards",!k(o))}var p=event==="open"?c("OldPrivacySelectorEvent").OPEN_MENU:c("OldPrivacySelectorEvent").CLOSE_MENU;i(m.selector,p)});var l={keepSynchronized:function m(n,o){h[n]||(h[n]={});h[n][o.id]=o},setHasTags:function m(n){c("AudienceSelectorTags").setHasTags(n)},getComposerInstance:function m(){var n=h["PrivacyLiteNav/audience"];if(n){var o;for(var p in n){o=n[p];return o}}return null},forceAndKeepSynchronized:function m(n,o){l.keepSynchronized(n,o);c("Arbiter").inform("AudienceSelector/update",{option:c("SelectorDeprecated").getSelectedOptions(o)[0],selector:o})},get:function m(n){if(c("CSS").hasClass(n,"audienceSelector"))return n;var o=c("DOM").scry(n,"div.audienceSelector");if(o.length!=1)return;return o[0]},setAudience:function m(n,o){var p=l.get(n);c("SelectorDeprecated").loadMenu(p,function(q){c("SelectorDeprecated").setSelected(p,o.toString());c("DynamicIconSelector").swapIcon(p);var r=c("SelectorDeprecated").getSelectedOptions(p),s=r[0]&&c("DOM").find(r[0],"a");if(s&&s.getAttribute("ajaxify"))c("AsyncRequest").bootstrap(s.getAttribute("ajaxify"),s,true);c("Arbiter").inform("AudienceSelector/changed",{option:r[0],selector:p})})}};c("Arbiter").subscribe("CustomPrivacyOptionController/update",function(m,n){__p&&__p();if(!c("CSS").hasClass(n.selector,"audienceSelector"))return;c("SelectorDeprecated").setSelected(n.selector,c("SelectorDeprecated").getOptionValue(n.option));c("DynamicIconSelector").swapIcon(n.selector);var o=c("CSS").hasClass(n.selector,"composerAudienceSelector");if(o)c("SelectorDeprecated").setButtonLabel(n.selector,n.label);c("SelectorDeprecated").setButtonTooltip(n.selector,n.tooltip);i(n.selector,c("OldPrivacySelectorEvent").CUSTOM_SAVE);c("Arbiter").inform("AudienceSelector/update",n)});c("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(m,n){if(!c("CSS").hasClass(n.selector,"audienceSelector"))return;i(n.selector,c("OldPrivacySelectorEvent").CUSTOM_CANCEL)});c("Arbiter").subscribe(["AudienceSelector/changed","AudienceSelector/update"],function(event,m){__p&&__p();var n=c("SelectorDeprecated").getOptionValue(m.option),o=null;if(n==c("PrivacyConst").BaseValue.EVERYONE)o=c("OldPrivacySelectorEvent").SELECT_EVERYONE;else if(n==c("PrivacyConst").BaseValue.FRIENDS_OF_FRIENDS)o=c("OldPrivacySelectorEvent").SELECT_FRIENDS_OF_FRIENDS;else if(n==c("PrivacyConst").BaseValue.ALL_FRIENDS)o=c("OldPrivacySelectorEvent").SELECT_FRIENDS;else if(n==c("PrivacyConst").BaseValue.FRIENDS_MINUS_ACQUAINTANCES)o=c("OldPrivacySelectorEvent").SELECT_FRIENDS_EXCEPT_ACQUIANTANCES;else if(n==c("PrivacyConst").BaseValue.SELF)o=c("OldPrivacySelectorEvent").SELECT_ONLY_ME;else if(n==c("PrivacyConst").BaseValue.CUSTOM){if(event==="AudienceSelector/changed")o=c("OldPrivacySelectorEvent").SELECT_CUSTOM}else if(n==c("PrivacyConst").BaseValue.FACEBOOK_EMPLOYEES)o=c("OldPrivacySelectorEvent").SELECT_FB_ONLY;else if(c("CSS").hasClass(m.option,"friendListOption"))o=c("OldPrivacySelectorEvent").SELECT_FRIENDLIST;else if(c("CSS").hasClass(m.option,"moreOption"))o=c("OldPrivacySelectorEvent").SELECT_SEE_ALL_LISTS;else if(c("CSS").hasClass(m.option,"returnOption"))o=c("OldPrivacySelectorEvent").SELECT_RETURN;else o=c("OldPrivacySelectorEvent").SELECT_OTHER;if(o!=null)i(m.selector,o);var p={};if(n==c("PrivacyConst").BaseValue.CUSTOM){if(event=="AudienceSelector/changed")return;p=c("CustomPrivacyOptionController").getData(m.option.id);if(!p)return}for(var q in h){var r=h[q];if(r[m.selector.id]){c("Arbiter").inform("AudienceSelector/syncNonSelectorIcon",{category:q});for(var s in r){var t=r[s];if(!t||m.selector===t)continue;if(c("SelectorDeprecated").getValue(t)!==n){c("SelectorDeprecated").setSelected(t,n);c("DynamicIconSelector").swapIcon(t)}if(n==c("PrivacyConst").BaseValue.CUSTOM){var u=c("SelectorDeprecated").getOption(t,c("PrivacyConst").BaseValue.CUSTOM+"");if(u){c("CustomPrivacyOptionController").setPrivacyData(u.id,p,n);c("SelectorDeprecated").setButtonTooltip(t,m.tooltip)}}}}}});f.exports=l}),null);
__d("ExceptionDialog",["invariant","fbt","DialogX","LayerHideOnEscape","LayerDestroyOnHide","React","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogCloseButton.react","XUIDialogFooter.react","XUIGrayText.react","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=900,k=40,l={},m={showAsyncError:function n(o){__p&&__p();try{var p=o.getErrorSummary(),q=o.getErrorDescription();o.logErrorByGroup("popup",10);if(o.silentError&&q==="")q=i._("Une erreur s\u2019est produite. Nous tentons de la r\u00e9soudre dans les plus brefs d\u00e9lais. Vous pourrez bient\u00f4t r\u00e9essayer.");if(o.error){this.errorCode=o.error;if(l[this.errorCode])return;l[this.errorCode]=true}var r=null;return m.show(p,q,r)}catch(s){alert(JSON.stringify(o))}},show:function n(o,p,q){if(p&&p.__html==null)p={__html:p};!p||!q||h(0);var r=c("getViewportDimensions").withoutScrollbars().width,s=r>0?Math.min(r-k,j):j,t=new(c("DialogX"))({width:s,addedBehaviors:[c("LayerDestroyOnHide"),c("LayerHideOnEscape")]},c("React").createElement("div",null,c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},o),c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("XUIGrayText.react"),{shade:"medium",size:"medium",dangerouslySetInnerHTML:p},q)),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogCloseButton.react"),{use:"confirm",className:"autofocus"}))));t.subscribe(["hide"],function(u){if(this.errorCode)delete l[this.errorCode]}.bind(this));t.show();return t}};f.exports=m}),null);
__d("XStickyComposerChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/privacy/sticky_composer/change/",{privacyx:{type:"String"},logging_source:{type:"String"}})}),null);
__d("PrivacySelector",["csx","Promise","regeneratorRuntime","Arbiter","ArbiterMixin","AsyncRequest","AudienceSelector","CSS","DOM","PrivacyConst","DataStore","PrivacySelectorNewDispatcher","Run","SelectorDeprecated","SubscriptionsHandler","XStickyComposerChangeController","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function k(l){"use strict";__p&&__p();j.constructor.call(this);if(l instanceof HTMLElement)this.$PrivacySelector3=l;else this.$PrivacySelector1=l;this.$PrivacySelector7=null;this.$PrivacySelector6=new(c("SubscriptionsHandler"))();this.$PrivacySelector5=new(c("SubscriptionsHandler"))();if(this.$PrivacySelector1!=null)this.$PrivacySelector8();else this.$PrivacySelector9();c("Run").onLeave(this.cleanup.bind(this))}k.prototype.select=function(l,m,n){"use strict";__p&&__p();if(l==null||m==null)throw new Error("PrivacySelector.select: you must pass in privacyParam and privacyBase");if(this.$PrivacySelector1!=null){var o=this.$PrivacySelector1;n&&this.$PrivacySelector6.addSubscriptions(o.subscribeOnce("changed",function(p,q){n&&n("changed",{post_param:q.post_param})}));o.selectOption(l)}else{n&&this.$PrivacySelector5.addSubscriptions(c("Arbiter").subscribe("AudienceSelector/changed",function(p,q){if(this.$PrivacySelector10(q.selector)){var r=c("SelectorDeprecated").getOptionValue(q.option);n&&n("changed",{privacy_base:r})}}.bind(this)));c("AudienceSelector").setAudience(this.$PrivacySelector3,m)}};k.prototype.expandFull=function(l){"use strict";if(this.$PrivacySelector1!=null)this.$PrivacySelector1.openSelectorExpanded(l);else this.expand(l)};k.prototype.expandFullAndShowFlyout=function(l){"use strict";this.expandFull(this.showFlyoutOnMenu.bind(this,l))};k.prototype.expand=function(l){"use strict";__p&&__p();if(this.$PrivacySelector1!=null)this.$PrivacySelector1.openSelector(l);else{var m=c("SelectorDeprecated").getSelectorMenu(this.$PrivacySelector3);if(!m)c("SelectorDeprecated").loadMenu(this.$PrivacySelector3,function(){l&&l()});else this.$PrivacySelector5.addSubscriptions(c("SelectorDeprecated").listen(this.$PrivacySelector3,"open",function(){l&&l();this.$PrivacySelector10(this.$PrivacySelector3)}.bind(this)));c("SelectorDeprecated").toggle(this.$PrivacySelector3,l)}};k.prototype.showFlyoutOnMenu=function(l){"use strict";__p&&__p();this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=l;var m=void 0;if(this.$PrivacySelector1!=null){m=this.$PrivacySelector1.getMenuElement();l.setOffsetY(85)}else{m=c("DOM").scry(this.$PrivacySelector3,"div.uiSelectorMenuWrapper")[0];l.setOffsetY(13)}l.setContext(m);l.show()};k.prototype.setOnClose=function(l){"use strict";this.$PrivacySelector7=l};k.prototype.cleanup=function(){"use strict";this.$PrivacySelector6.release();this.$PrivacySelector6=new(c("SubscriptionsHandler"))();this.$PrivacySelector5.release();this.$PrivacySelector5=new(c("SubscriptionsHandler"))();this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=null;this.$PrivacySelector7=null};k.prototype.disable=function(){"use strict";if(this.$PrivacySelector1!=null)this.$PrivacySelector1.disable();else c("SelectorDeprecated").setEnabled(this.$PrivacySelector3,false)};k.prototype.enable=function(){"use strict";if(this.$PrivacySelector1!=null)this.$PrivacySelector1.enable();else c("SelectorDeprecated").setEnabled(this.$PrivacySelector3,true)};k.get=function(l){"use strict";if(!l)return null;var m=k.getAdamaSelectorInstance(l);if(m)return new k(m);return new k(l)};k.genAndThen=function(l,m){"use strict";__p&&__p();var n=k.getViableIDsForSelectorFetch(l);if(!n.length)return;var o=k.$PrivacySelector12(n),p=o.then(function(q){var r=q[0],s=q[1];m(r);return[r,s]});p.done(function(q){var r=q[0],s=q[1];k.$PrivacySelector11[s]=p})};k.getViableIDsForSelectorFetch=function(l){"use strict";var m=[];if(l.id)m.push(l.id);var n=k.getDOMFromStory(l);if(n&&n.id)m.push(n.id);return m};k.$PrivacySelector12=function(l){"use strict";__p&&__p();for(var m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=k.$PrivacySelector11[q];if(r!=null)return r}return new(c("Promise"))(function s(t){__p&&__p();var u;return c("regeneratorRuntime").async(function v(w){__p&&__p();while(1)switch(w.prev=w.next){case 0:u=null;case 1:if(u=k.$PrivacySelector13(l)){w.next=6;break}w.next=4;return c("regeneratorRuntime").awrap(new(c("Promise"))(function(t){return setTimeout(t,500)}));case 4:w.next=1;break;case 6:t(u);case 7:case"end":return w.stop()}},null,this)})};k.$PrivacySelector13=function(l){"use strict";__p&&__p();for(var m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=c("DataStore").get(q,"selector");if(r)return[r,q]}return null};k.getAdamaSelectorInstance=function(l){"use strict";return k.$PrivacySelector14(l)||k.$PrivacySelector14(k.getDOMFromStory(l))};k.$PrivacySelector14=function(l){"use strict";var m=l&&l.id;if(!m)return null;return c("DataStore").get(m,"selector")};k.getDOMFromStory=function(l){"use strict";if(!l)return null;var m=c("DOM").scry(l,"._43_1")[0];if(m)return m;return c("AudienceSelector").get(l)};k.getIconFromSelectorDOM=function(l){"use strict";return c("DOM").scry(l,"i.img")[0]};k.setComposerPrivacy=function(l,m,n){"use strict";var o=c("XStickyComposerChangeController").getURIBuilder().setString("privacyx",l).setString("logging_source",n);new(c("AsyncRequest"))(o.getURI()).send();c("PrivacySelectorNewDispatcher").handleUpdateFromSelector({selector_type:c("PrivacyConst").PrivacyField.CURRENT_COMPOSER,post_param:l,unique_value:"_updateStickyComposerPrivacy"});var p=c("AudienceSelector").getComposerInstance(m);if(p)c("AudienceSelector").setAudience(p,m)};k.isFakeOrUneditableSelector=function(l){"use strict";return c("CSS").matchesSelector(l,"._2qwi")||c("CSS").matchesSelector(l,"._29ee")||c("CSS").matchesSelector(l,"._jl")||c("DOM").scry(l,"._2qwi")[0]||c("DOM").scry(l,"._29ee")[0]||c("DOM").scry(l,"._jl")[0]};k.prototype.$PrivacySelector8=function(){"use strict";var l=this.$PrivacySelector1;if(!l)return;this.$PrivacySelector6.addSubscriptions(l.subscribe("changed",function(m,n){return this.inform("changed",{post_param:n.post_param})}.bind(this)),l.subscribe("selectorFinished",function(){return this.$PrivacySelector7&&this.$PrivacySelector7()}.bind(this)))};k.prototype.$PrivacySelector9=function(){"use strict";__p&&__p();this.$PrivacySelector6.addSubscriptions(c("Arbiter").subscribe("AudienceSelector/update",function(l,m){if(this.$PrivacySelector3!==m.selector)return;var n=c("SelectorDeprecated").getOptionValue(m.option);this.inform("changed",{privacy_base:n})}.bind(this)),c("Arbiter").subscribe("AudienceSelector/changed",function(l,m){if(this.$PrivacySelector3!==m.selector)return;if(c("CSS").hasClass(m.option,"moreOption")||c("CSS").hasClass(m.option,"returnOption"))return;if(m.value!=c("PrivacyConst").BaseValue.CUSTOM)this.inform("changed",{privacy_base:m.value});else if(m.value==c("PrivacyConst").BaseValue.CUSTOM)this.$PrivacySelector4=true}.bind(this)),c("SelectorDeprecated").listen(this.$PrivacySelector3,"close",function(){if(this.$PrivacySelector4){this.$PrivacySelector4=false;return}this.$PrivacySelector7&&this.$PrivacySelector7()}.bind(this)),c("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(l,m){if(this.$PrivacySelector3!==m.selector)return;this.$PrivacySelector7&&this.$PrivacySelector7()}.bind(this)))};k.prototype.$PrivacySelector10=function(l){"use strict";if(l!=this.$PrivacySelector3)return false;this.$PrivacySelector5.release();this.$PrivacySelector5=new(c("SubscriptionsHandler"))();return true};k.$PrivacySelector11={};f.exports=k}),null);
__d("ReactComposerAttachmentActions",["ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.registerAttachment=function(i,j){"use strict";var k=babelHelpers["extends"]({composerID:i,type:c("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT},j);c("ReactComposerDispatcher").dispatch(k)};h.prototype.initializeAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").INITIALIZE_ATTACHMENT,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.selectAttachment=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments[3],m=arguments[4],n=arguments[5];"use strict";var o=c("ReactComposerAttachmentStore").getSelectedAttachmentID(i);if(!o)return;var p={composerID:i,type:c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT,id:j,activate:k,loggingName:l,currentAttachmentID:o,proxiedAttachmentID:n,sproutSurface:m};c("ReactComposerDispatcher").dispatch(p)};h.prototype.setInitialized=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_INITIALIZED,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setBootloaded=function(i,j,k,l){"use strict";var m={composerID:i,type:c("ReactComposerAttachmentActionType").SET_BOOTLOADED,id:j,attachmentModule:k,postButtonModule:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.setBootstrapped=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setAttachmentMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.changeUploadStatus=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT,uploading:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("XReactComposerLoggingODSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/logging/ods/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:true,enumType:1},event:{type:"String",required:true}})}),null);
__d("ReactComposerAttachmentLoader",["AsyncRequest","ReactComposerAttachmentActions","ReactComposerAttachmentInitState","ReactComposerAttachmentStore","ReactComposerStore","XReactComposerLoggingODSController"],(function a(b,c,d,e,f,g){__p&&__p();var h={load:function i(j,k,l,m){__p&&__p();var n=c("ReactComposerAttachmentStore").getAttachment(j,k);if(!n||n.initState===c("ReactComposerAttachmentInitState").INITIALIZED)return;c("ReactComposerAttachmentActions").setInitialized(j,k);this._logToODS(j,"bootload_start",k);l(function(o,p){this._logToODS(j,"bootload_done",k);c("ReactComposerAttachmentActions").setBootloaded(j,k,o,p)}.bind(this));this._logToODS(j,"bootstrap_start",k);new(c("AsyncRequest"))(m).setHandler(function(){this._logToODS(j,"bootstrap_done",k);setTimeout(function(){return c("ReactComposerAttachmentActions").setBootstrapped(j,k)},0)}.bind(this)).send()},_logToODS:function i(j,event,k){var l=c("XReactComposerLoggingODSController").getURIBuilder().setString("event",event).setString("attachment_type",k).setEnum("composer_type",c("ReactComposerStore").getRef(j)).getURI();new(c("AsyncRequest"))(l).send()}};f.exports=h}),null);
__d("ReactComposerAttachmentPlaceholder.react",["cx","React","XUISpinner.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c("joinClasses")(this.props.className,"_2nt-");return c("React").createElement("div",{className:l},c("React").createElement(c("XUISpinner.react"),{className:"_2nt_",size:"large"}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerAttachmentSelector.react",["cx","Image.react","Link.react","React","TooltipData","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c("joinClasses")("_4-h7"+(this.props.selected?" _5qtn":""),"fbReactComposerAttachmentSelector_"+this.props.attachmentID),n="overflow";if(this.props.enableDisplayTooltip)n=null;return c("React").createElement(c("Link.react"),babelHelpers["extends"]({onClick:this.props.onSelected,className:m,role:"tab","aria-selected":this.props.selected,"data-tooltip-delay":"500","data-tooltip-display":n},c("TooltipData").propsFor(this.props.label),this.props),c("React").createElement("span",{className:"_4-fs"},c("React").createElement(c("Image.react"),{src:this.props.icon,className:"_5qto"}),c("React").createElement("span",{className:"_5qtp"},this.props.label),c("React").createElement("span",{className:"_4-h8"})))};function l(){i.apply(this,arguments)}l.propTypes={selected:k.bool,label:k.string.isRequired,icon:k.object.isRequired,onSelected:k.func.isRequired,enableDisplayTooltip:k.bool};l.defaultProps={selected:false,enableDisplayTooltip:false};f.exports=l}),null);
__d("ReactComposerContextMixin",["ComposerEntryPointRef","React","getObjectValues"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i={contextTypes:{actorID:h.string.isRequired,composerID:h.string.isRequired,composerType:h.oneOf(c("getObjectValues")(c("ComposerEntryPointRef"))).isRequired,gks:h.object.isRequired,targetID:h.string.isRequired,jsModules:h.object,jsResources:h.object}};f.exports=i}),null);
__d("ReactComposerPostToGroupActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null,CLOSE_NUX:null,LOG_EVENT:null},"ReactComposerPostToGroupActionType")}),null);
__d("XReactComposerPostToGroupLoggingODSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/logging/post_to_group/ods/",{event:{type:"String",required:true}})}),null);
__d("ReactComposerPostToGroupStore",["AsyncRequest","ReactComposerPostToGroupActionType","ReactComposerStoreBase","XReactComposerPostToGroupLoggingODSController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isTabSelected:false,selectedGroup:null,showNux:true}},function(l){__p&&__p();switch(l.type){case c("ReactComposerPostToGroupActionType").SELECT_TAB:k&&k.$ReactComposerPostToGroupStore1(l,true);break;case c("ReactComposerPostToGroupActionType").UNSELECT_TAB:k&&k.$ReactComposerPostToGroupStore1(l,false);break;case c("ReactComposerPostToGroupActionType").UPDATE_SELECTED_GROUP:k&&k.$ReactComposerPostToGroupStore2(l);break;case c("ReactComposerPostToGroupActionType").CLOSE_NUX:k&&k.$ReactComposerPostToGroupStore3(l);break;case c("ReactComposerPostToGroupActionType").LOG_EVENT:k&&k.$ReactComposerPostToGroupStore4(l);break}});k=this}j.prototype.getIsTabSelected=function(k){"use strict";return this.getComposerData(k).isTabSelected};j.prototype.getSelectedGroup=function(k){"use strict";return this.getComposerData(k).selectedGroup};j.prototype.getSelectedGroupID=function(k){"use strict";var l=this.getComposerData(k).selectedGroup;return l?l.getUniqueID():null};j.prototype.getShowNux=function(k){"use strict";return this.getComposerData(k).showNux};j.prototype.$ReactComposerPostToGroupStore1=function(k,l){"use strict";var m=this.validateAction(k,["composerID"]),n=this.getComposerData(m);n.isTabSelected=l;this.emitChange(m)};j.prototype.$ReactComposerPostToGroupStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","group"]),m=l[0],n=l[1],o=this.getComposerData(m);o.selectedGroup=n;this.emitChange(m)};j.prototype.$ReactComposerPostToGroupStore3=function(k){"use strict";var l=this.validateAction(k,["composerID"]),m=this.getComposerData(l);m.showNux=false;this.emitChange(l)};j.prototype.$ReactComposerPostToGroupStore4=function(k){"use strict";var event=this.validateAction(k,["event"]),l=c("XReactComposerPostToGroupLoggingODSController").getURIBuilder().setString("event",event).getURI();new(c("AsyncRequest"))(l).send()};f.exports=new j()}),null);
__d("ReactComposerAttachmentSelectorContainer.react",["Arbiter","FluxContainer","React","ReactComposerAttachmentActions","ReactComposerAttachmentSelector.react","ReactComposerAttachmentStore","ReactComposerContextMixin","ReactComposerEvents","ReactComposerPostToGroupStore","emptyFunction","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ReactComposerContextMixin").contextTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ComposerAttachmentSelectorContainer1=function(){if(this.props.disableSelectAttachment||this.state.selected)return;c("ifRequired")("ReactComposerPostToGroupActions",function(q){return q.unselectTab(this.context.composerID)}.bind(this));c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,this.props.attachmentID,true,this.props.loggingName);setTimeout(function(){return c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0);if(this.props.onAfterSelected)this.props.onAfterSelected()}.bind(this),m}k.getStores=function(){"use strict";return[c("ReactComposerAttachmentStore"),c("ReactComposerPostToGroupStore")]};k.calculateState=function(l,m,n){"use strict";var o=n.composerID,p=[m.attachmentID];if(m.alternativeAttachmentIDs)p=p.concat(m.alternativeAttachmentIDs);var q=p.some(function(r){return c("ReactComposerPostToGroupStore").getIsTabSelected(o)?false:c("ReactComposerAttachmentStore").getIsAttachmentSelected(o,r)});return{selected:q}};k.prototype.render=function(){"use strict";var l=this.props.onSelected!==c("emptyFunction")?this.props.onSelected:this.$ComposerAttachmentSelectorContainer1;return c("React").createElement(c("ReactComposerAttachmentSelector.react"),babelHelpers["extends"]({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:l}))};k.defaultProps={onSelected:c("emptyFunction"),disableSelectAttachment:false,enableDisplayTooltip:false};k.contextTypes=j;f.exports=c("FluxContainer").create(k,{withContext:true,withProps:true})}),null);
__d("ReactComposerAlbumActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({CREATE_ALBUM_CLICKED:null},"ReactComposerAlbumActionType")}),null);
__d("ReactComposerHeaderType",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({NONE:"NONE",DEFAULT:"DEFAULT",SHARESHEET:"SHARESHEET",SHARING_SPACES:"SHARING_SPACES"});f.exports=h}),null);
__d("ReactComposerAudienceSelectorFunnelLogginConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"CASUAL_GROUP_PICKER_FUNNEL",SEE_NEXT_BUTTON:"SEE_NEXT_BUTTON",TAP_NEXT_BUTTON:"TAP_NEXT_BUTTON",INITIAL_GROUPS_LOAD:"INITIAL_GROUPS_LOAD",SELECTED_POST_OPTION:"SELECTED_POST_OPTION",TAP_PRIVACY_OPTION:"TAP_PRIVACY_OPTION",BACK_FROM_PRIVACY_SELECTOR:"BACK_FROM_PRIVACY_SELECTOR",TAP_CREATE_GROUP_OPTION:"TAP_CREATE_GROUP_OPTION",TAP_CANCEL_IN_CREATE_GROUP:"TAP_CANCEL_IN_CREATE_GROUP",BACK_FROM_CREATE_GROUP:"BACK_FROM_CREATE_GROUP",LOAD_MORE_GROUPS_BUTTON:"LOAD_MORE_GROUPS_BUTTON",SELECTED_GROUP:"SELECTED_GROUP",SEE_MORE_BUTTON:"SEE_MORE_BUTTON",SEE_SHARESHEET_SELECTOR:"SEE_SHARESHEET_SELECTOR",SELECT_PRIVACY_OPTION:"SELECT_PRIVACY_OPTION",TAP_POST_BUTTON:"TAP_POST_BUTTON",TAP_POST_BUTTON_ERROR:"TAP_POST_BUTTON_ERROR",TAP_POST_BUTTON_SUCCESS:"TAP_POST_BUTTON_SUCCESS",TAP_CONFIRM_CREATE_GROUP_BUTTON:"TAP_CONFIRM_CREATE_GROUP_BUTTON",TAP_CREATE_GROUP_AND_POST_BUTTON:"TAP_CREATE_GROUP_AND_POST_BUTTON",TAP_SNAP_GROUP:"TAP_SNAP_GROUP",TAP_SHARESHEET_SELECTOR:"TAP_SHARESHEET_SELECTOR",TAP_CREATE_GROUP_AND_POST_BUTTON_ERROR:"TAP_CREATE_GROUP_AND_POST_BUTTON_ERROR",PROFILE_ENTRY_POINT:"PROFILE_ENTRY_POINT",TAP_CREATE_GROUP_FROM_PROFILE:"TAP_CREATE_GROUP_FROM_PROFILE",TAP_CREATE_GROUP_FROM_PROFILE_SUCCESS:"TAP_CREATE_GROUP_FROM_PROFILE_SUCCESS",TAP_CREATE_GROUP_FROM_PROFILE_FAILURE:"TAP_CREATE_GROUP_FROM_PROFILE_FAILURE",TAP_CANCEL_IN_PROFILE_CREATE_GROUP:"TAP_CANCEL_IN_PROFILE_CREATE_GROUP"}}),null);
__d("ReactComposerAudienceStore",["csx","invariant","DOM","ReactComposerActionStore","ReactComposerAudienceActionTypes","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("ReactComposerActionStore"));k=j&&j.prototype;function l(){"use strict";__p&&__p();var m;k.constructor.call(this,function(){return{audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false,collectionID:null,privacyLabel:null}},function(n){__p&&__p();switch(n.type){case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:m&&m.$ReactComposerAudienceStore5(n);break}});m=this}l.prototype.getAudience=function(m){"use strict";__p&&__p();if(this.getPrivacyxNullDangerous(m))return null;try{var n=c("DOM").scry(c("$")(m),"._5dd8");n.length<2||i(0);var o=n[0];if(o){var p=c("DOM").scry(o,'input[name="privacyx"]');p.length<2||i(0);if(p.length===1)return p[0].value}}catch(q){}return this.getComposerData(m).audience};l.prototype.getLegacyAudience=function(m){"use strict";return this.getComposerData(m).legacyAudience};l.prototype.getAudienceElement=function(m){"use strict";return this.getComposerData(m).audienceElement};l.prototype.getAudienceInstance=function(m){"use strict";return this.getComposerData(m).audienceInstance};l.prototype.getPrivacyxNullDangerous=function(m){"use strict";return this.getComposerData(m).privacyxNullDangerous};l.prototype.getCollectionID=function(m){"use strict";return this.getComposerData(m).collectionID};l.prototype.getPrivacyLabel=function(m){"use strict";return this.getComposerData(m).privacyLabel};l.prototype.$ReactComposerAudienceStore1=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore2=function(m){"use strict";var n=this.validateAction(m,["composerID","audienceElement"]),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore3=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore4=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore5=function(m){"use strict";var n=this.validateAction(m,["composerID","collectionID"]),o=n[0],p=n[1],q=this.getComposerData(o);q.collectionID=p;q.privacyLabel=m.privacyLabel;this.emitChange(o)};f.exports=new l()}),null);
__d("ReactComposerAudienceActions",["ReactComposerAudienceActionTypes","ReactComposerDispatcher","ReactComposerAudienceStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerAudienceStore");var h={setAudience:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE,audience:k,legacyAudience:l,sourceLoggingName:m})},setAudienceWithoutLogging:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE,audience:k,legacyAudience:l,suppressWaterfallLogging:true})},setAudienceElement:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT,audienceElement:k})},setAudienceInstance:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE,audienceInstance:k})},setPrivacyxNullDangerous:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:k})},setCollectionID:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,sourceLoggingName:k,type:c("ReactComposerAudienceActionTypes").SET_COLLECTION,collectionID:l,privacyLabel:m})},setCollectionIDWithoutLogging:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,suppressWaterfallLogging:true,type:c("ReactComposerAudienceActionTypes").SET_COLLECTION,collectionID:k})}};f.exports=h}),null);
__d("ReactComposerAudienceSelector.react",["cx","DOM","PrivacySelector","React","ReactComponentWithPureRenderMixin","ReactDOM","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=1.5,k=20,l=500,m=c("React").createClass({displayName:"ReactComposerAudienceSelector",_timeout:k,_adamaHackTimeout:null,_layerHackTimeout:null,mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{audienceXHP:i.instanceOf(HTMLElement).isRequired,onChange:i.func.isRequired,viewerIsTarget:i.bool.isRequired,className:i.string},getInitialState:function n(){return{loading:true}},componentDidMount:function n(){this._setupXHPAudienceSelector()},componentWillUnmount:function n(){this._adamaHackTimeout&&clearTimeout(this._adamaHackTimeout);this._layerHackTimeout&&clearTimeout(this._layerHackTimeout)},componentDidUpdate:function n(o,p){if(this.props.audienceXHP!==o.audienceXHP)this._setupXHPAudienceSelector()},render:function n(){return c("React").createElement("div",{ref:"audienceSelector",className:c("joinClasses")("_5dd8"+(this.state.loading?" _2hio":""),this.props.className)})},_setupXHPAudienceSelector:function n(){if(this.props.viewerIsTarget)this._scheduleAdamaHack();if(this.refs&&this.refs.audienceSelector)c("DOM").setContent(c("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);else this._layerHack()},_onChange:function n(o,p){if(this.isMounted())this.props.onChange(p)},_layerHack:function n(){this._layerHackTimeout=setTimeout(function(){if(this.refs&&this.refs.audienceSelector)c("DOM").setContent(c("ReactDOM").findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);else this._layerHack()}.bind(this),100)},_scheduleAdamaHack:function n(){this._adamaHackTimeout=setTimeout(function(){var o=c("PrivacySelector").getAdamaSelectorInstance(this.props.audienceXHP);if(o){o.subscribe("changed",this._onChange);this.setState({loading:false})}else{this._timeout=Math.min(this._timeout*j,l);this._scheduleAdamaHack()}}.bind(this),this._timeout)}});f.exports=m}),null);
__d("ReactComposerCollectionsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SHOW_COLLECTION_SELECTOR:null,HIDE_COLLECTION_SELECTOR:null,SHOW_CREATION_LAYER:null,HIDE_CREATION_LAYER:null,SHOW_SHARING_SPACE_CREATION_LAYER:null,HIDE_SHARING_SPACE_CREATION_LAYER:null,SPACE_SELECTOR_LOADED:null},"ReactComposerCollectionsActionTypes")}),null);
__d("XReactComposerCollectionSelectorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/collections/selector/",{spaces_aware:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerCollectionsStore",["AsyncRequest","LoadObject","ReactComposerActionStore","ReactComposerCollectionsActionTypes","XReactComposerCollectionSelectorController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerActionStore"));i=h&&h.prototype;function j(){__p&&__p();var k;i.constructor.call(this,function(){return{collectionsLoadObject:null,isSelectorVisible:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerCollectionsActionTypes").SHOW_COLLECTION_SELECTOR:k&&k.$ReactComposerCollectionsStore1(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_COLLECTION_SELECTOR:k&&k.$ReactComposerCollectionsStore2(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore3(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore4(l);break;case c("ReactComposerCollectionsActionTypes").SHOW_SHARING_SPACE_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore5(l);break;case c("ReactComposerCollectionsActionTypes").HIDE_SHARING_SPACE_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore6(l);break}});k=this}j.prototype.loadCollections=function(k){var l=this.getComposerData(k);l.collectionsLoadObject=c("LoadObject").loading();var m=c("XReactComposerCollectionSelectorController").getURIBuilder().setBool("spaces_aware",true).getURI();new(c("AsyncRequest"))().setURI(m).setMethod("GET").setReadOnly(true).setHandler(function(n){var l=this.getComposerData(k),o={albums:n.payload.albums};if(n.payload.sharing_spaces)o.sharingSpaces=n.payload.sharing_spaces;l.collectionsLoadObject=l.collectionsLoadObject.setValue(o).done();this.emitChange(k)}.bind(this)).send()};j.prototype.addNewAlbum=function(k,l){this.$ReactComposerCollectionsStore7("albums",k,l)};j.prototype.addNewSharingSpace=function(k,l){this.$ReactComposerCollectionsStore7("sharingSpaces",k,l)};j.prototype.$ReactComposerCollectionsStore7=function(k,l,m){__p&&__p();var n=this.getCollections(l);if(!n||!n.isDone())return;var o=n.getValue();if(o==null)return;var p=o[k];if(!p)p=[];p.unshift(m);this.emitChange(l)};j.prototype.getCollections=function(k){var l=this.getComposerData(k);return l.collectionsLoadObject};j.prototype.getCollectionByID=function(k,l){var m=this.getComposerData(k),n=m.collectionsLoadObject;if(!n||!n.isDone())return null;var o=n.getValue();return o.albums&&o.albums.find(function(p){return p.id===l})||o.sharingSpaces&&o.sharingSpaces.find(function(p){return p.id===l})};j.prototype.isSelectorVisible=function(k){var l=this.getComposerData(k);return l.isSelectorVisible};j.prototype.$ReactComposerCollectionsStore1=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);if(!m.collectionsLoadObject)this.loadCollections(l);m.isSelectorVisible=true;this.emitChange(l)};j.prototype.$ReactComposerCollectionsStore2=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isSelectorVisible=false;this.emitChange(l)};j.prototype.isCreationLayerVisible=function(k){var l=this.getComposerData(k);return l.isCreationLayerVisible};j.prototype.$ReactComposerCollectionsStore3=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isCreationLayerVisible=true;this.emitChange(l)};j.prototype.$ReactComposerCollectionsStore4=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isCreationLayerVisible=false;this.emitChange(l)};j.prototype.isSharingSpaceCreationLayerVisible=function(k){var l=this.getComposerData(k);return l.isSharingSpaceCreationLayerVisible};j.prototype.$ReactComposerCollectionsStore5=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isSharingSpaceCreationLayerVisible=true;this.emitChange(l)};j.prototype.$ReactComposerCollectionsStore6=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.isSharingSpaceCreationLayerVisible=false;this.emitChange(l)};f.exports=new j()}),null);
__d("ReactComposerPrefillActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_PREFILL_DATA:null},"ReactComposerPrefillActionTypes")}),null);
__d("ReactComposerPrefillStore",["invariant","ReactComposerPrefillActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";var l;j.constructor.call(this,function(){return{prefillConfig:{}}},function(m){switch(m.type){case c("ReactComposerPrefillActionTypes").SET_PREFILL_DATA:l&&l.$ReactComposerPrefillStore1(m);break}});l=this}k.prototype.getField=function(l,m){"use strict";return this.$ReactComposerPrefillStore2(l,[m])};k.prototype.getAndEraseField=function(l,m){"use strict";return this.getAndEraseNestedField(l,[m])};k.prototype.getAndEraseNestedField=function(l,m){"use strict";m.length>0||h(0);var n=this.$ReactComposerPrefillStore2(l,m);setTimeout(function(){this.$ReactComposerPrefillStore3(l,m)}.bind(this),0);return n};k.prototype.$ReactComposerPrefillStore2=function(l,m){"use strict";var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length;o++)n=n&&n[m[o]];return n};k.prototype.$ReactComposerPrefillStore4=function(l,m){"use strict";this.$ReactComposerPrefillStore3(l,[m])};k.prototype.$ReactComposerPrefillStore3=function(l,m){"use strict";var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length-1;o++)n=n&&n[m[o]];if(n!=undefined)n[m[m.length-1]]=null};k.prototype.$ReactComposerPrefillStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","prefillConfig"]),n=m[0],o=m[1],p=this.getComposerData(n);p.prefillConfig=o||{}};f.exports=new k()}),null);
__d("ReactComposerPropsAndStoreBasedStateMixin",["invariant","ExecutionEnvironment","ReactComposerContextMixin","StoreBasedStateMixinHelper","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return{_queuedUpdates:[],mixins:[c("ReactComposerContextMixin")],getInitialState:function m(){var n=void 0;if(this.constructor.getAttachmentInitialState)n=this.constructor.getAttachmentInitialState(this.context.composerID,this.props,this.context);else n={};if(this.constructor.beforeCalculateInitialState)this.constructor.beforeCalculateInitialState(this.context.composerID,this.props,this.context);return Object.assign({},n,this.constructor.calculateState(this.context.composerID,this.props,this.context))},componentWillMount:function m(){__p&&__p();this.constructor.calculateState||h(0);this.context.composerID||h(0);this._recalculateStateID=null;var n=function(o){if(!c("ExecutionEnvironment").canUseDOM)return;if(this.isMounted()&&o.composerID===this.context.composerID)this.setState(this.constructor.calculateState(this.context.composerID,this.props,this.context));this._recalculateStateID=null;if(this._queuedUpdates.length)this._queuedUpdates.shift()()}.bind(this);this._mixin=new(c("StoreBasedStateMixinHelper"))(k);this._mixin.subscribeCallback(function(o){if(this._recalculateStateID===null)this._recalculateStateID=c("setImmediate")(n,o);else this._queuedUpdates.push(function(){this._recalculateStateID=c("setImmediate")(n,o)}.bind(this))}.bind(this))},componentWillReceiveProps:function m(n){var o=void 0;if(this.constructor.getAttachmentWillReceivePropsState)o=this.constructor.getAttachmentWillReceivePropsState(this.context.composerID,n,this.props,this.context);this.setState(Object.assign({},o||{},this.constructor.calculateState(this.context.composerID,n,this.context)))},componentWillUnmount:function m(){this._mixin.release();this._mixin=null}}};f.exports=i}),null);
__d("ReactComposerAudienceSelectorContainer.react",["csx","cx","invariant","fbt","ReactComposerAudienceActions","ReactComposerAudienceSelector.react","ReactComposerAudienceStore","ReactComposerEvents","ReactComposerLoggingName","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerPrefillStore","ReactComposerCollectionsStore","Arbiter","CSS","DOM","BackgroundImage.react","FunnelLogger","PrivacySelector","ReactComponentWithPureRenderMixin","React","TooltipData","XUIPopoverButton.react","ReactComposerAudienceSelectorFunnelLogginConstants"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=c("React").PropTypes,m=c("ReactComposerAudienceSelectorFunnelLogginConstants").FUNNEL_LOGGING_NAME,n=c("ReactComposerAudienceSelectorFunnelLogginConstants").TAP_PRIVACY_OPTION,o=c("React").createClass({displayName:"ReactComposerAudienceSelectorContainer",_prefillSubscription:null,mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAudienceStore"),c("ReactComposerStatusStore"),c("ReactComposerTaggerStore"),c("ReactComposerCollectionsStore"))],propTypes:{audienceXHP:l.instanceOf(HTMLElement),viewerIsTarget:l.bool.isRequired,className:l.string,onAudienceChanged:l.func,ignoreCollectionAudience:l.bool},statics:{beforeCalculateInitialState:function p(q,r,s){__p&&__p();var t=r.audienceXHP,u,v=c("PrivacySelector").getAdamaSelectorInstance(t);c("ReactComposerAudienceActions").setAudienceElement(q,r.audienceXHP);c("ReactComposerAudienceActions").setAudienceInstance(q,v);if(!t||!r.viewerIsTarget)return;if(v)u=v.getPostParam();var w;if(!v)w=c("DOM").scry(t,'select option[selected="1"]').pop();if(!v&&!w){var x=c("DOM").scry(t,'input[name="privacyx"]')[0];if(x)u=x.value}!!(u||w)||c("PrivacySelector").isFakeOrUneditableSelector(t)||s.actorID||j(0);c("ReactComposerAudienceActions").setAudienceWithoutLogging(q,u,w?w.value:null)},calculateState:function p(q,r){__p&&__p();if(!r.ignoreCollectionAudience){var s=c("ReactComposerAudienceStore").getCollectionID(q);if(s){var t=c("ReactComposerCollectionsStore").getCollectionByID(q,s)||c("ReactComposerPrefillStore").getField(q,"albumData");if(t)return{collectionPrivacyIcon:t.privacyIcon,collectionPrivacyLabel:t.privacyLabel,collectionOwnerName:t.ownerName}}}var u=c("ReactComposerStatusStore").getMentions(q),v=c("ReactComposerTaggerStore").getTaggerData(q,c("ReactComposerTaggerType").PEOPLE)||[],w=v.map(function(y){return{info:{type:y.getType(),uid:y.getUniqueID(),text:y.getTitle()}}}),x=c("CSS").matchesSelector(r.audienceXHP,"._43_1")?r.audienceXHP:c("DOM").scry(r.audienceXHP,"._43_1")[0];if(x!=null)c("PrivacySelector").genAndThen(x,function(y){y.informTagsChanged({withTags:w,mention:u})});return{collectionPrivacyIcon:null,collectionPrivacyLabel:null,collectionOwnerName:null}}},componentWillMount:function p(){this._handlePrefill();this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill)},componentWillUnmount:function p(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},render:function p(){if(this.state.collectionPrivacyIcon&&this.state.collectionPrivacyLabel){var q=this.state.collectionOwnerName?k._("{albumOwnerName} contr\u00f4le qui peut voir ce qui est publi\u00e9 dans cet album",[k.param("albumOwnerName",this.state.collectionOwnerName)]):null,r=c("React").createElement(c("XUIPopoverButton.react"),babelHelpers["extends"]({className:"_5dd8",disabled:true,image:c("React").createElement(c("BackgroundImage.react"),{backgroundPosition:"100% 50%",className:"_3byx",height:12,src:this.state.collectionPrivacyIcon,width:12}),label:this.state.collectionPrivacyLabel},c("TooltipData").propsFor(q)));return r}else return c("React").createElement(c("ReactComposerAudienceSelector.react"),babelHelpers["extends"]({},this.props,{onChange:this._onAudienceChanged}))},_onAudienceChanged:function p(q){if(this.props.className)c("FunnelLogger").appendAction(m,n,q.privacy_base);c("ReactComposerAudienceActions").setAudience(this.context.composerID,q.post_param,q.privacy_base,c("ReactComposerLoggingName").AUDIENCE_SELECTOR);if(this.props.onAudienceChanged)this.props.onAudienceChanged()},_handlePrefill:function p(){var q=c("ReactComposerPrefillStore").getField(this.context.composerID,"albumData");if(q&&q.albumID){c("ReactComposerCollectionsStore").loadCollections(this.context.composerID);c("ReactComposerAudienceActions").setCollectionIDWithoutLogging(this.context.composerID,q.albumID)}}});f.exports=o}),null);
__d("ReactComposerDragDropPrompt.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").PureComponent);k=j&&j.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_1y-n"},c("React").createElement("div",{className:"_1y-o"},c("React").createElement("span",{className:"_1y-p"},i._("Faites glisser un lien, des photos ou des vid\u00e9os ici")),c("React").createElement("span",{className:"_1y-q"},i._("D\u00e9poser le lien")),c("React").createElement("span",{className:"_1y-r"},i._("D\u00e9poser une photo\/vid\u00e9o")),c("React").createElement("span",{className:"_1y-s"},i._("D\u00e9posez les photos"))))};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("ReactComposerDragDropPromptLazy.react",["fbt","ComposerXDragDropUtils","DragDropTarget","ExceptionDialog","React","ReactComposerDragDropPrompt.react","ReactDOM","emptyFunction"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerDragDropPromptLazy1=undefined,this.$ReactComposerDragDropPromptLazy2=function(r){var s=c("ComposerXDragDropUtils").filterImages(r);if(s.length>0){this.props.onMediaDrop(s);return}if(r.length)this.props.onFilesDrop(r);if(r.length>1)c("ExceptionDialog").show(h._("Trop de fichiers").toString(),h._("Vous ne pouvez importer qu\u2019un seul fichier de document \u00e0 la fois.").toString())}.bind(this),n}l.prototype.componentDidMount=function(){"use strict";var m=c("ReactDOM").findDOMNode(this.props.root);this.$ReactComposerDragDropPromptLazy1=new(c("DragDropTarget"))(m).setOnFilesDropCallback(this.$ReactComposerDragDropPromptLazy2).setOnURLDropCallback(this.props.onURLDrop).enable()};l.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerDragDropPromptLazy1&&this.$ReactComposerDragDropPromptLazy1.disable()};l.prototype.render=function(){"use strict";return c("React").createElement(c("ReactComposerDragDropPrompt.react"),null)};l.propTypes={root:k.object.isRequired,onFilesDrop:k.func,onMediaDrop:k.func,onURLDrop:k.func};l.defaultProps={onFilesDrop:c("emptyFunction"),onMediaDrop:c("emptyFunction"),onURLDrop:c("emptyFunction")};f.exports=l}),null);
__d("ReactComposerSproutsSelector.react",["cx","React","ReactComposerAttachmentSelectorContainer.react"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("span",{"data-testid":this.props.dataTestID,className:"_sg1"},c("React").createElement(c("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:this.props.attachmentID,label:this.props.label,icon:this.props.icon,loggingName:this.props.loggingName,alternativeAttachmentIDs:this.props.alternativeAttachmentIDs,onSelected:this.props.onSelected,onAfterSelected:this.props.onAfterSelected}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerLiveVideoAttachmentSelector.react",["fbt","ix","Bootloader","React","ReactComposerAttachmentSelectorContainer.react","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerSproutsSelector.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=function(){if(!this.props.config||!this.props.contextConfig)return;c("Bootloader").loadModules(["LiveVideoBroadcastUtils"],function(o){o.startPreviewUI(this.props.contextConfig,this.props.config)}.bind(this),"ReactComposerLiveVideoAttachmentSelector.react")}.bind(this);if(this.props.sprouts)return c("React").createElement(c("ReactComposerSproutsSelector.react"),{attachmentID:c("ReactComposerAttachmentType").LIVE_VIDEO,loggingName:c("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,icon:i("123206"),label:this.props.label,onAfterSelected:n});return c("React").createElement(c("ReactComposerAttachmentSelectorContainer.react"),{attachmentID:c("ReactComposerAttachmentType").LIVE_VIDEO,label:this.props.label,icon:i("101619"),"data-testid":"live-video-attachment-selector",loggingName:c("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,onAfterSelected:n})};function m(){"use strict";j.apply(this,arguments)}m.propTypes={label:l.node};m.defaultProps={label:h._("Vid\u00e9o en direct")};f.exports=m}),null);
__d("ReactComposerAttachmentBodyMixin",["invariant","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextMixin","ReactComposerPropsAndStoreBasedStateMixin"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];k=k.concat(c("ReactComposerAttachmentStore"));return{mixins:[c("ReactComposerContextMixin"),c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin").apply(this,k)],statics:{beforeCalculateInitialState:function m(n,o){var p=this.getAttachmentConfig?this.getAttachmentConfig(o):o.config&&o.config.attachmentsConfig&&o.config.attachmentsConfig[this.attachmentID];c("ReactComposerAttachmentActions").registerAttachment(n,{id:this.attachmentID,selected:o.selected,active:o.prefillConfig&&o.prefillConfig.shouldActivateSelectedAttachment,config:p})},calculateState:function m(n,o){return Object.assign({selected:c("ReactComposerAttachmentStore").getIsAttachmentSelected(n,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(n,o):{})}},componentWillMount:function m(){this.constructor.attachmentID||h(0);this.constructor.attachmentID||h(0)},render:function m(){if(!this.state.selected)return null;return this.renderX()}}}f.exports=i}),null);
__d("ReactComposerLoadableAttachmentBodyMixin",["cx","invariant","React","ReactComposerAttachmentBodyMixin","ReactComposerAttachmentInitState","ReactComposerAttachmentLoader","ReactComposerAttachmentPlaceholder.react","ReactComposerAttachmentStore","ReactComposerStore"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={mixins:[c("ReactComposerAttachmentBodyMixin")(c("ReactComposerAttachmentStore"))],statics:{calculateAttachmentState:function k(l,m){var n=c("ReactComposerAttachmentStore").getAttachment(l,this.attachmentID),o=c("ReactComposerAttachmentStore").getIsAttachmentSelected(l,this.attachmentID),p=c("ReactComposerStore").isActive(l);return{composerIsActive:p,initState:n&&n.initState,attachmentModule:n&&n.module,bootstrapped:n&&n.bootstrapped,postButtonModule:n&&n.postButtonModule,isSelected:o,attachmentID:this.attachmentID}}},componentWillMount:function k(){this.constructor.attachmentID||i(0);if(this.props.selected&&this._shouldInitialize())this._initialize()},componentDidUpdate:function k(l,m){if(this.state.initState===c("ReactComposerAttachmentInitState").INITIALIZING&&this._shouldInitialize())this._initialize()},renderX:function k(){if(!this.state.attachmentModule||!this.state.bootstrapped){var l=this.getPlaceholderModule&&this.getPlaceholderModule(),m=l?l:c("ReactComposerAttachmentPlaceholder.react");return c("React").createElement(m,babelHelpers["extends"]({className:"_3rlw"},this.props))}var n=this.state.attachmentModule;return c("React").createElement(n,babelHelpers["extends"]({},this.props,{postButtonModule:this.state.postButtonModule}))},_shouldInitialize:function k(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:true},_initialize:function k(){c("ReactComposerAttachmentLoader").load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI())}};f.exports=j}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/live_video/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}})}),null);
__d("ReactComposerLiveVideoLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerLiveVideoAttachmentBootstrapController"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerLiveVideoLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],propTypes:{selected:h.bool},statics:{attachmentID:c("ReactComposerAttachmentType").LIVE_VIDEO},bootload:function j(k){c("Bootloader").loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],k,"ReactComposerLiveVideoLazyAttachment.react")},getBootstrapURI:function j(){return c("ActorURI").create(c("XReactComposerLiveVideoAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setEnum("composer_type",this.context.composerType).setInt("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=i}),null);
__d("CollageLayoutConfig",[],(function a(b,c,d,e,f,g){__p&&__p();var h=4;function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?h:arguments[2],m=arguments[3];"use strict";this.$CollageLayoutConfig2=l;this.$CollageLayoutConfig3=k;this.$CollageLayoutConfig5=m;this.$CollageLayoutConfig6(j)}i.prototype.getItemStyleInfos=function(){"use strict";return this.$CollageLayoutConfig1};i.prototype.getIndexForPoint=function(j,k){"use strict";var l=this.$CollageLayoutConfig1.findIndex(function(m){return m.left<=j&&m.top<=k&&m.left+m.width>=j&&m.top+m.height>=k});return l===-1?null:l};i.prototype.getCalculatedHeight=function(){"use strict";return this.$CollageLayoutConfig4};i.prototype.getSpacing=function(){"use strict";return this.$CollageLayoutConfig2};i.prototype.getWidth=function(){"use strict";return this.$CollageLayoutConfig3};i.prototype.$CollageLayoutConfig6=function(j){"use strict";__p&&__p();var k=this.$CollageLayoutConfig7(j),l=this.$CollageLayoutConfig8(j),m=this.$CollageLayoutConfig2*(l-1),n=Math.ceil((this.$CollageLayoutConfig3-m)/l);this.$CollageLayoutConfig4=this.$CollageLayoutConfig5||(n+this.$CollageLayoutConfig2)*k-this.$CollageLayoutConfig2;var o=this.$CollageLayoutConfig2*(k-1),p=Math.ceil((this.$CollageLayoutConfig4-o)/k);this.$CollageLayoutConfig1=[];j.forEach(function(q){var r={left:(n+this.$CollageLayoutConfig2)*q.x,top:(p+this.$CollageLayoutConfig2)*q.y,width:(n+this.$CollageLayoutConfig2)*q.width-this.$CollageLayoutConfig2,height:(p+this.$CollageLayoutConfig2)*q.height-this.$CollageLayoutConfig2};if(r.left+r.width>this.$CollageLayoutConfig3)r.width=this.$CollageLayoutConfig3-r.left;this.$CollageLayoutConfig1.push(r)}.bind(this))};i.prototype.$CollageLayoutConfig8=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.x+l.width)});return k};i.prototype.$CollageLayoutConfig7=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.y+l.height)});return k};f.exports=i}),null);
__d("ReactComposerCollageLayoutActor",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USER:1,PAGE:2})}),null);
__d("ReactComposerMediaAspectTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"})}),null);
__d("ReactComposerMediaAspect",["ReactComposerMediaAspectTypes"],(function a(b,c,d,e,f,g){"use strict";f.exports={fromRect:function h(i){return this._fromWidthAndHeight(i.w(),i.h())},fromDimensions:function h(i){return this._fromWidthAndHeight(i[0],i[1])},_fromWidthAndHeight:function h(i,j){if(i>j)return c("ReactComposerMediaAspectTypes").LANDSCAPE;else if(i<j)return c("ReactComposerMediaAspectTypes").PORTRAIT;else return c("ReactComposerMediaAspectTypes").SQUARE}}}),null);
__d("ReactComposerCollageLayoutModel",["regeneratorRuntime","ReactComposerCollageLayoutActor","ReactComposerMediaAspect"],(function a(b,c,d,e,f,g){__p&&__p();var h=[i,j].map(c("regeneratorRuntime").mark);"use strict";function i(l,m){__p&&__p();var n,o;return c("regeneratorRuntime").wrap(function p(q){__p&&__p();while(1)switch(q.prev=q.next){case 0:n=l.next();o=m.next();if(!(n.done||o.done)){q.next=5;break}return q.abrupt("break",9);case 5:q.next=7;return[n.value,o.value];case 7:q.next=0;break;case 9:case"end":return q.stop()}},h[0],this)}function j(l){__p&&__p();var m,n,o,p,q;return c("regeneratorRuntime").wrap(function r(s){__p&&__p();while(1)switch(s.prev=s.next){case 0:m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!n){s.next=7;break}if(!(o>=m.length)){s.next=4;break}return s.abrupt("break",16);case 4:p=m[o++];s.next=11;break;case 7:o=m.next();if(!o.done){s.next=10;break}return s.abrupt("break",16);case 10:p=o.value;case 11:q=p;s.next=14;return q;case 14:s.next=1;break;case 16:case"end":return s.stop()}},h[1],this)}function k(l,m){"use strict";this.$ReactComposerCollageLayoutModel1=!!(l&c("ReactComposerCollageLayoutActor").USER);this.$ReactComposerCollageLayoutModel2=!!(l&c("ReactComposerCollageLayoutActor").PAGE);this.$ReactComposerCollageLayoutModel3=[];if(m)this.addPhotoLayouts(m)}k.prototype.addPhotoLayout=function(l){"use strict";this.$ReactComposerCollageLayoutModel3.push(l);return this};k.prototype.addPhotoLayouts=function(l){"use strict";l.forEach(function(m){return this.$ReactComposerCollageLayoutModel3.push(m)}.bind(this));return this};k.prototype.getNumPhotoLayouts=function(){"use strict";return this.$ReactComposerCollageLayoutModel3.length};k.prototype.getPhotoLayouts=function(){"use strict";return this.$ReactComposerCollageLayoutModel3};k.prototype.getIsValidForPages=function(){"use strict";return this.$ReactComposerCollageLayoutModel2};k.prototype.getIsValidForUsers=function(){"use strict";return this.$ReactComposerCollageLayoutModel1};k.prototype.getIsValidFor=function(l){"use strict";switch(l){case c("ReactComposerCollageLayoutActor").USER:return this.getIsValidForUsers();case c("ReactComposerCollageLayoutActor").PAGE:return this.getIsValidForPages()}return false};k.prototype.hasMatchingCollagePhotoLayoutType=function(l){"use strict";var m=c("ReactComposerMediaAspect").fromRect(this.$ReactComposerCollageLayoutModel3[0]),n=c("ReactComposerMediaAspect").fromDimensions(l);return m===n};k.prototype.score=function(l){"use strict";__p&&__p();var m=0;for(var n=i(j(this.getPhotoLayouts()),l.values()),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=r[0],t=r[1];if(!t)continue;var u=s.w(),v=s.h(),w=t[0],x=t[1],y=0;if(w===0||x===0)y=0;else if(u*x/w>=v){var z=u*x/w;y=(z-v)/z}else if(v*w/x>u){var A=v*w/x;y=(A-u)/A}m-=y*100;if(x===w)m-=y*5;else if(u>v)if(w>x)m+=y*25;else m-=y*25;else if(u<v)if(w<x)m+=y*25;else m-=y*25;else if(u===v)m-=y*5}m+=200*this.getNumPhotoLayouts();return m};f.exports=k}),null);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerJSONCollageLayoutData","Rect"],(function a(b,c,d,e,f,g){"use strict";var h=[];Object.keys(c("ReactComposerJSONCollageLayoutData")).forEach(function(i){c("ReactComposerJSONCollageLayoutData")[i].forEach(function(j){h.push(new(c("ReactComposerCollageLayoutModel"))(j.validActors,j.photoLayouts.map(function(k){return new(Function.prototype.bind.apply(c("Rect"),[null].concat(k)))()})))})});f.exports=h}),null);
__d("ReactComposerCollageLayoutSelection",["FBIDCheck","Map","ReactComposerCollageLayoutActor","ReactComposerCollageLayoutData"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function h(i){return c("ReactComposerCollageLayoutData").filter(function(j){return j.getIsValidFor(i)})},getMaxPhotosSupported:function h(){return Math.max.apply(Math,c("ReactComposerCollageLayoutData").map(function(i){return i.getNumPhotoLayouts()}))},getMaxPhotosSupportedFor:function h(i){return Math.max.apply(Math,this._getCollageLayoutsFor(i).map(function(j){return j.getNumPhotoLayouts()}))},getCollageLayout:function h(i,j){if(!j)return this.getBestUserCollageLayout(i);var k=c("FBIDCheck").isUser_deprecated(j)?this.getBestUserCollageLayout(i):this.getBestPageCollageLayout(i);return k},getBestPageCollageLayout:function h(i){__p&&__p();if(i.size==0)return new(c("Map"))();var j=i.values().next().value,k=Math.min(this.getMaxPhotosSupportedFor(c("ReactComposerCollageLayoutActor").PAGE),i.size),l=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").PAGE).filter(function(x){return x.getNumPhotoLayouts()===k});if(!l.length)throw new Error("no valid layout for these media");var m=l.filter(function(x){return x.hasMatchingCollagePhotoLayoutType(j)});if(!m.length)throw new Error("no valid layout for these media starts with a suitable aspect");var n=m[0],o=new(c("Map"))(),p=0,q=n.getPhotoLayouts();for(var r=i.keys(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=q[p++];if(w)o.set(v,w)}return o},getBestUserCollageLayout:function h(i){__p&&__p();var j=this._getCollageLayoutsFor(c("ReactComposerCollageLayoutActor").USER).filter(function(u){return u.getNumPhotoLayouts()<=i.size});if(!j.length)throw new Error("no valid layout for these media");var k=this._bestLayoutByScore(j,i);if(!k)throw new Error("no best layout? Should not happen!");var l=new(c("Map"))(),m=0,n=k.getPhotoLayouts();for(var o=i.keys(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r,t=n[m++];if(t)l.set(s,t)}return l},_bestLayoutByScore:function h(i,j){var k=i.map(function(n){return[n,n.score(j)]}),l=k.reduce(function(n,o){var p=n[0],q=n[1],r=o[0],s=o[1];return q===null||s>q?[r,s]:[p,q]},[null,null]),m=l[0];return m}}}),null);
__d("ReactComposerCollageUtils",["CollageLayoutConfig","Map","ReactComposerCollageLayoutSelection"],(function a(b,c,d,e,f,g){__p&&__p();var h={extractDimensionDataIfValid:function i(j){__p&&__p();var k=true,l=new(c("Map"))();j.forEach(function(m){if(!m.width||!m.height){k=false;return}var n=m.width,o=m.height;if(m.isSpherical)n=o;l.set(m.id,[n,o])});return k?l:null},getCollageLayout:function i(j){__p&&__p();if(!j||j.size<2)return[];var k=h.extractDimensionDataIfValid(j);if(!k)return[];var l=c("ReactComposerCollageLayoutSelection").getBestUserCollageLayout(k);if(!l)return[];var m=[];for(var n=k.keys(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=l.get(r);if(!s)return[];m.push({x:s.l,y:s.t,width:s.w(),height:s.h()})}return m},getCollageLayoutConfig:function i(j,k){var l=j.filter(function(n){return n.width&&n.height}),m=h.getCollageLayout(l);return new(c("CollageLayoutConfig"))(m,k)},getSingleItemStyleInfo:function i(j,k){var l=[],m=k,n=j.width/j.height;if(j.isSpherical)n=1;if(n>1)m=k/n;else k=n*m;l.push({left:0,top:0,width:k,height:m});return l}};f.exports=h}),null);
__d("ReactComposerMediaFilePickerController.react",["fbt","Bootloader","ReactComposerAttachmentStore","ComposerTargetData","CurrentUser","FileInput.react","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerContextMixin","ReactComposerLoggingName","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerMediaFilePickerController",mixins:[c("ReactComposerContextMixin"),c("ReactComponentWithPureRenderMixin")],propTypes:{loggingName:i.oneOf(Object.values(c("ReactComposerLoggingName"))).isRequired,disableFaceRecognition:i.bool.isRequired,mediaAcceptParam:i.shape({photos:i.string,both:i.string}).isRequired,photoLimit:i.number.isRequired,targetData:i.instanceOf(c("ComposerTargetData")).isRequired,mediaConfig:i.object.isRequired,containerClassName:i.string,onClick:i.func,onFilesSelected:i.func,display:c("FileInput.react").propTypes.display,webDriverTestID:i.string},getDefaultProps:function k(){return{disableFaceRecognition:false,display:"inline"}},render:function k(){return c("React").createElement(c("FileInput.react"),{accept:this.props.mediaAcceptParam.both,containerClassName:this.props.containerClassName,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:"composer_photo[]",display:this.props.display,onChange:this._onFilesSelected,onClick:this._onFileInputClick,ref:"fileInput",role:"button",tabIndex:"0","data-testid":this.props.webDriverTestID},this.props.children)},_onFileInputClick:function k(event){c("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,c("ReactComposerAttachmentType").MEDIA);c("Bootloader").loadModules(["ReactComposerLoggingActions"],function(l){l.mediaUploadInputClicked(this.context.composerID,this.props.loggingName)}.bind(this),"ReactComposerMediaFilePickerController.react");this.props.onClick&&this.props.onClick(event)},_validFileTypes:function k(l){if(!this.props.mediaAcceptParam.both)return true;var m=this.props.mediaAcceptParam.both.replace(/,\s*/g,"|").replace(/\*/g,".*");m="^("+m+")$";var n=new RegExp(m,"i");for(var o=0;o<l.length;++o)if(l[o].type&&!n.test(l[o].type))return false;return true},_onFilesSelected:function k(event){__p&&__p();event.persist&&event.persist();this.props.onFilesSelected&&this.props.onFilesSelected();var l=this.refs.fileInput.getFileInput();if(!this._validFileTypes(l.input.files)){c("Bootloader").loadModules(["Dialog"],function(m){__p&&__p();var n=h._("Type de fichier non valide"),o=void 0;if(l.input.files.length&&l.input.files[0].type)o=h._("{file type} n\u2019est pas autoris\u00e9, veuillez importer une image (JPG, PNG, GIF ou TIFF) ou une vid\u00e9o d\u2019un des types suivants\u00a0:",[h.param("file type",l.input.files[0].type)]);else o=h._("Le fichier que vous avez s\u00e9lectionn\u00e9 est interdit, veuillez importer une image (JPG, PNG, GIF ou TIFF) ou une vid\u00e9o d\u2019un des types suivants\u00a0:");var p=void 0;if(c("CurrentUser").isWorkUser())p=new(c("URI"))().setProtocol("https").setDomain(document.location.hostname).setPath("/help/work/885144448260143").toString();else p="https://www.facebook.com/help/218673814818907";var q=h._("Quels formats de fichiers vid\u00e9o puis-je t\u00e9l\u00e9charger\u00a0?");q=typeof q==="string"?q.replace(/\"/g,"&#39;"):"";var r='<a href="'+p+'" title="'+q+'" target="_blank">'+p+"</a>";new m().setTitle(n).setButtons(m.OK).setBody(o.toString()+" "+r).setSemiModal(true).show()},"ReactComposerMediaFilePickerController.react");return}c("Bootloader").loadModules(["ReactComposerPhotoUploader","ReactComposerMediaUtils","ReactComposerLoggingActions"],function(m,n,o){var p=n.handleSpecialMediaUpload(event,l,this.props.mediaConfig,this.context);if(!p){var q=new m(this.context,this.props.photoLimit,{disableFaceRecognition:this.props.disableFaceRecognition});if(!c("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,c("ReactComposerAttachmentType").MEDIA)&&!c("ReactComposerAttachmentStore").getIsAttachmentSelected(this.context.composerID,c("ReactComposerAttachmentType").TASK))c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").MEDIA,true,this.props.loggingName);n.uploadPhotosOrVideoFromTarget(this.context.composerID,event.target,q,this.props.targetData.targetSupportsMultiplePhotos,this.props.targetData.targetSupportsMultiMedia)}o.mediaUploadInputDone(this.context.composerID,this.props.loggingName);n.clearInput(l,!p)}.bind(this),"ReactComposerMediaFilePickerController.react")}});f.exports=j}),null);
__d("ReactComposerStatusActions",["ReactComposerDispatcher","ReactComposerStatusActionType","ReactComposerStatusStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerStatusStore");h.prototype.setMentionsSource=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_MENTIONS_SOURCE,mentionsSource:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTypeaheadReporter=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER,typeaheadReporter:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setEditorState=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_EDITOR_STATE,editorState:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setOriginalEditorState=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE,originalEditorState:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setMentions=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerStatusActionType").SET_MENTIONS,mentions:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTextLength=function(i,j){"use strict";c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerStatusActionType").SET_TEXT_LENGTH,textLength:j})};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerEventAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({EVENT_ATTACHMENT_ENABLED:null,FETCH_EVENT_ATTACHMENT:null,SET_EVENT_MARKUP:null},"ReactComposerEventAttachmentActionType")}),null);
__d("XReactComposerEventAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/event/attachment/",{composer_id:{type:"String",required:true},event_id:{type:"String",required:true}})}),null);
__d("ReactComposerEventAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerEventAttachmentActionType","ReactComposerStoreBase","XReactComposerEventAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k;i.constructor.call(this,function(){return{eventID:null,isEnabled:false,isFetching:false,isTimeline:false,markup:null,pendingRequest:null}},function(l){switch(l.type){case c("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED:k&&k.$ReactComposerEventAttachmentStore1(l);break;case c("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT:k&&k.$ReactComposerEventAttachmentStore2(l);break;case c("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP:k&&k.$ReactComposerEventAttachmentStore3(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerEventAttachmentStore4(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getEventID=function(k){"use strict";return this.getComposerData(k).eventID};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.hasAttachment=function(k){"use strict";return this.getComposerData(k).markup!=null};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerEventAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerEventAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","eventID"]),m=l[0],n=l[1];if(!this.isEnabled(m))return;var o=this.getComposerData(m);o.isFetching=true;var p=c("XReactComposerEventAttachmentController").getURIBuilder().setString("composer_id",m).setString("event_id",n).getURI();o.pendingRequest=new(c("AsyncRequest"))(p).setFinallyHandler(function(){o.isFetching=false;o.pendingRequest=null;this.emitChange(m)}.bind(this));o.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerEventAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","eventID","markup"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.markup=o;p.eventID=n;this.emitChange(m)};j.prototype.$ReactComposerEventAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1];if(n===c("ReactComposerAttachmentType").STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerFormattedTextActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({SET_TEXT_FORMATS:null,SET_TEXT_FORMATS_TO_UNBADGE:null,SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null},"ReactComposerFormattedTextActionType")}),null);
__d("ReactComposerFormattedTextStore",["ReactComposerFormattedTextActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();i.constructor.call(this,function(){return{formattedTextPickerCollapsed:false,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:false,shouldFadeInPicker:false,textFormats:null,textFormatsToUnbadge:{}}},function(k){__p&&__p();switch(k.type){case c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore1(k);break;case c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore2(k);break;case c("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:this&&this.$ReactComposerFormattedTextStore3(k);break;case c("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER:this&&this.$ReactComposerFormattedTextStore4(k);break;case c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS:this&&this.$ReactComposerFormattedTextStore5(k);break;case c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS_TO_UNBADGE:this&&this.$ReactComposerFormattedTextStore6(k);break;case c("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED:this&&this.$ReactComposerFormattedTextStore7(k);break}}.bind(this))}j.prototype.getTrackingString=function(k){var l=this.$ReactComposerFormattedTextStore8(this.getSelectedIndex(k),this.getComposerData(k).textFormats);if(l===null)l=this.$ReactComposerFormattedTextStore8(this.getPrevSelectedIndex(k),this.getComposerData(k).textFormats);return l!=null?l.trackingString:null};j.prototype.getTextFormatPresetID=function(k){return this.getComposerData(k).textFormatPresetID};j.prototype.getPrevSelectedTextFormatPresetID=function(k){return this.$ReactComposerFormattedTextStore9(this.getPrevSelectedIndex(k),this.getComposerData(k).textFormats)};j.prototype.getBackgroundColorIsActive=function(k){return this.getComposerData(k).selectedIndex>-1};j.prototype.getSelectedIndex=function(k){return this.getComposerData(k).selectedIndex};j.prototype.getPrevSelectedIndex=function(k){return this.getComposerData(k).prevSelectedIndex};j.prototype.getShouldAutoOpenWhenUserStartsTyping=function(k){return this.getComposerData(k).shouldAutoOpenWhenUserStartsTyping};j.prototype.getShouldFadeInPicker=function(k){return this.getComposerData(k).shouldFadeInPicker};j.prototype.getCollapsed=function(k){return this.getComposerData(k).formattedTextPickerCollapsed};j.prototype.getTextFormatsToUnbadge=function(k){return this.getComposerData(k).textFormatsToUnbadge};j.prototype.$ReactComposerFormattedTextStore1=function(k){var l=this.validateAction(k,["composerID","selectedIndex"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatPresetID=this.$ReactComposerFormattedTextStore9(n,o.textFormats);o.selectedIndex=n;o.prevSelectedIndex=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore2=function(k){var l=this.validateAction(k,["composerID","selectedIndex"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatPresetID=this.$ReactComposerFormattedTextStore9(n,o.textFormats);o.selectedIndex=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore3=function(k){var l=this.validateAction(k,["composerID","shouldAutoOpenWhenUserStartsTyping"]),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldAutoOpenWhenUserStartsTyping=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore4=function(k){var l=this.validateAction(k,["composerID","shouldFadeInPicker"]),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldFadeInPicker=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore5=function(k){var l=this.validateAction(k,["composerID","textFormats"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormats=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore6=function(k){var l=this.validateAction(k,["composerID","textFormatsToUnbadge"]),m=l[0],n=l[1],o=this.getComposerData(m);o.textFormatsToUnbadge=n;this.emitChange(m)};j.prototype.$ReactComposerFormattedTextStore7=function(k){var l=this.validateAction(k,"composerID"),m=this.getComposerData(l);m.formattedTextPickerCollapsed=!m.formattedTextPickerCollapsed;this.emitChange(l)};j.prototype.$ReactComposerFormattedTextStore9=function(k,l){var m=this.$ReactComposerFormattedTextStore8(k,l);if(m&&m.presetID)return m.presetID;return null};j.prototype.$ReactComposerFormattedTextStore8=function(k,l){if(k!=null&&k!==-1&&l&&Object.prototype.hasOwnProperty.call(l,k))return l[k];return null};f.exports=new j()}),null);
__d("ReactComposerFormattedTextActions",["ReactComposerDispatcher","ReactComposerFormattedTextActionType","ReactComposerFormattedTextStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("ReactComposerFormattedTextStore");h.prototype.setSelectedIndex=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX,selectedIndex:j})};h.prototype.setSelectedIndexButNotPrevSelectedIndex=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:j})};h.prototype.setShouldAutoOpenWhenUserStartsTyping=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:j})};h.prototype.setShouldFadeInPicker=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:j})};h.prototype.setTextFormats=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS,textFormats:j})};h.prototype.setTextFormatsToUnbadge=function(i,j){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").SET_TEXT_FORMATS_TO_UNBADGE,textFormatsToUnbadge:j})};h.prototype.toggleCollapsed=function(i){c("ReactComposerDispatcher").dispatch({composerID:i,type:c("ReactComposerFormattedTextActionType").TOGGLE_COLLAPSED})};function h(){}f.exports=new h()}),null);
__d("ReactComposerFormattedTextPickerComponent.react",["cx","Grid.react","Link.react","Locale","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Grid.react").GridItem,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.$ReactComposerFormattedTextPickerComponent1=function(n){this.props.onSelect&&this.props.onSelect(n)};m.prototype.$ReactComposerFormattedTextPickerComponent2=function(){__p&&__p();var n=[];for(var o=m.NO_BG_COLOR;o<this.props.textFormats.length;o++){var p=null;if(this.props.noSproutDesign){var q=m.DEFAULT_SWATCH_SIZE,r=this.props.biggerSwatches?40:q,s=this.props.collapsed?-q:(o+1)*r;if(c("Locale").isRTL())s=-s;var t=this.props.collapsed?.01:1;p={opacity:t,transform:"translateX("+s+"px)"}}var u=this.props.badgingEnabled&&o!==m.NO_BG_COLOR&&this.props.textFormats[o].shouldBadge&&(this.props.textFormatsToUnbadge==null||this.props.textFormatsToUnbadge[this.props.textFormats[o].presetID]!==true)&&o!==this.props.selectedIndex&&!this.props.collapsed?c("React").createElement("div",{className:"_3eyp"}):null,v=c("React").createElement(k,{key:o+2,style:p,className:this.props.noSproutDesign?"_4ydj":""},c("React").createElement("div",{className:o===this.props.selectedIndex?"_4ydk":""},c("React").createElement(c("Link.react"),{tabIndex:this.props.collapsed?-1:null,href:"#",onClick:o===this.props.selectedIndex?null:this.$ReactComposerFormattedTextPickerComponent1.bind(this,o)},c("React").createElement("div",{className:"_2j78"+(o===this.props.selectedIndex?" _4ydl":"")+(o===m.NO_BG_COLOR?" _23ju":"")+(this.props.collapsed?" _4vb-":"")+(this.props.biggerSwatches?" _4vc0":""),style:o===m.NO_BG_COLOR?null:this.props.textFormats[o].swatchStyle}),u)));n.push(v)}return n};m.prototype.$ReactComposerFormattedTextPickerComponent3=function(){return c("React").createElement(k,{key:0,className:(this.props.noSproutDesign?"_469m":"")+" _w4h"},c("React").createElement(c("Link.react"),{href:"#",onClick:this.props.onToggle},c("React").createElement("div",{className:"_4vc1"+(this.props.collapsed?" _2j7a":"")+(this.props.biggerSwatches?" _4vc2":"")},c("React").createElement("div",{className:!this.props.collapsed?"_2j7b":""}))))};m.prototype.render=function(){var n=this.props.noSproutDesign?this.$ReactComposerFormattedTextPickerComponent3():null,o=this.$ReactComposerFormattedTextPickerComponent2(),p=n===null?o.length:o.length+1;return c("React").createElement(c("Grid.react"),{cols:p,role:"presentation",className:"_23jv"+(this.props.suppressTransition?" _3oia":"")+(this.props.hidden?" _akr":"")+(this.props.noSproutDesign?" _2j7c":"")},n,o)};function m(){i.apply(this,arguments)}m.NO_BG_COLOR=-1;m.DEFAULT_SWATCH_SIZE=28;m.propTypes={biggerSwatches:l.bool,collapsed:l.bool,hidden:l.bool,noSproutDesign:l.bool,onSelect:l.func.isRequired,onToggle:l.func,selectedIndex:l.number,suppressTransition:l.bool,textFormats:l.arrayOf(l.object).isRequired,textFormatsToUnbadge:l.object};f.exports=m}),null);
__d("ReactComposerFormattedTextUtils",["Base64"],(function a(b,c,d,e,f,g){var h={createUserSpecificStorageName:function i(j){return"composerTextFormat/"+j},encodeForLocalStorage:function i(j){return c("Base64").encodeObject(j)},decodeFromLocalStorage:function i(j){return c("Base64").decodeObject(j)}};f.exports=h}),null);
__d("SATPPresetCollection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA:"CAMERA",COMMENTS:"COMMENTS",COMPOSER_TOP:"COMPOSER_TOP",COMPOSER_DEFAULT:"COMPOSER_DEFAULTS",COMPOSER_ALL:"COMPOSER_ALL",LISTS:"LISTS"})}),null);
__d("XStickyFormattedTextController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sticky_formatted_text/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerFormattedTextPickerContainerMixin",["invariant","Arbiter","AsyncRequest","ReactComposerAttachmentStore","ReactComposerEventAttachmentStore","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextStore","ReactComposerFormattedTextUtils","ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerPostToGroupStore","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerEligibilityUtils","SATPInteractionsTypedLogger","SATPPresetCollection","WebStorage","XStickyFormattedTextController","bind"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=true,j={_prefillSubscription:undefined,mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerEventAttachmentStore"),c("ReactComposerFormattedTextStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerMinutiaeAttachmentStore"),c("ReactComposerPostToGroupStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerStatusStore"),c("ReactComposerStore"),c("ReactComposerTaggerStore"))],statics:{beforeCalculateInitialState:function k(l,m,n){__p&&__p();if(i){c("ReactComposerFormattedTextActions").setSelectedIndex(l,m.defaultFormat!=null?m.defaultFormat:c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);if(m.shouldAutoOpenWhenUserStartsTyping)c("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(l,m.shouldAutoOpenWhenUserStartsTyping)}if(m.badgingEnabled)try{var o=c("WebStorage").getLocalStorage(),p=c("ReactComposerFormattedTextUtils").createUserSpecificStorageName(n.actorID),q=o&&o.getItem(p);if(q!=="undefined"&&q!=null)c("ReactComposerFormattedTextActions").setTextFormatsToUnbadge(l,c("ReactComposerFormattedTextUtils").decodeFromLocalStorage(q))}catch(r){}if(m.stickyStylesEnabled&&!i){var s=c("XStickyFormattedTextController").getURIBuilder().setBool("is_set",false).getURI();new(c("AsyncRequest"))().setURI(s).setHandler(c("bind")(this,function(t){if(t&&t.payload&&t.payload.index!=null){var u=t.payload.index;if(u===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&!t.payload.hasUserUnformattedText)u=m.defaultFormat!=null?m.defaultFormat:c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;c("ReactComposerFormattedTextActions").setSelectedIndex(l,u)}})).send()}},calculateState:function k(l,m){var n=c("ReactComposerTaggerEligibilityUtils").isSATPEligible(l,m),o=c("ReactComposerTaggerStore").getSelectedTagger(l)===this.taggerID;return{isSelected:o,canUseFormattedText:n,collapsed:c("ReactComposerFormattedTextStore").getCollapsed(l),fadingInPicker:c("ReactComposerFormattedTextStore").getShouldFadeInPicker(l),prevSelectedIndex:c("ReactComposerFormattedTextStore").getPrevSelectedIndex(l),selectedIndex:c("ReactComposerFormattedTextStore").getSelectedIndex(l),shouldAutoOpenWhenUserStartsTyping:c("ReactComposerFormattedTextStore").getShouldAutoOpenWhenUserStartsTyping(l),shouldDisplay:n&&(m.noSproutDesign||o),taggerData:c("ReactComposerTaggerStore").getTaggerData(l,this.taggerID),taggerSource:c("ReactComposerTaggerStore").getTaggerSource(l,this.taggerID),textFormatsToUnbadge:c("ReactComposerFormattedTextStore").getTextFormatsToUnbadge(l)}}},handleSaveStickyPreset:function k(l){if(!this.props.stickyStylesEnabled)return;var m=c("XStickyFormattedTextController").getURIBuilder().setString("preset_id",l===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR?0:c("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID)).setBool("is_set",true).getURI();new(c("AsyncRequest"))().setMethod("POST").setURI(m).send()},componentWillMount:function k(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this.constructor.taggerID||h(0)},componentDidMount:function k(){__p&&__p();if(i){if(this.props.autoOpen)setTimeout(function(){__p&&__p();c("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,true);if(c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===null)c("ReactComposerTaggerActions").selectTaggerWithoutLogging(this.context.composerID,this.constructor.taggerID);for(var l=this.props.textFormats,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;new(c("SATPInteractionsTypedLogger"))().setTrackingString(p.trackingString).setUserActionString("impression").setPresetID(p.presetID).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log()}}.bind(this),0);i=false}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},_handlePrefill:function k(){var l=c("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);if(l)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,l)}};f.exports=j}),null);
__d("ReactComposerTaggerButton.react",["cx","React","Tooltip.react","TooltipLink.react","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerTaggerButton",propTypes:{taggerID:i.string.isRequired,title:i.string,tooltip:i.string,selected:i.bool,hasData:i.bool,onSelect:i.func,suppressTaggerLink:i.bool},getDefaultProps:function k(){return{title:null,tooltip:null,selected:false,hasData:false,onSelect:c("emptyFunction"),suppressTaggerLink:false}},render:function k(){var l="_3xem"+(this.props.selected?" _50hx":""),m=c("joinClasses")("_2vwi"+(this.props.hasData?" _6xe":""),this.props.className),n=this.props.suppressTaggerLink?c("Tooltip.react"):c("TooltipLink.react");return c("React").createElement(n,{onClick:this._onSelect,"data-testid":"testid-"+this.props.taggerID,tooltip:this.props.tooltip,"data-tooltip-content":this.props.tooltip,className:l,href:"#",role:"button"},c("React").createElement("span",{className:"accessible_elem"},this.props.title),c("React").createElement("div",{className:m}),this.props.children)},_onSelect:function k(){this.props.onSelect&&this.props.onSelect(this.props.taggerID)}});f.exports=j}),null);
__d("ReactComposerTaggerButtonMixin",["cx","invariant","React","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function k(l,m){var n=c("ReactComposerTaggerStore").getSelectedTagger(l);return{selected:n===this.taggerID,hasData:c("ReactComposerTaggerStore").hasData(l,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(l,this.taggerID),showTooltip:c("ReactComposerTaggerStore").shouldShowTooltip(l,this.taggerID),shouldHide:c("ReactComposerTaggerStore").isDisabled(l,this.taggerID)}}},componentWillMount:function k(){this.constructor.taggerID||i(0)},render:function k(){if(this.state.shouldHide)return null;var l=this.getRef?this.getRef():"";return c("React").createElement("div",{className:"uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:l,onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink},this.state),this.getNUX&&this.getNUX(),this.props.children))},_onSelect:function k(){this._onSelectX&&this._onSelectX();if(this.constructor.unselectable!==true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)}};f.exports=j}),null);
__d("ReactComposerTaggerContainerStateMixin",["invariant","Arbiter","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","isEmpty"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return{_prefillSubscription:undefined,mixins:[c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,k.concat([c("ReactComposerTaggerStore")]))],statics:{beforeCalculateInitialState:function m(n,o){var p=o.taggerConfig&&o.taggerConfig.defaultData;if(p){var q=c("ReactComposerTaggerStore").getTaggerData(n,this.taggerID);if(c("isEmpty")(q))c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(n,this.taggerID,p)}if(o.taggerSource)c("ReactComposerTaggerActions").setTaggerSource(n,this.taggerID,o.taggerSource)},calculateState:function m(n,o){var p=c("ReactComposerTaggerStore").getSelectedTagger(n),q=c("ReactComposerTaggerStore").getAutoFocusOnSelectedTagger(n),r=c("ReactComposerTaggerStore").getTaggerData(n,this.taggerID),s=c("ReactComposerTaggerStore").getTaggerSource(n,this.taggerID),t=p===this.taggerID;return{autoFocus:q,isSelected:t,taggerData:r,taggerSource:s}}},componentWillMount:function m(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this.constructor.taggerID||h(0)},componentDidUpdate:function m(n,o){if(this.__onTaggerDataChanged){var p=Object.keys(o.taggerData).length===0&&Object.keys(this.state.taggerData).length>0,q=Object.keys(o.taggerData).length>0&&Object.keys(this.state.taggerData).length===0;if(p||q)this.__onTaggerDataChanged(this.state.taggerData)}},componentWillUnmount:function m(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},_handlePrefill:function m(){var n=c("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);if(n)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,n)}}};f.exports=i}),null);
__d("ReactKeyPressHandler.react",["Event","React","SubscriptionsHandler"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactKeyPressHandler",propTypes:{onKeyDownEvent:h.func.isRequired},getInitialState:function j(){return{subscriptions:new(c("SubscriptionsHandler"))()}},componentDidMount:function j(){this.state.subscriptions.engage();this.state.subscriptions.addSubscriptions(c("Event").listen(document.body,"keydown",function(k){this.props.onKeyDownEvent&&this.props.onKeyDownEvent(k)}.bind(this)))},componentWillUnmount:function j(){this.state.subscriptions&&this.state.subscriptions.release()},render:function j(){return this.props.children}});f.exports=i}),null);
__d("ReactComposerTaggerHideOnEscapeKeyPress.react",["Keys","React","ReactComposerContextMixin","ReactComposerLoggingName","ReactComposerTaggerActions","ReactKeyPressHandler.react"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerTaggerHideOnEscapeKeyPress",mixins:[c("ReactComposerContextMixin")],propTypes:{shouldHideOnEscape:h.bool},render:function j(){return this.props.shouldHideOnEscape?c("React").createElement(c("ReactKeyPressHandler.react"),{onKeyDownEvent:this._onKeyDownEvent},this.props.children):this.props.children},_onKeyDownEvent:function j(event){if(event.keyCode===c("Keys").ESC){event.stopPropagation();c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").ESCAPE_KEY)}}});f.exports=i}),null);
__d("ReactComposerTaggerContainerMixin",["invariant","React","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=function i(){__p&&__p();return{mixins:[c("ReactComposerTaggerContainerStateMixin").apply(undefined,arguments)],componentWillMount:function j(){this.constructor.taggerComponent||h(0)},render:function j(){if(!this.state.isSelected)return c("React").createElement("noscript",null);var k=this.constructor.taggerComponent,l=this.constructor.enableHideOnEscape&&this.state.isSelected;return c("React").createElement("div",{"data-testid":this.constructor.webDriverTestID},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:l},c("React").createElement(k,babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))))},_onTaggerDataChanged:function j(k){if(this._suppressUpdateLogging&&this._suppressUpdateLogging(k))c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,k);else c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,k);this.__onTaggerDataChanged&&this.__onTaggerDataChanged(k);this.props.onSelect&&this.props.onSelect(k)}}};f.exports=i}),null);
__d("ReactComposerTaggerSummaryPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_3o1x"})};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerTaggerViewStyles",["React"],(function a(b,c,d,e,f,g){var h=320,i=210,j=40,k=c("React").PropTypes,l={useScrollableArea:k.bool.isRequired,itemHeight:k.number,maxHeight:k.number};f.exports={DEFAULT:{useScrollableArea:false},SCROLLABLE:{useScrollableArea:true,itemHeight:j,maxHeight:h},SCROLLABLE_SHORT:{useScrollableArea:true,itemHeight:j,maxHeight:i},Shape:l}}),null);
__d("ReactComposerFormattedTextPickerButton.react",["cx","fbt","React","ReactComposerLoggingName","ReactComposerTaggerButtonMixin","ReactComposerTaggerType"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").createClass({displayName:"ReactComposerFormattedTextPickerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{taggerID:c("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:c("ReactComposerLoggingName").FORMATTED_TEXT_BUTTON},getTitle:function k(){return i._("Ajoutez une couleur d\u2019arri\u00e8re-plan \u00e0 votre publication")},getTooltip:function k(){return i._("Ajoutez une couleur d\u2019arri\u00e8re-plan \u00e0 votre publication")},getClassName:function k(){return"_cod"}});f.exports=j}),null);
__d("ReactComposerFormattedTextPickerContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMQuery","React","ReactComposerEvents","ReactComposerFormattedTextActions","ReactComposerFormattedTextPickerComponent.react","ReactComposerFormattedTextPickerContainerMixin","ReactComposerFormattedTextStore","ReactComposerFormattedTextUtils","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerType","SATPInteractionsTypedLogger","SATPPresetCollection","WebStorage","ge","gkx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerFormattedTextPickerContainer",_composerMountSubscription:undefined,_suppressTransition:false,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTaggerDiv:null,mixins:[c("ReactComposerFormattedTextPickerContainerMixin")],propTypes:{autoOpen:j.bool,badgingEnabled:j.bool,defaultFormat:j.number,fixAspectRatio:j.bool,maxNewlines:j.number,noSproutDesign:j.bool,statusAttachmentActive:j.bool,stickyStylesEnabled:j.bool,textFormats:j.arrayOf(j.object).isRequired,textLengthLimit:j.number},statics:{taggerID:c("ReactComposerTaggerType").FORMATTED_TEXT,loggingName:c("ReactComposerLoggingName").FORMATTED_TEXT_TAGGER},render:function l(){this._updateBackground(this.state.selectedIndex);if(!this.state.shouldDisplay)return null;return c("React").createElement(c("ReactComposerFormattedTextPickerComponent.react"),{badgingEnabled:this.props.badgingEnabled,biggerSwatches:c("gkx")("AT7LEZZBXPNWZxyk9l3b-2YIS0GoTH5yRetmQrpeXitgABzNEsEOlsCoXTpk9_KJDCcaUgdiFtLdFQv7g_PlSblzFHfV1zd-352vi2hYV6DfRA"),collapsed:this.state.collapsed,hidden:this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onToggle:this._onToggle,selectedIndex:this.state.selectedIndex,suppressTransition:this._suppressTransition,textFormats:this.props.textFormats,textFormatsToUnbadge:this.state.textFormatsToUnbadge})},componentWillMount:function l(){c("ReactComposerTaggerActions").setTaggerConfig(this.context.composerID,this.taggerID,{maxNewlines:this.props.maxNewlines,textLengthLimit:this.props.textLengthLimit});this._composerMountSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").INSTANCE_MOUNTED+this.context.composerID,function(){this._memoizedComposerID=null;this._memoizedComposerRoot=null;this._memoizedComposerBody=null;this._memoizedComposerOverlay=null;this._memoizedComposerWrapper=null;this._memoizedComposerTaggerDiv=null}.bind(this))},componentWillUnmount:function l(){if(this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)this._updateBackground(c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR);this._composerMountSubscription&&this._composerMountSubscription.unsubscribe();this._composerMountSubscription=null},componentDidMount:function l(){c("ReactComposerFormattedTextActions").setTextFormats(this.context.composerID,this.props.textFormats);if(this.props.noSproutDesign){var m=this._getComposerBody();if(m)c("CSS").addClass(m,"_2j7c")}},componentWillUpdate:function l(m,n){if(this.state.selectedIndex!==n.selectedIndex&&(this.state.selectedIndex===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR||n.selectedIndex===c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR))this._suppressTransition=true;if(n.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR&&this.state.selectedIndex!==n.selectedIndex)this._updateOverlay()},componentDidUpdate:function l(m,n){__p&&__p();if(!n.canUseFormattedText&&this.state.canUseFormattedText)this._onBecameEligible();else if(n.canUseFormattedText&&!this.state.canUseFormattedText)this._onBecameIneligible();if(!n.isSelected&&this.state.isSelected)this._onPickerOpened();else if(n.isSelected&&!this.state.isSelected)this._onPickerClosed();if(n.selectedIndex!==this.state.selectedIndex)this._onSelectedIndexChanged();if(n.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay)c("ReactComposerFormattedTextActions").setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,false);if(this.state.fadingInPicker&&this.state.shouldDisplay)c("ReactComposerFormattedTextActions").setShouldFadeInPicker(this.context.composerID,false)},_onPickerOpened:function l(){var m=this._getComposerRoot();if(m)c("CSS").removeClass(m,"_10m_");var n=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;this._setShouldHideTaggersDiv(n)},_focusComposerTextInput:function l(){c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)},_onPickerClosed:function l(){var m=this._getComposerRoot();if(m)c("CSS").addClass(m,"_10m_");this._setShouldHideTaggersDiv(false)},_setShouldHideTaggersDiv:function l(m){var n=this._getComposerTaggerDiv();if(!n)return;if(m)c("CSS").addClass(n,"_10n0");else c("CSS").removeClass(n,"_10n0")},_getComposerRoot:function l(){if(this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=c("ge")(this._memoizedComposerID);return this._memoizedComposerRoot},_getComposerBody:function l(){if(this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerBody=this._domScry(m,"._i-o");return this._memoizedComposerBody},_getComposerOverlay:function l(){if(this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerOverlay=this._domScry(m,"._3enz");return this._memoizedComposerOverlay},_getComposerWrapper:function l(){if(this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerWrapper=this._domScry(m,"._3eny");return this._memoizedComposerWrapper},_getComposerTextInput:function l(){var m=this._getComposerBody();if(!m)return null;return this._domScry(m,"._395")},_getComposerTaggerDiv:function l(){if(this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerTaggerDiv=this._domScry(m,"._1idc");return this._memoizedComposerTaggerDiv},_domScry:function l(m,n){var o=c("DOMQuery").scry(m,n);if(!o||o.length===0)return null;return o[o.length-1]},_onBecameEligible:function l(){if(this.state.prevSelectedIndex!=null)c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex)},_onBecameIneligible:function l(){var m=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;if(m)c("ReactComposerFormattedTextActions").setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)},_onSelectedIndexChanged:function l(){var m=this.state.selectedIndex!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR;if(!this.props.noSproutDesign)this._setShouldHideTaggersDiv(m);c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,c("ReactComposerTaggerType").FORMATTED_TEXT,{formatActive:m})},_updateBackground:function l(m){__p&&__p();var n=this._getComposerRoot();if(!n)return;var o=this._getComposerBody();if(!o)return;var p=this._getComposerOverlay();if(!p)return;var q=this._getComposerWrapper();if(!q)return;var r=this._getStyles(m);c("DOM").setAttributes(o,{style:r.bodyStyle});if(m!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){c("CSS").addClass(n,"_1mjk");if(this.props.fixAspectRatio)c("CSS").addClass(n,"_38ws");c("CSS").addClass(o,"_2ihx");c("CSS").addClass(q,"_2ihx");c("CSS").addClass(p,"_2ihx");c("CSS").addClass(p,"_4xe1")}else{c("CSS").removeClass(n,"_1mjk");c("CSS").removeClass(o,"_2ihx");c("CSS").removeClass(q,"_2ihx");c("CSS").removeClass(p,"_2ihx");c("CSS").removeClass(p,"_4xe1")}var s=this._getComposerTextInput();if(!s)return;c("DOM").setAttributes(s,{style:r.textInputStyle})},_updateOverlay:function l(){__p&&__p();var m=this._getComposerRoot();if(!m)return;var n=this._getComposerBody();if(!n)return;var o=this._getComposerOverlay();if(!o)return;var p=this._getStyles(this.state.selectedIndex);c("DOM").setAttributes(o,{style:p.bodyStyle});var q=function q(r){c("CSS").removeClass(o,"_1wnq");c("CSS").addClass(o,"_1wnr");c("CSS").addClass(o,"_3eo2");o.removeEventListener("transitionend",q,false)};c("CSS").removeClass(o,"_3eo2");o.addEventListener("transitionend",q,false);c("CSS").addClass(o,"_1wnq");c("CSS").removeClass(o,"_1wnr")},_onSelect:function l(m){__p&&__p();if(this.state.canUseFormattedText){c("ReactComposerFormattedTextActions").setSelectedIndex(this.context.composerID,m);this.handleSaveStickyPreset(m);c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID);var n=c("ReactComposerFormattedTextStore").getTextFormatPresetID(this.context.composerID),o=c("ReactComposerFormattedTextStore").getTrackingString(this.context.composerID);if(n){new(c("SATPInteractionsTypedLogger"))().setTrackingString(o).setUserActionString("style_applied").setPresetID(n).setRequestedCollection(c("SATPPresetCollection").COMPOSER_TOP).log();if(this.props.badgingEnabled)this._updateTextFormatsToUnbadge(n)}}},_updateTextFormatsToUnbadge:function l(m){var n=c("ReactComposerFormattedTextStore").getTextFormatsToUnbadge(this.context.composerID);n[m]=true;c("ReactComposerFormattedTextActions").setTextFormatsToUnbadge(this.context.composerID,n);var o=c("WebStorage").getLocalStorage();try{c("WebStorage").setItemGuarded(o,c("ReactComposerFormattedTextUtils").createUserSpecificStorageName(this.context.actorID),c("ReactComposerFormattedTextUtils").encodeForLocalStorage(n))}catch(p){}},_onToggle:function l(){c("ReactComposerFormattedTextActions").toggleCollapsed(this.context.composerID)},_getStyles:function l(m){var n="",o="";if(m!=null&&m!==c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR){var p=this.props.textFormats&&Object.prototype.hasOwnProperty.call(this.props.textFormats,m)?this.props.textFormats[m]:null;if(p&&p.bodyStyle&&p.textInputStyle){n=p.bodyStyle;o=p.textInputStyle}}return{bodyStyle:n,textInputStyle:o}}});f.exports=k}),null);
__d("ReactComposerTaggerViewMixin",["cx","React","ReactComposerTaggerViewStyles","ReactDOM","ScrollableArea","ScrollableArea.react","TypeaheadViewPropTypes","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j={propTypes:Object.assign({customIcon:i.object,taggerViewStyle:i.shape(c("ReactComposerTaggerViewStyles").Shape),taggerListClassName:i.string},c("TypeaheadViewPropTypes")),getDefaultProps:function k(){return{role:"listbox",taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerListClassName:""}},render:function k(){var l=this.props.entries.length,m="_599r"+(!l?" _599s":"");m=c("joinClasses")(this.props.taggerListClassName,m);var n=this.props.entries.map(this._renderItem),o=c("React").createElement("ul",{className:m,id:this.props.controlleeID,role:this.props.role,ref:"list"},n),p=this.props.taggerViewStyle;if(p.useScrollableArea){var q=p.itemHeight*l;if(q>p.maxHeight)o=c("React").createElement(c("ScrollableArea.react"),{ref:this._scrollableAreaMount,className:"_53vr",height:p.maxHeight},o)}return o},_renderItem:function k(l){var m=l===this.props.highlightedEntry,n=l.getAuxiliaryData(),o=n.isRegexEntry,p=o?this.getRegexItemImpl():this.getItemImpl(),q=(m?"selected":"")+(o?" _3ooq":"");return c("React").createElement(p,{className:q,key:l.getUniqueID(),entry:l,highlighted:m,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight,customIcon:this.props.customIcon})},_onRenderHighlight:function k(l){if(this._scrollableArea)this._scrollableArea.scrollIntoView(l,false);this.props.onRenderHighlight(l)},_scrollableAreaMount:function k(l){var m=c("ReactDOM").findDOMNode(l);this._scrollableArea=c("ScrollableArea").getInstance(m);c("setImmediate")(function(){this._scrollableArea&&this._scrollableArea.resize()}.bind(this))}};f.exports=j}),null);
__d("ReactComposerTaggerView.react",["React","ReactComposerTaggerViewMixin","XUITypeaheadViewItem.react"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("XUITypeaheadViewItem.react")}});f.exports=h}),null);
__d("ReactComposerTaggerPresenter",["ReactComposerTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerTaggerView.react"),useLayer:true}}),null);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes")}),null);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=-1;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(m){switch(m.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c("ReactComposerSessionMetricsActionTypes").KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c("ReactComposerSessionMetricsActionTypes").PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break}});this.ttiTimestamp=j;l=this}k.prototype.getComposerEntryTime=function(l){"use strict";if(this.ttiTimestamp==j)return 0;else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1e3)};k.prototype.getComposerStartTime=function(l){"use strict";return this.getComposerData(l).composerStartTime};k.prototype.getKeystrokeCount=function(l){"use strict";return this.getComposerData(l).keystrokeCount};k.prototype.getPasteCount=function(l){"use strict";return this.getComposerData(l).pasteCount};k.prototype.$ReactComposerSessionMetricsStore1=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now()};k.prototype.$ReactComposerSessionMetricsStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.keystrokeCount++};k.prototype.$ReactComposerSessionMetricsStore3=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.pasteCount++};f.exports=new k()}),null);
__d("ExtensibleSproutsItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ANIMATED_EFFECTS:"ANIMATED_EFFECTS",AUDIO:"AUDIO",BACKDATE:"BACKDATE",BIRTHDAY_CAMERA:"BIRTHDAY_CAMERA",BIRTHDAY_STICKER:"BIRTHDAY_STICKER",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",EVENTS:"EVENTS",FACECAST:"FACECAST",FILE:"FILE",FIND_PLAYERS:"FIND_PLAYERS",FUN_FACT:"FUN_FACT",FUNDRAISER:"FUNDRAISER",GET_BOOKINGS:"GET_BOOKINGS",GET_DIRECTIONS:"GET_DIRECTIONS",GET_MESSAGES:"GET_MESSAGES",GET_PHONE_CALLS:"GET_PHONE_CALLS",GIF:"GIF",INSPIRATION_CAMERA:"INSPIRATION_CAMERA",LIFE_EVENT:"LIFE_EVENT",LIST:"LIST",LOCATION:"LOCATION",MARKDOWN:"MARKDOWN",MEDIA:"MEDIA",MINUTIAE:"MINUTIAE",MOVIES:"MOVIES",NOTE:"NOTE",PAGE_OFFER:"PAGE_OFFER",PHOTO:"PHOTO",PLANETARIUM:"PLANETARIUM",PUBLISH_JOB_POST:"PUBLISH_JOB_POST",Q_AND_A:"Q_AND_A",RECOMMENDATION:"RECOMMENDATION",RED_ENVELOPE:"RED_ENVELOPE",SALES_PROMO:"SALES_PROMO",SELL:"SELL",SELL_MULTIPLE_ITEMS:"SELL_MULTIPLE_ITEMS",SPONSOR_TAG:"SPONSOR_TAG",SPOTIFY_SHARE:"SPOTIFY_SHARE",STICKER:"STICKER",SUGGESTED_PHOTO:"SUGGESTED_PHOTO",SUGGESTED_PHOTO_CAPTION:"SUGGESTED_PHOTO_CAPTION",TAG_EVENT:"TAG_EVENT",TAG_PRODUCT:"TAG_PRODUCT",TEXT_BACKGROUND:"TEXT_BACKGROUND",THREESIXTY_CAPTURE:"THREESIXTY_CAPTURE",TRANSLITERATION:"TRANSLITERATION",VIDEO:"VIDEO",VISUAL_POLLS:"VISUAL_POLLS",WITH_TAG:"WITH_TAG",GROUP_MEET_UP:"GROUP_MEET_UP",WRITE_POST:"WRITE_POST",DISCUSSION:"DISCUSSION",MORE:"MORE"})}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT:"event",FILE:"file",ISSUE_TAG:"issue_tag",LINK:"link",MENTION_TAG:"mention_tag",MILESTONE:"milestone",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",TEXT:"text",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",MESSAGING:"messaging",ALBUM:"album",BREAKING_NEWS:"breaking_news"})}),null);
__d("ReactComposerLoggingActions",["ReactComposerActionTypes","ReactComposerDispatcher","ReactComposerFeatureType","ReactComposerLoggingName","ReactComposerMediaUploadActionType","ExtensibleSproutsItemType"],(function a(b,c,d,e,f,g){__p&&__p();var h={composerEntry:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_ENTRY,uiElementName:k})},mediaUploadInputClicked:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_CLICKED,sourceLoggingName:k})},mediaUploadInputDone:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_INPUT_DONE,sourceLoggingName:k})},mediaFileDropped:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_INTENT,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFileDropFinished:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_DROPPED})},mediaFilePasted:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_INTENT,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_PASTED})},mediaFilePasteFinished:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ExtensibleSproutsItemType").MEDIA,uiElementName:c("ReactComposerLoggingName").MEDIA_FILE_PASTED})},sproutVisibilityUpdated:function i(j,k,event,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").SPROUT_VIEW_UPDATE,visibilityMap:k,event:event,sproutsState:l,promotedSprout:m,promotionID:n})},collectionSelectorCancel:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_CANCEL,featureType:c("ReactComposerFeatureType").COLLECTIONS,uiElementName:k})},collectionSelectorDone:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").FEATURE_DONE,featureType:c("ReactComposerFeatureType").COLLECTIONS,uiElementName:k})},composerCancel:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_CANCEL})},composerNavigateAwayAttempt:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerActionTypes").COMPOSER_NAVIGATE_AWAY_ATTEMPT})},composerSharesheetPostClicked:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,sourceLoggingName:k,type:c("ReactComposerActionTypes").COMPOSER_SHARESHEET_POST_CLICKED})}};f.exports=h}),null);
__d("ReactComposerContextProviderMixin",["invariant","ReactComposerContextMixin"],(function a(b,c,d,e,f,g,h){var i=c("ReactComposerContextMixin").contextTypes,j={childContextTypes:i,staticGetChildContext:function k(l){return{actorID:l.contextConfig.actorID,composerID:l.contextConfig.composerID,composerType:l.contextConfig.composerType,gks:l.contextConfig.gks||{},targetID:l.contextConfig.targetID,jsModules:l.contextConfig.jsModules,jsResources:l.contextConfig.jsResources}},getChildContext:function k(){return j.staticGetChildContext(this.props)},componentWillMount:function k(){this.props.contextConfig.actorID||h(0);this.props.contextConfig.composerID||h(0);this.props.contextConfig.composerType||h(0);this.props.contextConfig.targetID||h(0)}};f.exports=j}),null);
__d("ReactComposerOptimisticPostingActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},"ReactComposerOptimisticPostingActionType")}),null);
__d("ComposerSourceSurface",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",FEED:"newsfeed",TIMELINE:"timeline",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",SOCIAL_BALLOT:"social_ballot",VOTER_REGISTRATION:"voter_registration",ELECTION_HUB:"election_hub",QUICK_ELECTION:"quick_election",LIVE_MAP:"live_map",LOCAL_NEWS:"local_news",UNKNOWN:"unknown",PAGE_RECOMMENDATION_ACTION_BAR:"page_recommendation_action_bar",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_LEARN_PAGE:"recommendations_learn_page",GROUP_RECOMMENDATIONS_TAB:"group_recommendations_tab",RECENT_POSTS:"timeline/recent_posts",INSTANT_GAME:"instant_game",THROWBACK_PERMALINK:"throwback_permalink",MESSENGER_SHARE_DIALOG:"messenger_share_dialog",WORKBENCH:"workbench",TOWNHALL:"townhall",CIVIC_DIGEST_EMAIL:"civic_digest_email",LEARNING_COURSE_UNIT:"learning_course_unit",PETITION:"petition",PREFILL_HOLIDAY_CARD:"prefill_holiday_card"})}),null);
__d("ComposerTargetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event",RECOMMENDATION:"recommendation",FUNDRAISER:"fundraiser",EXAMPLE:"example",MARKETPLACE:"marketplace",ALBUM:"album",OTHER:"other"})}),null);
__d("ExtensibleSproutsSurfaceItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({UNDIRECTED_FEED_COMPOSER:"UNDIRECTED_FEED_COMPOSER",UNDIRECTED_FEED_PUBLISHER_BAR:"UNDIRECTED_FEED_PUBLISHER_BAR"})}),null);
__d("ReactComposerConfig",["ComposerEntryPointRef","ReactComposerLoggingName","ComposerSourceSurface","ComposerTargetData","ComposerTargetType","ExtensibleSproutsItemType","ReactComposerAttachmentType","ExtensibleSproutsSurfaceItemType","React","getObjectValues"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape({actorConfig:h.object,attachmentsConfig:h.object.isRequired,audienceXHP:h.any,contextInfo:h.object,loggingConfig:h.shape({isEditComposer:h.bool,targetType:h.oneOf(c("getObjectValues")(c("ComposerTargetType"))).isRequired,ref:h.oneOf(c("getObjectValues")(c("ComposerEntryPointRef"))).isRequired,composerSourceSurface:h.oneOf(c("getObjectValues")(c("ComposerSourceSurface"))).isRequired,rankerRequestID:h.string,composerType:h.string,sproutSurface:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsSurfaceItemType"))),inlineSproutSurface:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsSurfaceItemType")))}).isRequired,activateOnInit:h.bool,mediaAcceptParam:h.shape({photos:h.string,both:h.string}),nuxConfig:h.object.isRequired,postButtonConfig:h.object,showExpandedComposer:h.bool,taggersConfig:h.object,sproutsConfig:h.object,inlineSproutsList:h.arrayOf(h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType")))),targetData:h.instanceOf(c("ComposerTargetData")).isRequired,instagramCrossPostingEnabled:h.bool,triggeredFrom:h.oneOf(Object.values(c("ReactComposerLoggingName"))),focusOnInit:h.bool,initSelectedAttachment:h.oneOf(c("getObjectValues")(c("ReactComposerAttachmentType"))),sproutWithNewBadge:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),sproutsPromotionConfig:h.shape({promotionID:h.number,sprout:h.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:h.string})})}),null);
__d("ReactComposerOptimisticPostingStore",["Arbiter","JSLog","React","ReactComposerActionTypes","ReactComposerEvents","ReactComposerInit","ReactComposerMediaUploadType","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStoryContainer.react","ReactComposerStoreBase","ReactDOM","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";var l=function(m){switch(m.type){case c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(m);break;case c("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING:case c("ReactComposerActionTypes").POST_SUCCEEDED:case c("ReactComposerActionTypes").POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(m);break;default:}}.bind(this);i.constructor.call(this,function(){return{hasVideo:null,optimisticallyPostingElement:null}},l)}k.prototype.isOptimisticallyPosting=function(l){"use strict";return!!this.getComposerData(l).optimisticallyPostingElement};k.prototype.hadOptimisticallyPosted=function(l){"use strict";return!!j[l]};k.prototype.$ReactComposerOptimisticPostingStore3=function(l,m){"use strict";c("Arbiter").inform(c("ReactComposerEvents").OPTIMISTIC_POSTING_STARTED+l);c("Arbiter").inform("LitestandComposer/publishTemp",{composer_id:l,markup:m});c("ReactComposerInit").hideAndReplaceComposer(l)};k.prototype.$ReactComposerOptimisticPostingStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","config","attachmentType","actorID","targetID"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=this.$ReactComposerOptimisticPostingStore4(c("React").createElement(c("ReactComposerOptimisticPostingStoryContainer.react"),{attachmentType:p,composerID:n,config:o,actorID:q,targetID:r}));this.getComposerData(n).optimisticallyPostingElement=s;c("ifRequired")("ReactComposerMediaUploadStore",function(t){this.getComposerData(n).hasVideo=t.getUploadsOfType(n,c("ReactComposerMediaUploadType").VIDEO).size}.bind(this),function(){c("JSLog").error("ReactComposerMediaUploadStore isn't loaded when it's supposed to be.")});this.emitChange(n);setTimeout(this.$ReactComposerOptimisticPostingStore3.bind(null,n,s),0)};k.prototype.$ReactComposerOptimisticPostingStore2=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m).optimisticallyPostingElement;if(!n)return;this.getComposerData(m).optimisticallyPostingElement=null;if(!this.getComposerData(m).hasVideo)c("ReactDOM").unmountComponentAtNode(n);j[m]=true;this.emitChange(m)};k.prototype.$ReactComposerOptimisticPostingStore4=function(l){"use strict";var m=document.createElement("div");c("ReactDOM").render(l,m);return m};f.exports=new k()}),null);
__d("ReactComposerOptimisticPostingStoryFailureMessage.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){var j=function j(){return c("React").createElement("div",{className:"_1rsx"},i._("Votre publication ne s\u2019est pas charg\u00e9e. V\u00e9rifiez votre connexion Internet et actualisez le navigateur pour r\u00e9essayer."))};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryGeneric.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i=function i(){return c("React").createElement("div",{className:"_3lza"},c("React").createElement("div",{className:"_2iwq"},c("React").createElement("div",{className:"_2iwy"}),c("React").createElement("div",{className:"_2iwz"}),c("React").createElement("div",{className:"_2iw-"}),c("React").createElement("div",{className:"_2iw_"}),c("React").createElement("div",{className:"_2ix0"})))};f.exports=i}),null);
__d("ReactComposerProfilePhoto.react",["cx","fbt","Image.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=40;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o="_3hvt",p=c("React").createElement(c("Image.react"),{className:"_bth",src:this.props.src,height:m,width:m}),q=i._("Profil de {name}",[i.param("name",this.props.profileName)]),r;if(this.props.profileDialogURI)r=c("React").createElement(c("Link.react"),{ajaxify:this.props.profileDialogURI,rel:"dialog","aria-label":q,className:o,href:this.props.profileURI,onClick:function(s){this.props.onClick(s);s.stopPropagation()}.bind(this),onFocus:function s(t){t.stopPropagation();t.nativeEvent.isPropagationStopped=true}},p);else if(this.props.profileURI)r=c("React").createElement(c("Link.react"),{"aria-label":q,className:o,href:this.props.profileURI,onClick:this.props.onClick},p);else r=c("React").createElement("div",{className:o},p);return r};function n(){"use strict";j.apply(this,arguments)}n.PROFILE_PIC_WIDTH=m;n.propTypes={src:l.string.isRequired,profileName:l.string,profileURI:l.string,profileDialogURI:l.string,onClick:l.func};f.exports=n}),null);
__d("ReactComposerOptimisticPostingStoryHeader.react",["cx","fbt","Layout.react","ReactComposerProfilePhoto.react","React"],(function a(b,c,d,e,f,g,h,i){var j=c("Layout.react").Column,k=c("Layout.react").FillColumn,l=c("React").PropTypes,m=function m(){},n=function n(o){var p=o.profilePicSrc,q=o.profileName;return c("React").createElement(c("Layout.react"),{className:"_1zm9"},c("React").createElement(j,{className:"_2pii"},c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:p,profileName:q,onClick:m})),c("React").createElement(k,null,c("React").createElement("h6",{className:"_5pbw"},q),c("React").createElement("span",null,i._("\u00c0 l\u2019instant"))))};n.propTypes={profilePicSrc:l.string.isRequired,profileName:l.string.isRequired};f.exports=n}),null);
__d("ReactComposerOptimisticPostingStoryVideo.react",["Bootloader","EventListener","Image.react","JSLog","React","ReactDOM","ifRequired"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes,k=function k(){};h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(m){"use strict";i.constructor.call(this);this.$ReactComposerOptimisticPostingStoryVideo1=null;this.state={thumbSrc:m.videoUpload.thumbSrc}}l.prototype.componentDidMount=function(){"use strict";if(!this.state.thumbSrc){var m=document.createElement("video");m.setAttribute("src",this.props.videoUpload.fileURL);c("Bootloader").loadModules(["generateVideoThumbnails"],function(){},"ReactComposerOptimisticPostingStoryVideo.react");this.$ReactComposerOptimisticPostingStoryVideo1=c("EventListener").listen(m,"loadedmetadata",this.$ReactComposerOptimisticPostingStoryVideo2.bind(this,m))}};l.prototype.componentWillUnmount=function(){"use strict";this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove()};l.prototype.$ReactComposerOptimisticPostingStoryVideo2=function(m){"use strict";var n=c("ReactDOM").findDOMNode(this);c("Bootloader").loadModules(["generateVideoThumbnails"],function(o){o(m,n.clientWidth,n.clientHeight,1).done(function(p){return this.setState({thumbSrc:p.thumbnails[0].getURL()})}.bind(this))}.bind(this),"ReactComposerOptimisticPostingStoryVideo.react");this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();this.$ReactComposerOptimisticPostingStoryVideo1=null};l.prototype.$ReactComposerOptimisticPostingStoryVideo3=function(){"use strict";return c("React").createElement(c("Image.react"),{src:this.state.thumbSrc})};l.prototype.$ReactComposerOptimisticPostingStoryVideo4=function(){"use strict";return c("ifRequired")("ReactComposerVideoXUploadPlaceholder.react",function(m){return c("React").createElement(m,{onRemoveButtonClicked:k,uploadID:this.props.videoUpload.id,uploadProgress:this.props.videoUpload.progress,uploadState:this.props.videoUpload.state})}.bind(this),function(){c("JSLog").error("ReactComposerVideoXUploadPlaceholderContainer.react isn't loaded when it's supposed to be.")})};l.prototype.render=function(){"use strict";return this.state.thumbSrc&&this.state.thumbSrc.indexOf("data:image/")===0?this.$ReactComposerOptimisticPostingStoryVideo3():this.$ReactComposerOptimisticPostingStoryVideo4()};l.propTypes={videoUpload:j.object.isRequired};f.exports=l}),null);
__d("ReactComposerOptimisticPostingStoryMedia.react",["cx","Image.react","immutable","React","ReactComposerCollageUtils","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStoryVideo.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=5,m=1e3;i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.prototype.$ReactComposerOptimisticPostingStoryMedia1=function(o){"use strict";if(o.size===0)return[];else if(o.size===1)return c("ReactComposerCollageUtils").getSingleItemStyleInfo(o.first(),m);else{var p=c("ReactComposerCollageUtils").getCollageLayoutConfig(o,m);return p.getItemStyleInfos()}};n.prototype.$ReactComposerOptimisticPostingStoryMedia2=function(o){"use strict";var p=0;o.forEach(function(q){var r=q.top+q.height;if(r>p)p=r});return p/m*100};n.prototype.$ReactComposerOptimisticPostingStoryMedia3=function(o){"use strict";__p&&__p();return o.map(function(p,q){__p&&__p();var r=this.props.mediaUploads.get(q),s=p.height/m*100,t=p.width/m*100,u=p.top/m*100,v=p.left/m*100,w=void 0;if(r.mediaType===c("ReactComposerMediaUploadType").VIDEO)w=c("React").createElement(c("ReactComposerOptimisticPostingStoryVideo.react"),{videoUpload:r});else{var x=r.width/r.height,y=p.width/p.height,z=x>y?{height:"100%"}:{width:"100%"},A=r.isSpherical&&r.thumbSrc?r.thumbSrc:r.fileURL;w=c("React").createElement(c("Image.react"),{src:A,style:z})}var B=null;if(this.props.mediaUploads.size>l&&q===l-1)B=this.$ReactComposerOptimisticPostingStoryMedia4();return c("React").createElement("div",{key:r.id,className:"_58vp",style:{paddingBottom:""+s+"%",width:""+t+"%",top:""+u+"%",left:""+v+"%"}},w,B)}.bind(this))};n.prototype.$ReactComposerOptimisticPostingStoryMedia4=function(){"use strict";var o=this.props.mediaUploads.size-l+1;return c("React").createElement("div",{className:"_52d9"},c("React").createElement("div",{className:"_52da"},c("React").createElement("div",{className:"_52db"},"+",o)))};n.prototype.render=function(){"use strict";var o=this.$ReactComposerOptimisticPostingStoryMedia1(this.props.mediaUploads.take(l));return c("React").createElement("div",{className:"_58vq",style:{paddingBottom:""+this.$ReactComposerOptimisticPostingStoryMedia2(o)+"%"}},this.$ReactComposerOptimisticPostingStoryMedia3(o))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={mediaUploads:k.instanceOf(c("immutable").List).isRequired};f.exports=n}),null);
__d("ReactComposerOptimisticPostingStoryProgress.react",["cx","fbt","BUIProgressBar.react","React"],(function a(b,c,d,e,f,g,h,i){var j=c("React").PropTypes,k=function k(l){var m=l.percent,n=void 0;if(m===null)n={isBuffering:true};else n={percentage:m};return c("React").createElement("div",{className:"_2oj3"},c("React").createElement("span",null,i._("Import en cours...")),c("React").createElement(c("BUIProgressBar.react"),babelHelpers["extends"]({className:"_2oj4",flexibleWidth:true},n)))};k.propTypes={percent:j.number};f.exports=k}),null);
__d("ReactComposerOptimisticPostingStoryStatus.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=function j(l){var m=l.status;return c("React").createElement("div",{className:"_4sfj"},c("React").createElement("div",{className:"_5pbx"},m))},k=i.oneOfType([i.number,i.string,i.element,i.arrayOf(k)]);j.PropTypes={status:k.isRequired};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryVideoMessage.react",["cx","fbt","React"],(function a(b,c,d,e,f,g,h,i){var j=function j(){return c("React").createElement("div",{className:"_1rsx"},i._("La vid\u00e9o de votre publication est en cours de traitement. Nous vous enverrons une notification quand votre publication sera pr\u00eate."))};f.exports=j}),null);
__d("ReactComposerOptimisticPostingStoryContainer.react",["cx","Arbiter","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerEvents","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerOptimisticPostingStore","ReactComposerOptimisticPostingStoryGeneric.react","ReactComposerOptimisticPostingStoryHeader.react","ReactComposerOptimisticPostingStoryMedia.react","ReactComposerOptimisticPostingStoryProgress.react","ReactComposerOptimisticPostingStoryStatus.react","ReactComposerOptimisticPostingStoryVideoMessage.react","ReactComposerOptimisticPostingStoryFailureMessage.react","ReactComposerPhotoStore","ReactComposerPhotoUploadState","ReactComposerStatusStore","ReactComposerStore","ReactComposerVideoUploadStore","StoreBasedStateMixinHelper","XUICard.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerOptimisticPostingStoryContainer",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{attachmentType:i.string.isRequired,composerID:i.string.isRequired,config:c("ReactComposerConfig").isRequired,targetID:i.string.isRequired,actorID:i.string.isRequired},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function k(){return this._calculateState()},componentDidUpdate:function k(l,m){if(this.state.isOptimisticallyPosting&&!this.state.isUploading&&!this.state.videoFinishedPosting&&this.state.uploadSuccessRate!==0)c("ReactComposerActions").postStarted(this.props.composerID,{actorID:this.props.actorID,config:this.props.config,targetID:this.props.targetID})},componentDidMount:function k(){__p&&__p();this._previousPercent=0;this._mixin=new(c("StoreBasedStateMixinHelper"))([c("ReactComposerMediaUploadStore"),c("ReactComposerOptimisticPostingStore"),c("ReactComposerPhotoStore"),c("ReactComposerStore"),c("ReactComposerVideoUploadStore")]);this._mixin.subscribeCallback(function(l){if(this._recalculateStateID===null)this._recalculateStateID=setTimeout(function(){var m=this._calculateState(),n=Math.max(m.percent,this._previousPercent);m.percent=n;this._previousPercent=n;this.setState(m);this._recalculateStateID=null}.bind(this),0)}.bind(this));if(c("ReactComposerMediaUploadStore")&&c("ReactComposerMediaUploadStore").getUploadsOfType(this.props.composerID,c("ReactComposerMediaUploadType").VIDEO).size)c("Arbiter").subscribeOnce(c("ReactComposerEvents").POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedPosting:true})}.bind(this))},componentWillUnmount:function k(){this._mixin&&this._mixin.release();this._recalculateStateID&&clearTimeout(this._recalculateStateID)},_calculateState:function k(){__p&&__p();var l,m=this,n=null,o=1;if(this.props.attachmentType===c("ReactComposerAttachmentType").MEDIA&&c("ReactComposerMediaUploadStore"))(function(){__p&&__p();var s=c("ReactComposerMediaUploadStore").getUploads(m.props.composerID),t=0,u=0,v=0,w=0,x=0;s.forEach(function(A){if(A.get("fileSize")!==null){u+=A.get("fileSize");v+=(A.progress||0)*A.get("fileSize")}else{w++;x+=A.progress||0}if(A.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE)t++});if(w){var y=s.size-w,z=y?u/y:1;u+=z*w;v+=z*x}if(u)n=v/u;o=t/s.size})();if(this.props.attachmentType===c("ReactComposerAttachmentType").STATUS)n=100;var p=c("ReactComposerVideoUploadStore").getVideo(this.props.composerID)&&c("ReactComposerStore").isPosting(this.props.composerID),q=c("ReactComposerPhotoStore").isSphericalPhotoUpdating(this.props.composerID),r=c("ReactComposerMediaUploadStore").isUploading(this.props.composerID)||c("ReactComposerPhotoStore").isRecognizing(this.props.composerID)||q||p;return{percent:n,videoFinishedPosting:this.state&&this.state.videoFinishedPosting,isUploading:r,isOptimisticallyPosting:c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(this.props.composerID),uploadSuccessRate:o}},_renderStatusElement:function k(){var l=c("ReactComposerStatusStore").getMessageText(this.props.composerID),m=[].concat(l.split("\n"));for(var n=1;n<m.length;n+=2)m.splice(n,0,c("React").createElement("br",{key:n}));return c("React").createElement(c("ReactComposerOptimisticPostingStoryStatus.react"),{key:"status",status:m})},_renderMediaElement:function k(){if(!c("ReactComposerMediaUploadStore"))return this._renderGenericElement();if(!this._mediaUploads)this._mediaUploads=c("ReactComposerMediaUploadStore").getUploads(this.props.composerID);var l=c("React").createElement(c("ReactComposerOptimisticPostingStoryMedia.react"),{key:"media",mediaUploads:this._mediaUploads});if(!c("ReactComposerStatusStore").getMessageText(this.props.composerID))return l;return[this._renderStatusElement(),l]},_renderGenericElement:function k(){return c("React").createElement(c("ReactComposerOptimisticPostingStoryGeneric.react"),null)},_renderBody:function k(){var l=void 0;if(this.props.attachmentType===c("ReactComposerAttachmentType").STATUS)l=this._renderStatusElement();else if(this.props.attachmentType===c("ReactComposerAttachmentType").MEDIA)l=this._renderMediaElement();else l=this._renderGenericElement();return c("React").createElement("div",{className:"_38-r"},l)},render:function k(){var l=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],m=l.profilePicSrc,n=l.profileName;return c("React").createElement(c("XUICard.react"),{className:"_4rtr"},this.state.videoFinishedPosting?c("React").createElement(c("ReactComposerOptimisticPostingStoryVideoMessage.react"),null):!this.state.isUploading&&this.state.uploadSuccessRate===0?c("React").createElement(c("ReactComposerOptimisticPostingStoryFailureMessage.react"),null):c("React").createElement(c("ReactComposerOptimisticPostingStoryProgress.react"),{percent:this.state.percent}),c("React").createElement(c("ReactComposerOptimisticPostingStoryHeader.react"),{profilePicSrc:m,profileName:n}),this._renderBody())}});f.exports=j}),null);
__d("ReactComposerOptimisticPostingActions",["ReactComposerConfig","ReactComposerDispatcher","ReactComposerOptimisticPostingActionType","ReactComposerOptimisticPostingStore"],(function a(b,c,d,e,f,g){c("ReactComposerOptimisticPostingStore");var h={startOptimisticallyPosting:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,config:k,attachmentType:l,actorID:m,targetID:n,type:c("ReactComposerOptimisticPostingActionType").START_OPTIMISTICALLY_POSTING})},finishOptimisticallyPosting:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerOptimisticPostingActionType").FINISH_OPTIMISTICALLY_POSTING})}};f.exports=h}),null);
__d("ReactComposer.react",["cx","FluxContainer","React","ReactComposerActions","ReactComposerContextMixin","ReactComposerInit","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerLoggingQueue","ReactComposerSessionMetricsStore","ReactComposerStore","ReactDOM","XUICard.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerContextMixin").contextTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={hasBeenActive:false,isActive:false},n}l.getStores=function(){return[c("ReactComposerStore"),c("ReactComposerSessionMetricsStore")]};l.calculateState=function(m,n,o){var p=o.composerID;return{isActive:c("ReactComposerStore").isActive(p)}};l.prototype.componentDidMount=function(){c("ReactComposerActions").initConfig(this.context.composerID,this.props.loggingConfig,this.props.activateOnInit,this.props.sproutsConfig,this.props.promotedSprout);if(this.props.activateOnInit)c("ReactComposerLoggingActions").composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint)};l.prototype.componentDidUpdate=function(m,n){if(this.state.isActive&&!this.state.hasBeenActive){this.setState({hasBeenActive:!this.state.hasBeenActive});c("ReactComposerLoggingQueue").initBootload(this.context.composerID,c("ReactDOM").findDOMNode(this),this.context.targetID,this.props.loggingConfig)}};l.prototype.componentWillUnmount=function(){c("ReactComposerInit").unmountInstance(this.context.composerID,true)};l.prototype.render=function(){var m="_36bx"+(this.props.hideBorders?" _4a60":"");return c("React").createElement(c("XUICard.react"),{className:c("joinClasses")(this.props.className,m),"data-testid":"react-composer-root","data-test-actorid":this.context.actorID,id:this.context.composerID},this.props.children)};l.defaultProps={hideBorders:false,activateOnInit:false,activateOnInitEntryPoint:c("ReactComposerLoggingName").OTHERS};l.contextTypes=k;f.exports=c("FluxContainer").create(l,{withContext:true,withProps:true})}),null);
__d("ReactComposerBody.react",["cx","React","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c("joinClasses")("_4zoz",this.props.className);return c("React").createElement(c("XUICardSection.react"),{className:l},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerBodyContainer.react",["cx","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentStore","ReactComposerBody.react","ReactComposerPropsAndStoreBasedStateMixin"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerBodyContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"))],propTypes:{expanded:i.bool,hasMinHeight:i.bool},getDefaultProps:function k(){return{expanded:false,hasMinHeight:true}},statics:{calculateState:function k(l,m,n){var o=c("ReactComposerAttachmentStore").isSelectedAttachmentActive(l);return{active:o}}},render:function k(){var l=(this.state.active&&this.props.hasMinHeight?"_5xv3":"")+(this.props.expanded?" _4cw":"");return c("React").createElement(c("ReactComposerBody.react"),{className:l},this.props.children)}});f.exports=j}),null);
__d("ReactComposerFooter.react",["cx","React","ReactComposerSproutsDisplayState","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";if(!this.props.showInlineSproutsPostBar&&this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE)return null;var l=c("joinClasses")("_2dck",this.props.className);return c("React").createElement(c("XUICardSection.react"),{background:this.props.background,className:l},this.props.children)};function k(){"use strict";i.apply(this,arguments)}k.defaultProps={background:"white"};f.exports=k}),null);
__d("ReactComposerFooterActions.react",["cx","React","XUICardSection.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l=c("joinClasses")("_2ph-",this.props.className);return c("React").createElement(c("XUICardSection.react"),{className:l},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerFooterContainer.react",["React","ReactComponentWithPureRenderMixin","ReactComposerContextMixin","ReactComposerFooter.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerStore"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerFooterContainer",mixins:[c("ReactComposerContextMixin"),c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerStore"))],propTypes:{background:h.string},statics:{calculateState:function j(k,l){return{sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(k)}}},render:function j(){var k=this.context.gks&&this.context.gks.isSproutsComposer;return c("React").createElement(c("ReactComposerFooter.react"),babelHelpers["extends"]({sproutsDisplayState:k?this.state.sproutsDisplayState:null,showInlineSproutsPostBar:this.context.gks&&this.context.gks.showInlineSproutsPostBar},this.props))}});f.exports=i}),null);
__d("ReactComposerPostButton.react",["cx","fbt","ix","Image.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;n.getButtonSize=function(){return"medium"};n.prototype.render=function(){var o=c("React").createElement(c("Image.react"),{className:"_5gm4"+(this.props.disabled&&this.props.isPosting?" _5gm5":""),src:j("85428"),"data-testid":"react-composer-throbber"}),p=c("React").createElement("span",{className:this.props.disabled&&this.props.isPosting?"_5gm9":""},this.props.label);return c("React").createElement(c("XUIButton.react"),{className:"_1mf7",disabled:this.props.disabled,label:p,image:o,onClick:this.props.onClick,use:"confirm","data-testid":"react-composer-post-button"})};function n(){k.apply(this,arguments)}n.propTypes={disabled:m.bool,onClick:m.func,label:m.string,isPosting:m.bool};n.defaultProps={disabled:false,label:i._("Publier")};f.exports=n}),null);
__d("ReactComposerPostButtonContainerMixin",["fbt","BanzaiODS","BootloadedComponent.react","Bootloader","JSResource","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextMixin","ReactComposerFormattedTextPickerComponent.react","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingActions","ReactComposerOptimisticPostingStore","ReactComposerPostButton.react","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerStore","SimpleXUIDialog","XUIButtonGroup.react","$","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="misinfo_warning_disputed_flags",j="composer_confirmation_dialog_shown",k="composer_posted_anyways",l=c("React").PropTypes,m={mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerContextMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerOptimisticPostingStore"),c("ReactComposerStore"))],propTypes:{config:c("ReactComposerConfig").isRequired,forceDisabled:l.bool,onClickPreprocess:l.func,useDefaultScheduleComponent:l.bool},getDefaultProps:function n(){return{forceDisabled:false}},statics:{calculateState:function n(o,p,q){var r=c("ReactComposerStore").isPosting(o),s=c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(o);return{disabled:p.forceDisabled||r||s,isPosting:r,isOptimisticallyPosting:s}},getButtonSize:function n(){return"medium"}},render:function n(){var o=c("React").createElement(c("ReactComposerPostButton.react"),babelHelpers["extends"]({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:this._onClick,isPosting:this.state.isPosting}));if(this.props.useDefaultScheduleComponent&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr)return c("React").createElement("span",null,c("React").createElement(c("XUIButtonGroup.react"),null,o),c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("ReactComposerUserScheduledPostButton.react").__setRef("ReactComposerPostButtonContainerMixin"),bootloadPlaceholder:c("React").createElement("div",null),composerID:this.context.composerID,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr,disabled:this.state.disabled,minScheduledTimeDelta:this.props.config.actorConfig.minScheduledTimeDelta,maxScheduledTimeDelta:this.props.config.actorConfig.maxScheduledTimeDelta,timezoneOffset:this.props.config.actorConfig.timezoneOffset,defaultScheduledTimeDelta:this.props.config.actorConfig.defaultScheduledTimeDelta}));return o},_onClick:function n(event){__p&&__p();if(this.state.disabled){event.preventDefault();return}if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;c("ifRequired")("ReactComposerFormattedTextStore",function(o){this._checkEmptyTextWithBackgroundColor(o)}.bind(this),function(){this._validateAndStartPost()}.bind(this))},_checkEmptyTextWithBackgroundColor:function n(o){var p=c("ReactComposerStatusStore").getTextLength(this.context.composerID),q=o.getBackgroundColorIsActive(this.context.composerID);if(p===0&&q)c("Bootloader").loadModules(["XUIDialogButton.react"],function(r){var s=c("React").createElement("div",null,c("React").createElement(r,{action:"cancel",label:h._("Retour")}),c("React").createElement(r,{action:"cancel",label:h._("Publier"),onClick:function(){this._removeBackground();this._validateAndStartPost()}.bind(this),use:"confirm"}));c("SimpleXUIDialog").showEx(h._("L\u2019arri\u00e8re-plan que vous avez s\u00e9lectionn\u00e9 n\u2019appara\u00eetra que lorsque vous ajouterez du texte \u00e0 votre publication."),h._("Publier sans arri\u00e8re-plan\u00a0?"),s)}.bind(this),"ReactComposerPostButtonContainerMixin");else this._validateAndStartPost()},_validateAndStartPost:function n(){__p&&__p();var o,p=this;if(this._validateAlbumAddition()===false){c("SimpleXUIDialog").show(h._("Les publications de l\u2019album doivent contenir au moins une photo ou une vid\u00e9o. Veuillez en ajouter une \u00e0 votre publication ou supprimer la s\u00e9lection de l\u2019album."),h._("Impossible d\u2019ajouter la publication \u00e0 l\u2019album"));c("BanzaiODS").bumpEntityKey("www_composer_albumsv2","error_no_media");return}var q=this.context.composerID,r=c("ReactComposerScrapedAttachmentStore").getPostConfirmationDialog(q);if(r){var o=function(){__p&&__p();var s,t=c("ReactComposerScrapedAttachmentStore").getHasDisputedWarning(q);r.subscribe("confirm",function(){r.hide();r.destroy();if(t)c("BanzaiODS").bumpEntityKey(i,k);this._doStartPost()}.bind(p));if(t)(function(){var u=r.subscribe("show",function(){c("BanzaiODS").bumpEntityKey(i,j);u.unsubscribe()})})();r.show();return{v:void 0}}();if(typeof o==="object")return o.v}else this._doStartPost()},_removeBackground:function n(){c("Bootloader").loadModules(["ReactComposerFormattedTextActions"],function(o){o.setSelectedIndex(this.context.composerID,c("ReactComposerFormattedTextPickerComponent.react").NO_BG_COLOR)}.bind(this),"ReactComposerPostButtonContainerMixin")},_validateAlbumAddition:function n(){var o=this.context.composerID,p=c("ReactComposerAudienceStore").getCollectionID(o);if(!p)return true;var q=c("ReactComposerMediaUploadStore").getUploads(o);if(q&&q.size>0)return true;return this.context.gks&&this.context.gks.addAnyPostToAlbum},_doStartPost:function n(){if(this.context.gks.optimisticPosting)c("ReactComposerOptimisticPostingActions").startOptimisticallyPosting(this.context.composerID,this.props.config,c("ReactComposerAttachmentType").STATUS,this.context.actorID,this.context.targetID);else c("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});if(this.props.config.dialogComposer)c("$")(this.props.config.dialogElementID).remove()}};f.exports=m}),null);
__d("ReactComposerPostButtonContainer.react",["React","ReactComposerPostButtonContainerMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerPostButtonContainer",mixins:[c("ReactComposerPostButtonContainerMixin")]});f.exports=h}),null);
__d("ReactComposerProfilePhotoBlock.react",["cx","Layout.react","ReactComposerProfilePhoto.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props.profilePhotoBadge,p=this.props.onClick||c("emptyFunction");return c("React").createElement(c("Layout.react"),null,c("React").createElement(k,{className:"_q-v"},o?c("React").createElement(o,this.props):c("React").createElement(c("ReactComposerProfilePhoto.react"),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,profileDialogURI:this.props.profileDialogURI,onClick:p})),c("React").createElement(l,null,this.props.children))};function n(){i.apply(this,arguments)}n.propTypes={profileName:m.string,profilePicSrc:m.string.isRequired,profileURI:m.string,profileDialogURI:m.string,profilePhotoBadge:m.any,currentProfileBadgeURI:m.string,profileBadgeNUX:m.string,onClick:m.func};f.exports=n}),null);
__d("XSproutPromotionUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/sprouts/promotions/update/",{promotion_id:{type:"Int"},increment_view:{type:"Exists",defaultValue:false},end_promotion:{type:"Exists",defaultValue:false},current_promotion:{type:"Exists",defaultValue:false}})}),null);
__d("ReactComposerSproutBadgePromotionUtils",["AsyncRequest","XSproutPromotionUpdateController","ReactComposerActions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={initWWWPromotion:function i(j){var k=c("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",j).setExists("current_promotion",true).getURI();new(c("AsyncRequest"))().setURI(k).send()},addView:function i(j,k){var l=c("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",j).setExists("increment_view",true).getURI();new(c("AsyncRequest"))().setURI(l).setHandler(function(m){if(m.payload.clear_badge_on_next_composer)c("ReactComposerActions").setQueueFinishedSproutPromotion(k)}).send();c("ReactComposerActions").setLoggedSproutPromotionView(k)},endPromotion:function i(j,k){var l=c("XSproutPromotionUpdateController").getURIBuilder().setInt("promotion_id",j).setExists("end_promotion",true).getURI();new(c("AsyncRequest"))().setURI(l).send();c("ReactComposerActions").setFinishedSproutPromotion(k)}};f.exports=h}),null);
__d("ReactComposerSproutItem.react",["cx","fbt","ExtensibleSproutsItemType","Focus","Image.react","Link.react","React","TooltipData","XUISpinner.react","ReactComposerActions","ReactComposerSproutBadgePromotionUtils","joinClasses","getObjectValues"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerSproutItem1=function(){if(this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout)if(this.context.promotionID)c("ReactComposerSproutBadgePromotionUtils").endPromotion(this.context.promotionID,this.context.composerID)}.bind(this),o}m.prototype.render=function(){var n=this.props.loading?c("React").createElement(c("XUISpinner.react"),{className:"_20j1",background:"dark",size:"small"}):null,o=this.props.uiConfig,p=i._("NOUVEAUT\u00c9"),q=!this.context.hasFinishedSproutPromotion&&this.context.promotedSprout&&this.props.uiConfig.sprout&&this.context.promotedSprout===this.props.uiConfig.sprout?c("React").createElement("span",babelHelpers["extends"]({"data-tooltip-delay":"500"},c("TooltipData").propsFor(p),{"data-tooltip-display":"overflow",className:"_25vx",title:this.context.subtitle&&this.context.subtitle}),p):null;return c("React").createElement(c("Link.react"),{role:"button","aria-pressed":this.props.highlighted},c("React").createElement("div",babelHelpers["extends"]({},this.props,{className:c("joinClasses")("_m_1"+(this.props.loading?" _20jn":"")+(this.props.highlighted?" _3x6w":"")+(q?" _4c9w":""),o.className),onClick:this.$ReactComposerSproutItem1,onMouseDown:function r(s){return s.preventDefault()},"data-testid":o.webDriverTestID,ref:"sproutItemRoot"},c("TooltipData").propsFor(o.tooltip)),c("React").createElement(c("Image.react"),{className:"_4a0a",src:o.icon}),c("React").createElement("div",babelHelpers["extends"]({"data-tooltip-delay":"500","data-tooltip-display":"overflow"},c("TooltipData").propsFor(o.label),{className:"_2aha"}),o.label),q,n))};m.prototype.focus=function(){c("Focus").set(this.refs.sproutItemRoot)};m.contextTypes={hasFinishedSproutPromotion:l.bool.isRequired,promotionID:l.number,promotedSprout:l.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:l.string,composerID:l.string};m.defaultProps={highlighted:false};f.exports=m}),null);
__d("ReactComposerEllipsisSproutContainer.react",["cx","ix","React","ReactComposerContextMixin","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerSproutItem.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("ReactComposerContextMixin").contextTypes;j=babelHelpers.inherits(m,c("React").PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$ReactComposerEllipsisSproutContainer1=function(event){c("ReactComposerLoggingActions").composerEntry(this.context.composerID,c("ReactComposerLoggingName").ELLIPSIS_SPROUT)}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:{label:"",iconSrc:"/images/composer/sprouts/composer_sprout_ellipsis.png",icon:i("28705"),className:"_1gr3",loggingName:c("ReactComposerLoggingName").ELLIPSIS_SPROUT},onClick:this.$ReactComposerEllipsisSproutContainer1})};m.contextTypes=l;f.exports=m}),null);
__d("ReactComposerLazySproutContainer.react",["React","ReactComposerSproutItem.react","ReactComposerTaggerActions","ReactComposerContextMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ReactComposerContextMixin").contextTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={loading:false},this.$ReactComposerLazySproutContainer1=function(){this.setState({loading:true});if(this.props.uiConfig.sproutTaggerID)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.props.uiConfig.loggingName,this.props.uiConfig.sproutTaggerID,true)}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,onClick:this.$ReactComposerLazySproutContainer1,loading:this.state.loading})};k.contextTypes=j;f.exports=k}),null);
__d("ReactComposerMediaSprout.react",["cx","Arbiter","React","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerLoggingActions","ReactComposerLoggingName","ReactComposerMediaFilePickerController.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ExtensibleSproutsItemType","ReactComposerSproutBadgePromotionUtils","ReactComposerActions","ReactComposerContextMixin"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerContextMixin").contextTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ReactComposerMediaSprout1=function(event){if(this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===c("ExtensibleSproutsItemType").MEDIA)if(this.props.config.sproutsPromotionConfig.promotionID)c("ReactComposerSproutBadgePromotionUtils").endPromotion(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID);event.stopPropagation()}.bind(this),this.$ReactComposerMediaSprout2=function(){c("ReactComposerLoggingActions").composerEntry(this.context.composerID,c("ReactComposerLoggingName").MEDIA_SPROUT);c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),n}l.prototype.render=function(){var m=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA];return c("React").createElement("div",{onMouseDown:function n(o){return o.preventDefault()},className:"_6a _4mvf _fk5"},c("React").createElement(c("ReactComposerMediaFilePickerController.react"),{containerClassName:"_5g_r",loggingName:this.props.uiConfig.loggingName,disableFaceRecognition:m.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,mediaConfig:m,onClick:this.$ReactComposerMediaSprout1,onFilesSelected:this.$ReactComposerMediaSprout2,photoLimit:m.photoLimit,targetData:this.props.config.targetData,webDriverTestID:"media-sprout"},c("React").createElement(c("ReactComposerSproutItem.react"),{uiConfig:this.props.uiConfig,highlighted:this.props.highlighted})))};l.defaultProps={uiConfig:c("ReactComposerSproutsDefaultUIConfig")[c("ExtensibleSproutsItemType").MEDIA],highlighted:false};l.contextTypes=k;f.exports=l}),null);
__d("ComposerWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_CANCEL:"composer_cancel",COMPOSER_CANCEL_INTENT:"intent_composer_cancel",COMPOSER_ENTRY:"composer_entry",COMPOSER_NOT_RENDERED:"composer_not_renderer",COMPOSER_POST:"composer_post",COMPOSER_POST_CANCEL:"composer_post_cancel",COMPOSER_POST_FAILURE:"composer_post_failure",COMPOSER_POST_FAILURE_FATAL:"composer_post_fatal_failure",COMPOSER_POST_FAILURE_GIVEUP:"composer_post_giveup_failure",COMPOSER_POST_SUCCESS:"composer_post_success",COMPOSER_POST_COMPLETED:"composer_post_completed",COMPOSER_WRITTEN:"composer_written",ALBUM_ADD:"add_album",ALBUM_CANCEL:"cancel_album",ALBUM_INTENT:"intent_album",ALBUM_REMOVE:"remove_album",FRIEND_TAG_ADD:"add_friend_tag",FRIEND_TAG_CANCEL:"cancel_friend_tag",FRIEND_TAG_INTENT:"intent_friend_tag",FRIEND_TAG_REMOVE:"remove_friend_tag",FRIEND_TAG_SEARCH:"search_friend_tag",FRIEND_SHOW_MORE:"show_more_friend_tag",LOCATION_ADD:"add_location",LOCATION_CANCEL:"cancel_location",LOCATION_INTENT:"intent_location",LOCATION_REMOVE:"remove_location",LOCATION_SCROLL:"scroll_location",LOCATION_SEARCH:"search_location",MINUTIAE_ADD:"add_minutiae",MINUTIAE_CANCEL:"cancel_minutiae",MINUTIAE_CHANGE_ICON:"change_icon_minutiae",MINUTIAE_CHANGE_ICON_CANCEL:"change_icon_cancel_minutiae",MINUTIAE_CHANGE_ICON_INTENT:"change_icon_intent_minutiae",MINUTIAE_CHANGE_ICON_SEARCH:"change_icon_search_minutiae",MINUTIAE_INTENT:"intent_minutiae",MINUTIAE_REMOVE:"remove_minutiae",MINUTIAE_SCROLL:"scroll_minutiae",MINUTIAE_SEARCH:"search_minutiae",MINUTIAE_TYPE_CLICK:"type_click_minutiae",MINUTIAE_SEE_MORE:"see_more_minutiae",MINUTIAE_CHAIN_SKIP:"skip_chain_minutiae",MINUTIAE_CHAIN_SUGGEST:"suggest_chain_minutiae",MINUTIAE_ICONPICKER_QUERY:"minutiae_iconpicker_query",MINUTIAE_ICONPICKER_BOOTSTRAP:"minutiae_iconpicker_bootstrap",MINUTIAE_ICONPICKER_SELECT:"minutiae_iconpicker_select",MARKDOWN_INTENT:"markdown_intent",MEDIA_INTENT:"intent_media",MEDIA_CANCEL:"cancel_media",NAVIGATE_AWAY:"navigate_away",PHOTO_ADD:"add_photo",PHOTO_ADD_FAILURE:"add_photo_failure",PHOTO_ADD_SUCCESS:"add_photo_success",PHOTO_REMOVE:"remove_photo",PRIVACY_ADD:"add_privacy",PRIVACY_CANCEL:"cancel_privacy",VOICE_SWITCHER_CANCEL:"cancel_voice_switcher",PRIVACY_INTENT:"intent_privacy",PRIVACY_SCROLL:"scroll_privacy",PRIVACY_SEE_ALL_LISTS:"see_all_lists_privacy",SELECT_FRIEND_TIMELINE_INTENT:"intent_select_friend_timeline",SELECT_FRIEND_TIMELINE_ADD:"add_select_friend_timeline",SELECT_FRIEND_TIMELINE_CANCEL:"cancel_select_friend_timeline",SERVER_POST_BEGIN:"server_composer_post_begin",SERVER_POST_FAILURE:"server_composer_post_failure",SERVER_POST_SUCCESS:"server_composer_post_succeeded",POST_POST_WITH_TAG_BEGIN:"post_post_with_tag_begin",POST_POST_WITH_TAG_FAILURE:"post_post_with_tag_failure",POST_POST_WITH_TAG_SUCCESS:"post_post_with_tag_success",TARGET_SELECTOR_INTENT:"intent_target_selector",TARGET_SELECTOR_CANCEL:"cancel_target_selector",VIDEO_ADD:"add_video",VIDEO_ADD_FAILURE:"add_video_failure",VIDEO_ADD_SUCCESS:"add_video_success",VIDEO_REMOVE:"remove_video",FEATURE_INTENT:"composer_feature_intent",FEATURE_UPDATE:"composer_feature_update",FEATURE_CANCEL:"composer_feature_cancel",FEATURE_DONE:"composer_feature_done",SPROUTS_SCROLL:"inline_sprouts_scrolled_in_full_screen",SPROUTS_INITIAL:"inline_sprouts_initial_state",SPROUTS_STATE_CHANGE:"inline_sprouts_state_changed"})}),null);
__d("ReactComposerSproutsStyleUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={SPROUT_HEIGHT_PX:32,SPROUT_MARGIN_PX:8,SPROUT_LIST_VERTICAL_PADDING_PX:8,SPROUTS_PER_ROW:2,calculateVisibleSproutWindow:function i(j,k){var l=this.calculateSproutContainerHeight(j),m=this.SPROUT_HEIGHT_PX+this.SPROUT_MARGIN_PX,n=Math.round(Math.max(k-this.SPROUT_LIST_VERTICAL_PADDING_PX,0)/m),o=Math.round((k+l-2*this.SPROUT_LIST_VERTICAL_PADDING_PX)/m);return{start:n,end:o}},calculateVisibleSprouts:function i(j,k){var l={};for(var m=0;m<k.length;m++){var n=m>=j.start*this.SPROUTS_PER_ROW&&m<(j.end+1)*this.SPROUTS_PER_ROW;l[k[m]]=n}return l},calculateVisibleInlineSprouts:function i(j,k){var l={};for(var m=0;m<k.length;m++){var n=j.indexOf(k[m])>=0;l[k[m]]=n}return l},calculateSproutContainerHeight:function i(j){return j*this.SPROUT_HEIGHT_PX+Math.floor(j)*this.SPROUT_MARGIN_PX-this.SPROUT_LIST_VERTICAL_PADDING_PX}};f.exports=h}),null);
__d("ReactComposerSproutsListRenderer.react",["cx","invariant","Grid.react","React","ReactComposerActions","ReactComposerEllipsisSproutContainer.react","ReactComposerLoggingActions","ReactComposerSproutsDisplayState","ReactComposerSproutsStyleUtils","ReactComposerStore","ComposerWaterfallEvent","ReactComposerSproutBadgePromotionUtils","ExtensibleSproutsItemType","debounce","getObjectValues","joinClasses","ReactComposerContextMixin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes,n=c("ReactComposerContextMixin").contextTypes;j=babelHelpers.inherits(o,c("React").PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$ReactComposerSproutsListRenderer8=function(){this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_SCROLL)}.bind(this),q}o.prototype.getChildContext=function(){return{hasFinishedSproutPromotion:this.props.hasFinishedSproutPromotion,promotedSprout:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout,subtitle:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.subtitle,promotionID:this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.promotionID}};o.prototype.componentDidMount=function(){if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)setTimeout(function(){this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_INITIAL)}.bind(this),0);else this.$ReactComposerSproutsListRenderer4(c("ComposerWaterfallEvent").SPROUTS_INITIAL)};o.prototype.componentDidUpdate=function(p){if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED&&p.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE)this.$ReactComposerSproutsListRenderer3(c("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE);if(this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").INLINE&&p.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListRenderer4(c("ComposerWaterfallEvent").SPROUTS_STATE_CHANGE)};o.prototype.render=function(){var p=this.props.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED?this.$ReactComposerSproutsListRenderer5():this.$ReactComposerSproutsListRenderer6(),q=this.$ReactComposerSproutsListRenderer7();return c("React").createElement("div",{className:"_16ve",style:q,ref:function(r){return this.$ReactComposerSproutsListRenderer1=r}.bind(this),onScroll:this.context.gks.extensibleSproutsNumRows&&c("debounce")(this.$ReactComposerSproutsListRenderer8)},p)};o.prototype.$ReactComposerSproutsListRenderer7=function(){if(this.context.gks.extensibleSprouts&&this.context.gks.extensibleSproutsNumRows){var p=this.context.gks.extensibleSproutsNumRows,q=c("ReactComposerSproutsStyleUtils").calculateSproutContainerHeight(p);return{maxHeight:q+"px",overflowY:"auto"}}else return{}};o.prototype.$ReactComposerSproutsListRenderer3=function(event){__p&&__p();if(!this.$ReactComposerSproutsListRenderer1)return;var p=c("ReactComposerSproutsStyleUtils").calculateVisibleSproutWindow(this.context.gks.extensibleSproutsNumRows,this.$ReactComposerSproutsListRenderer1.scrollTop),q=c("ReactComposerSproutsStyleUtils").calculateVisibleSprouts(p,c("ReactComposerStore").getOrderedSprouts(this.context.composerID));c("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,q,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null);if(this.props.config.sproutsPromotionConfig){var r=this.props.config.sproutsPromotionConfig.sprout;if(!this.props.hasLoggedSproutPromotionView&&r)if(q[r]===true)if(this.props.config.sproutsPromotionConfig.promotionID)c("ReactComposerSproutBadgePromotionUtils").addView(this.props.config.sproutsPromotionConfig.promotionID,this.context.composerID)}};o.prototype.$ReactComposerSproutsListRenderer4=function(event){var p=c("ReactComposerSproutsStyleUtils").calculateVisibleInlineSprouts(this.$ReactComposerSproutsListRenderer2,c("ReactComposerStore").getOrderedSprouts(this.context.composerID));c("ReactComposerLoggingActions").sproutVisibilityUpdated(this.context.composerID,p,event,this.props.sproutsDisplayState,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null,this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.promotionID:null)};o.prototype.$ReactComposerSproutsListRenderer9=function(p,q){return c("React").createElement("li",{className:"_5xmp",key:q},p)};o.prototype.$ReactComposerSproutsListRenderer6=function(){__p&&__p();var p=[];this.$ReactComposerSproutsListRenderer2=[];var q=this.props.config.sproutsConfig,r=this.props.config.inlineSproutsList;if(q)if(r&&r.length>0){for(var s=0;s<r.length;s++)if(this.$ReactComposerSproutsListRenderer10(q[r[s]])&&!this.$ReactComposerSproutsListRenderer11(r[s]))if(this.$ReactComposerSproutsListRenderer12(r[s],p))break}else for(var t in q){if(!this.$ReactComposerSproutsListRenderer10(q[t])||!this.$ReactComposerSproutsListRenderer13(q[t])||this.$ReactComposerSproutsListRenderer11(t))continue;if(this.$ReactComposerSproutsListRenderer12(t,p))break}p.length<=3||i(0);return c("React").createElement("ul",{className:"_16vg"+(p.length===3?" _1oxv":"")},p,this.$ReactComposerSproutsListRenderer9(c("React").createElement(c("ReactComposerEllipsisSproutContainer.react"),null),"ELLIPSIS"))};o.prototype.$ReactComposerSproutsListRenderer5=function(){__p&&__p();var p=[],q=this.props.config.sproutsConfig,r=this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout;if(r)p.push(c("React").createElement(l,{key:r},this.props.sprouts[r]));if(q)for(var s in q){if(!this.$ReactComposerSproutsListRenderer10(q[s])||this.$ReactComposerSproutsListRenderer11(s)||s===r)continue;this.props.sprouts[s]||i(0);p.push(c("React").createElement(l,{key:s},this.props.sprouts[s]))}return c("React").createElement("div",{className:"_16vl"},c("React").createElement(c("Grid.react"),{cols:2,fixed:true,spacing:c("joinClasses")("pas","_1fng")},p))};o.prototype.$ReactComposerSproutsListRenderer10=function(p){return!!p&&p.enabled};o.prototype.$ReactComposerSproutsListRenderer13=function(p){return this.$ReactComposerSproutsListRenderer10(p)&&!!p&&p.inline};o.prototype.$ReactComposerSproutsListRenderer11=function(p){return!!this.props.isGroupTabSelected&&!this.$ReactComposerSproutsListRenderer14(p)};o.prototype.$ReactComposerSproutsListRenderer14=function(p){return p===c("ExtensibleSproutsItemType").MINUTIAE||p===c("ExtensibleSproutsItemType").LOCATION||p===c("ExtensibleSproutsItemType").WITH_TAG||p===c("ExtensibleSproutsItemType").MEDIA};o.prototype.$ReactComposerSproutsListRenderer12=function(p,q){this.props.sprouts[p]||i(0);this.$ReactComposerSproutsListRenderer2.push(p);q.push(this.$ReactComposerSproutsListRenderer9(this.props.sprouts[p],p));if(q.length>=3)return true;return false};o.contextTypes=n;o.childContextTypes={hasFinishedSproutPromotion:m.bool.isRequired,promotionID:m.number,promotedSprout:m.oneOf(c("getObjectValues")(c("ExtensibleSproutsItemType"))),subtitle:m.string};f.exports=o}),null);
__d("ReactComposerSproutsList.react",["React","ReactComposerActions","ReactComposerLazySproutContainer.react","ReactComposerSproutItem.react","ReactComposerSproutsDefaultUIConfig","ReactComposerSproutsListRenderer.react","ReactComposerContextMixin"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("ReactComposerContextMixin").contextTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.render=function(){var l=c("React").createElement(c("ReactComposerSproutsListRenderer.react"),babelHelpers["extends"]({},this.props,{extensibleSprouts:this.context.gks.extensibleSprouts,extensibleSproutsNumRows:this.context.gks.extensibleSproutsNumRows,sprouts:this.$ReactComposerSproutsList1()}));return l};k.prototype.$ReactComposerSproutsList1=function(){__p&&__p();var l=this.props.config.sproutsConfig,m={};if(l)for(var n in l){if(!l[n].enabled)continue;var o=c("ReactComposerSproutsDefaultUIConfig")[n];if(this.props.config.sproutsPromotionConfig&&this.props.config.sproutsPromotionConfig.sprout===n)o.sprout=n;var p=!this.props.fakeSprouts?this.props.sproutModules[n]||c("ReactComposerLazySproutContainer.react"):c("ReactComposerSproutItem.react");m[n]=c("React").createElement(p,{uiConfig:o,config:this.props.config})}return m};k.prototype.$ReactComposerSproutsList2=function(l){c("ReactComposerActions").expandSprouts(this.context.composerID)};function k(){h.apply(this,arguments)}k.contextTypes=j;f.exports=k}),null);
__d("ReactComposerSproutsListContainer.react",["invariant","JSResourceReference","React","ReactComposerContextMixin","ReactComposerSproutsDisplayState","ReactComposerSproutsList.react","ReactComposerStore","FluxContainer","ifRequired"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerContextMixin").contextTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$ReactComposerSproutsListContainer2={};this.state={additionalSproutModules:{},bootloading:false}}l.getStores=function(){var m=[c("ReactComposerStore")];c("ifRequired")("ReactComposerPostToGroupStore",function(n){m.push(n)});return m};l.calculateState=function(m,n,o){var p=false;c("ifRequired")("ReactComposerPostToGroupStore",function(q){p=q.getIsTabSelected(o.composerID)});return{sproutsDisplayState:c("ReactComposerStore").getSproutsDisplayState(o.composerID),isGroupTabSelected:p,hasLoggedSproutPromotionView:c("ReactComposerStore").hasLoggedSproutPromotionView(o.composerID),hasFinishedSproutPromotion:c("ReactComposerStore").hasFinishedSproutPromotion(o.composerID)}};l.prototype.componentDidMount=function(){this.$ReactComposerSproutsListContainer1=false;if(this.state.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListContainer3()};l.prototype.componentDidUpdate=function(){if(this.state.sproutsDisplayState===c("ReactComposerSproutsDisplayState").EXPANDED)this.$ReactComposerSproutsListContainer3()};l.prototype.componentWillUnmount=function(){this.$ReactComposerSproutsListContainer1=true};l.prototype.render=function(){this.context.jsModules.sprouts=Object.assign({},this.context.jsModules.sprouts,this.state.additionalSproutModules);return c("React").createElement(c("ReactComposerSproutsList.react"),{config:this.props.config,sproutsDisplayState:this.state.sproutsDisplayState,sproutModules:this.context.jsModules.sprouts,fakeSprouts:this.props.fakeSprouts,isGroupTabSelected:this.state.isGroupTabSelected,hasLoggedSproutPromotionView:this.state.hasLoggedSproutPromotionView,hasFinishedSproutPromotion:this.state.hasFinishedSproutPromotion})};l.prototype.$ReactComposerSproutsListContainer3=function(){__p&&__p();var m,n=this;if(this.state.bootloading)return;var o=this.props.config.sproutsConfig,p={};for(var q in o){if(!o[q].enabled||!o[q].lazyLoad)continue;this.context.jsResources.sprouts[q]||h(0);p[q]=this.context.jsResources.sprouts[q]}var r=function r(s){p[s].load().done(function(t){if(this.$ReactComposerSproutsListContainer1)return;this.$ReactComposerSproutsListContainer2[s]=t;this.setState({additionalSproutModules:Object.assign({},this.$ReactComposerSproutsListContainer2)})}.bind(n))};for(var s in p)r(s);this.setState({bootloading:true})};l.contextTypes=k;f.exports=c("FluxContainer").create(l,{withContext:true,withProps:true})}),null);
__d("ReactComposerWithSprouts.react",["cx","Arbiter","FluxContainer","React","ReactComposer.react","ReactComposerActions","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerContextMixin","ReactComposerEvents","ReactComposerLoggingName","ReactComposerSproutsDisplayState","ReactComposerStore","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactComposerContextMixin").contextTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(m,n){j.constructor.call(this,m,n);this.beforeCalculateInitialState(this.context.composerID,this.props);this.state=l.calculateState(this.state,this.props,this.context)}l.getStores=function(){return[c("ReactComposerStore")]};l.prototype.beforeCalculateInitialState=function(m,n){if(n.expandOnInit){c("ReactComposerActions").expandSprouts(m);c("ReactComposerAttachmentActions").initializeAttachment(m,n.defaultAttachmentOnExpand,true,c("ReactComposerLoggingName").OTHERS)}};l.calculateState=function(m,n,o){var p=o.composerID;return{displayState:c("ReactComposerStore").getSproutsDisplayState(p)}};l.prototype.componentWillMount=function(){this.$ReactComposerWithSprouts1=new(c("SubscriptionsHandler"))();this.$ReactComposerWithSprouts1.addSubscriptions(c("Arbiter").subscribeOnce("ReactFeedComposerXBootloader/selectcomposer/"+this.context.composerID,function(m,n){return this.$ReactComposerWithSprouts2(c("ReactComposerLoggingName").PROMPT,n)}.bind(this)))};l.prototype.render=function(){return c("React").createElement("div",{className:"_1cx1"+(this.state.displayState===c("ReactComposerSproutsDisplayState").EXPANDED?" _4qr4":"")+(this.state.displayState===c("ReactComposerSproutsDisplayState").INLINE?" _4a8c":"")+" _4aay _4ab3"+(this.context.gks&&!this.context.gks.addAnyPostToAlbum?" _2qma":""),onClick:function(m){return this.$ReactComposerWithSprouts2(c("ReactComposerLoggingName").INLINE_COMPOSER)}.bind(this),role:"presentation"},c("React").createElement(c("ReactComposer.react"),this.props.innerProps,this.props.children))};l.prototype.$ReactComposerWithSprouts2=function(m,n){__p&&__p();if(this.state.displayState===c("ReactComposerSproutsDisplayState").INLINE){c("ReactComposerActions").expandSprouts(this.context.composerID);c("ReactComposerAttachmentActions").initializeAttachment(this.context.composerID,this.props.defaultAttachmentOnExpand,true,m);var o=c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID);c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,o||this.props.defaultAttachmentOnExpand,true,m);if(n)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,n.loggingName,n.taggerType);if(!c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)||c("ReactComposerTaggerStore").getSelectedTagger(this.context.composerID)===c("ReactComposerTaggerType").FORMATTED_TEXT)setTimeout(function(){return c("Arbiter").inform(c("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.context.composerID)}.bind(this),0)}};l.defaultProps={expandOnInit:false};l.contextTypes=k;f.exports=c("FluxContainer").create(l,{withContext:true,withProps:true})}),null);
__d("ReactComposerBootloaderPropTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes;f.exports=h.shape({statusAttachment:h.func.isRequired,mediaAttachment:h.func.isRequired,qandaAttachment:h.func,questionAttachment:h.func,visualPollAttachment:h.func,extraAttachment:h.func,redEnvelopeAttachment:h.func,findPlayersAttachment:h.func,salesPromoAttachment:h.func,eventCreationAttachment:h.func})}),null);
__d("ReactComposerContextConfig",["React","ReactComposerContextMixin"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("ReactComposerContextMixin").contextTypes;f.exports=h.shape(i)}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l)},handlePostSucceeded:function j(k){c("ReactComposerActions").postSucceeded(k);c("ReactComposerActions").reset(k)}};f.exports=i}),null);
__d("ReactComposerMediaPrefillConfig",["React"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape({photoID:h.string,uploadID:h.string,thumbSrc:h.string,fileURL:h.string,filename:h.string,cubestripURI:h.string,mediaType:h.string})}),null);
__d("ReactComposerPhotoPrefillConfig",["React"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape({uploadID:h.string,photoID:h.string,thumbSrc:h.string,cubestripURI:h.string})}),null);
__d("ReactComposerPrefillConfig",["React","ReactComposerAttachmentType","ReactComposerMediaPrefillConfig","ReactComposerPhotoPrefillConfig","ReactComposerTaggerType","getOwnObjectValues"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;f.exports=h.shape({mentionsInput:h.shape({textWithEntities:h.shape({text:h.string}),selection:h.object}),selectedAttachment:h.oneOf(c("getOwnObjectValues")(c("ReactComposerAttachmentType"))),shouldActivateSelectedAttachment:h.bool,taggersData:h.object,selectedTagger:h.oneOf(c("getOwnObjectValues")(c("ReactComposerTaggerType"))),mediasData:h.arrayOf(c("ReactComposerMediaPrefillConfig")),photosData:h.arrayOf(c("ReactComposerPhotoPrefillConfig")),attachmentPreviewData:h.shape({scrapedURL:h.string,scrapedAttachment:h.shape({markup:h.object,attachmentConfig:h.object}),minutiaeAttachment:h.shape({markup:h.object})}),composerSellAttachment:h.shape({title:h.string,price:h.string,categoryID:h.string,categoryText:h.string,locationID:h.string,locationText:h.string,uneditablePriceOverride:h.string}),donateConfig:h.shape({charityName:h.string,fundraiserCampaignId:h.string}),liveBroadcastData:h.shape({accessToken:h.string,streamURL:h.string}),topicFeedTags:h.arrayOf(h.string),multilingualData:h.shape({specifiedDialect:h.string,multilingualStatuses:h.arrayOf(h.shape({dialect:h.string,message:h.string}))}),expandSproutsOnInit:h.bool,disableRemovePhotos:h.bool,taskData:h.shape({assigneeID:h.number,assigneeName:h.string,canEditMessage:h.bool.isRequired,composerDomID:h.object.isRequired,description:h.string,dueDate:h.number.isRequired,postID:h.number.isRequired,status:h.string.isRequired,storyDomID:h.string.isRequired,title:h.string.isRequired}),composedText:h.shape({blocks:h.arrayOf(h.object),entities:h.object}),findPlayersAttachment:h.shape({name:h.string,title:h.string,tags:h.string}),groupMeetUpAttachment:h.shape({module:h.func.isRequired,locationPageName:h.string.isRequired,locationPageID:h.string.isRequired,roughTime:h.string.isRequired,timestamp:h.number.isRequired,timezone:h.string.isRequired})})}),null);
__d("getBlockNumberAndOffsetFromText",["splitTextIntoTextBlocks"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){var k=i.slice(0,j),l=c("splitTextIntoTextBlocks")(k),m=l.map(function(o){return o.length}).slice(0,-1),n=m.reduce(function(o,p){return o+p+1},0);return{block:l.length-1,offset:j-n}}f.exports=h}),null);
__d("ReactComposerPrefillMentionsInput",["EditorState","SelectionState","createEditorStateWithEntities","getBlockNumberAndOffsetFromText","getMentionsInputDecorator"],(function a(b,c,d,e,f,g){__p&&__p();var h={createEditorState:function i(j,k){__p&&__p();if(!j||!j.text)return c("EditorState").createEmpty();var l=c("createEditorStateWithEntities")({text:j.text,ranges:j.ranges||[],decorator:c("getMentionsInputDecorator")(),addEntityToContentStateFn:function p(q,r){return r.createEntity("MENTION","IMMUTABLE",{id:q.id,isWeak:!!q.weakreference,type:q.type})}});if(k){var m=l.getCurrentContent().getBlockMap(),n=c("getBlockNumberAndOffsetFromText")(j.text,k.start),o=c("getBlockNumberAndOffsetFromText")(j.text,k.end);l=c("EditorState").acceptSelection(l,new(c("SelectionState"))({anchorKey:m.skip(n.block).first().getKey(),anchorOffset:n.offset,focusKey:m.skip(o.block).first().getKey(),focusOffset:o.offset,isBackward:false}))}else l=c("EditorState").moveSelectionToEnd(l);return l},getMentionsFromEditorState:function i(j){__p&&__p();var k=j.getCurrentContent(),l=[],m=0;k.getBlockMap().forEach(function(n){n.findEntityRanges(function(){return true},function(o,p){var q=n.getEntityAt(o);if(!q)return;var r=k.get(q);l.push({entity:{id:Number(r.getData().id),noncoworker:false,type:r.getData().type,url:""},length:p-o,offset:o+m})});m+=n.getLength()+1});return l}};f.exports=h}),null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/question/bootstrap/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}})}),null);