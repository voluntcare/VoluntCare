if (self.CavalryLogger) { CavalryLogger.start_js(["vvPzF"]); }

__d("ChatContentSearchContextualDialog.react",["cx","ContextualLayerAutoFlipHorizontal","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({addedBehaviors:[c("ContextualLayerAutoFlipHorizontal"),c("LayerHideOnEscape")],displayName:"StickerXUIContextualDialog",theme:{wrapperClassName:"_53ii",arrowDimensions:{offset:47,length:16}}}));f.exports=i}),null);
__d("ChatContentSearchButton.react",["cx","fbt","BootloadOnRender.react","ChatFlyoutPlaceholder.react","ChatContentSearchContextualDialog.react","JSResource","LazyComponent.react","Link.react","ReactComponentWithPureRenderMixin","React","MercuryShareAttachmentRenderLocations","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=278,l=c("React").createClass({displayName:"ChatContentSearchButton",_clickGuard:false,mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{clicked:j.bool,ContextualDialogClass:j.func,flyoutAlignment:j.oneOf(["left","right"]),getQuery:j.func.isRequired,location:j.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),onLoad:j.func,onSelect:j.func.isRequired},getDefaultProps:function m(){return{flyoutAlignment:"left",location:c("MercuryShareAttachmentRenderLocations").CHAT}},getInitialState:function m(){return{query:"",shown:!!this.props.clicked}},componentDidMount:function m(){this.props.onLoad&&this.props.onLoad(this)},updateQuery:function m(){this.setState({query:this.props.getQuery()})},hideFlyout:function m(){this.setState(this.getInitialState())},render:function m(){return c("React").createElement("span",null,c("React").createElement(c("Link.react"),{className:c("joinClasses")(this.props.className,this.state.shown?"open":""),href:"#",onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:"button",title:i._("Choisissez un gif"),ref:"link"}),this.renderLayers())},renderLayers:function m(){if(!this.state.shown)return null;var n=this.props.ContextualDialogClass||c("ChatContentSearchContextualDialog.react");return c("React").createElement(n,{alignment:this.props.flyoutAlignment,contextRef:function(){return this.refs.link}.bind(this),onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:k,key:"contextualDialog"},c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{location:this.props.location,onEscKeyDown:this.hideFlyout,onSelect:this._handleSelect,query:this.state.query}),loader:c("JSResource")("ChatContentSearchFlyout.react").__setRef("ChatContentSearchButton.react"),placeholder:c("React").createElement(c("ChatFlyoutPlaceholder.react"),null)}))},_handleMouseDown:function m(n){this._clickGuard=this.state.shown},_handleClick:function m(n){n.stopPropagation();if(this.state.shown||this._clickGuard)return;this.setState({query:this.props.getQuery(),shown:!this.state.shown})},_handleSelect:function m(n,o){this.props.onSelect(n,o);this.hideFlyout()},_handleContextualDialogToggle:function m(n){this.setState({shown:n})}});f.exports=l}),null);
__d("ChatEmojiButton.react",["cx","fbt","BootloadOnRender.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","Link.react","ReactComponentWithPureRenderMixin","React","XUIContextualDialog.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=278,l=c("React").createClass({displayName:"ChatEmojiButton",_clickGuard:false,mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{ContextualDialogClass:j.func.isRequired,flyoutAlignment:j.oneOf(["left","right"]),fromChatTab:j.bool,onMount:j.func,onSelect:j.func,sendCustomEmoji:j.func,threadID:j.string},getDefaultProps:function m(){return{ContextualDialogClass:c("XUIContextualDialog.react"),flyoutAlignment:"left"}},getInitialState:function m(){return{shown:false}},componentDidMount:function m(){this.props.onMount&&this.props.onMount(this)},hideFlyout:function m(){this.setState(this.getInitialState());this.props.getInput&&this.props.getInput().focus()},render:function m(){return c("React").createElement(c("Link.react"),{className:c("joinClasses")(this.props.className,this.state.shown?"open":""),href:"#",onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:"button",title:i._("Choisir un emoji"),ref:"link"},this.renderLayers())},renderLayers:function m(){if(!this.state.shown)return null;var n=this.props.ContextualDialogClass;return c("React").createElement(n,{alignment:this.props.flyoutAlignment,contextRef:function(){return this.refs.link}.bind(this),offsetY:this.props.fromChatTab?-20:10,onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:k,key:"contextualDialog"},c("React").createElement(c("BootloadOnRender.react"),{component:c("React").createElement(c("LazyComponent.react"),{onCategorySelect:this._focusInput,onEscKeyDown:this.hideFlyout,onSelect:this._handleSelect,sendCustomEmoji:this.props.sendCustomEmoji,threadID:this.props.threadID,width:k}),loader:c("JSResource")("ChatEmojiFlyout.react").__setRef("ChatEmojiButton.react"),placeholder:c("React").createElement(c("ChatFlyoutPlaceholder.react"),null)}))},_focusInput:function m(){this.props.getInput&&this.props.getInput().focus()},_handleMouseDown:function m(){this._clickGuard=this.state.shown},_handleClick:function m(n){n.stopPropagation();if(this._clickGuard){this._clickGuard=false;return}this.setState({shown:!this.state.shown});this._focusInput()},_handleSelect:function m(n){this.props.onSelect&&this.props.onSelect(n)},_handleContextualDialogToggle:function m(n){this.setState({shown:n})}});f.exports=l}),null);