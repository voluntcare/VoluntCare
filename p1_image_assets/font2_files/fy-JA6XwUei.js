if (self.CavalryLogger) { CavalryLogger.start_js(["ffB7x"]); }

__d("BillingAgreementType",[],(function a(b,c,d,e,f,g){f.exports={YEARLY:89,MONTHLY:77,WEEKLY:87,DAILY:68}}),null);
__d("CommerceContactMerchantShippingAddress.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.render=function(){__p&&__p();if(!this.props.address)return null;var l=this.props.address,m=l.care_of,n=l.address_line_one,o=l.address_line_two,p=l.city,q=l.country,r=l.postal_code,s=l.state,t=null;if(o&&r)t=h._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address address_line_two",o),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address postal code",r),h.param("shipping address country",q)]);else if(o)t=h._("{shipping address address_line_one}, {shipping address address_line_two}, {shipping address city}, {shipping address state}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address address_line_two",o),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address country",q)]);else if(r)t=h._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address postal code}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address postal code",r),h.param("shipping address country",q)]);else t=h._("{shipping address address_line_one}, {shipping address city}, {shipping address state}, {shipping address country}",[h.param("shipping address address_line_one",n),h.param("shipping address city",p),h.param("shipping address state",s),h.param("shipping address country",q)]);return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",null,m),t)};f.exports=k}),null);
__d("P2PCheckoutPriceDetails.react",["cx","fbt","LeftRight.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=i._("Adresse obligatoire");j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.renderLineItemRow=function(t,u,v){return c("React").createElement("div",{className:"_46ld"},c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("P2PText.react"),{display:"inline",type:v?"primary":"secondary"},c("React").createElement("span",{className:"_10ba"+(v?" _3a06":"")},t)),c("React").createElement(c("P2PText.react"),{className:"_10ba _46lf"+(!u?" _46lg":""),display:"inline",type:v?"primary":"secondary"},c("React").createElement("span",{className:v?"_3a06":""},u?u:m))))},p}n.prototype.render=function(){return c("React").createElement("div",{className:"_46lh"},this.props.showSubtotalField?this.renderLineItemRow(i._("Sous-total"),this.props.subtotal):null,this.props.showTaxField?this.renderLineItemRow(i._("Taxe"),this.props.tax):null,this.props.showShippingField?this.renderLineItemRow(i._("Livraison"),this.props.shipping):null,this.renderLineItemRow(i._("Total"),this.props.total,true))};n.propTypes={shipping:l.string,subtotal:l.string,tax:l.string,total:l.string,showShippingField:l.bool,showSubtotalField:l.bool,showTaxField:l.bool};n.defaultProps={showShippingField:true,showSubtotalField:true,showTaxField:true};f.exports=n}),null);
__d("P2PPlatformContextStore",["Arbiter","ChannelConstants","CurrentUser","EventEmitter","ImmutableObject","Map","MercuryIDs","P2PActions","P2PActionConstants","P2PAPI","P2PChannelType","P2PDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=new(c("Map"))(),k=new(c("Map"))(),l=void 0;h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(){i.constructor.call(this);l=c("P2PDispatcher").register(this.onEventDispatched.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_NEW),this.handleChannelUpdated.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_ELIGIBLE_ITEM_UPDATED),this.handleChannelChanged.bind(this));c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").PLATFORM_CONTEXT_DISMISSED),this.handleChannelChanged.bind(this))}m.prototype.onEventDispatched=function(n){__p&&__p();var o=n.type,p=n.data;switch(o){case c("P2PActionConstants").PLATFORM_CONTEXT_ADDED:this.handlePlatformContextAdded(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_ADDED_ERROR:this.handlePlatformContextAddedError(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_SAVE_ERRORS_CLEARED:this.handlePlatformContextSaveErrorsCleared(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_BANNER_DISMISSED:this.handlePlatformContextBannerDisimssed(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:this.handlePlatformContextProductItemSold(p);this.emit("change");break;case c("P2PActionConstants").PLATFORM_CONTEXT_CHANGED:this.handlePlatformContextChanged(p);this.emit("change");break}};m.prototype.handleChannelUpdated=function(n,o){var p=o.obj;c("P2PActions").addPlatformContext(p)};m.prototype.handleChannelChanged=function(n,o){var p=o.obj;c("P2PActions").platformContextChanged(p)};m.prototype.handlePlatformContextAdded=function(n){this.setPlatformContext(n)};m.prototype.handlePlatformContextAddedError=function(n){k.set(n.itemID,n.error)};m.prototype.handlePlatformContextSaveErrorsCleared=function(n){k["delete"](n)};m.prototype.handlePlatformContextChanged=function(n){j.forEach(function(o,p){if(o.id===n.id)this.setPlatformContext(n)}.bind(this))};m.prototype.handlePlatformContextBannerDisimssed=function(n){j.forEach(function(o,p){if(o.id===n){if(this.isViewerSellerForPlatformContext(o))o=c("ImmutableObject").set(o,{banner:c("ImmutableObject").set(o.banner,{shouldShowToSeller:false})});else if(this.isViewerBuyerForPlatformContext(o))o=c("ImmutableObject").set(o,{banner:c("ImmutableObject").set(o.banner,{shouldShowToBuyer:false})});j.set(p,o)}}.bind(this))};m.prototype.handlePlatformContextProductItemSold=function(n){j.forEach(function(o,p){if(o.id===n){o=c("ImmutableObject").set(o,{product:c("ImmutableObject").set(o.product,{isAvailable:false})});j.set(p,o)}})};m.prototype.setPlatformContext=function(n){var o=new(c("ImmutableObject"))(n);o=c("ImmutableObject").set(o,{product:new(c("ImmutableObject"))(n.product)});o=c("ImmutableObject").set(o,{banner:new(c("ImmutableObject"))(n.banner)});j.set(this.getOtherUserIDForPlatformContext(n),o)};m.prototype.shouldShowBanner=function(n){__p&&__p();var o=void 0,p=void 0;if(!n)return false;o=this.getPlatformContextByOtherUserID(n);if(!o){j.set(n,new(c("ImmutableObject"))({}));c("P2PAPI").getPlatformContextByOtherUserID({otherUserID:n});return false}p=o.banner;return!!(this.isViewerSellerForPlatformContext(o)&&p.shouldShowToSeller||this.isViewerBuyerForPlatformContext(o)&&p.shouldShowToBuyer)};m.prototype.isViewerSellerForPlatformContext=function(n){return n.sellerID===c("CurrentUser").getID()};m.prototype.isViewerBuyerForPlatformContext=function(n){return n.buyerID===c("CurrentUser").getID()};m.prototype.getOtherUserIDForPlatformContext=function(n){return this.isViewerSellerForPlatformContext(n)?n.buyerID:n.sellerID};m.prototype.getPlatformContextByOtherUserID=function(n){return j.get(n)};m.prototype.getPlatformContextByID=function(n){__p&&__p();for(var o=j.values(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.id===n)return s}return null};m.prototype.getThreadIDFromPlatformContext=function(n){var o=this.getOtherUserIDForPlatformContext(n);return c("MercuryIDs").getThreadIDFromUserID(o)};m.prototype.getSaveError=function(n){return k.get(n)};m.prototype.getDispatchToken=function(){return l};f.exports=new m()}),null);
__d("P2PPlatformContextProductItemShape",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=h.shape({description:h.string,formattedAmount:h.string,image:h.string,isAvailable:h.bool,loggingData:h.object,logoImage:h.string,merchantLogo:h.string,name:h.string,rawAmount:h.shape({currency:h.string,amount:h.number}),refURL:h.string});f.exports=i}),null);
__d("P2PProductItemDetails.react",["cx","BackgroundImage.react","Image.react","LineClamp.react","Link.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){__p&&__p();var m=this.props,n=void 0,o=void 0,p=m.metadata,q=m.size,r=void 0;if(m.image)n=c("React").createElement("div",{className:"_4rys"},c("React").createElement(c("Link.react"),{href:m.refURL,target:"_blank"},c("React").createElement(c("BackgroundImage.react"),{backgroundSize:"cover",height:72,src:m.image,width:72})));if(m.merchantLogo)r=c("React").createElement("div",{className:"_3-94"},c("React").createElement(c("Image.react"),{height:25,src:m.merchantLogo}));if(m.description)o=c("React").createElement(c("P2PText.react"),{className:"_4ryt",shade:"light",type:"secondary"},c("React").createElement(c("LineClamp.react"),{lines:2},m.description));if(m.metadata)p=c("React").createElement(c("P2PText.react"),{className:"_291r",shade:"light",type:"secondary"},m.metadata);return c("React").createElement("div",{className:"_1pn3"},r,c("React").createElement("div",{className:"_4ryu"},n,c("React").createElement("div",{className:"_4ryv"},c("React").createElement(c("P2PText.react"),{className:"_4ryw",shade:"dark",size:q,type:"primary"},m.name),o,p)))};function l(){i.apply(this,arguments)}l.propTypes={description:k.string,merchantLogo:k.string,metadata:k.string,name:k.string,image:k.string,refURL:k.string,size:k.oneOf(["small","medium"])};l.defaultProps={size:"medium"};f.exports=l}),null);
__d("P2PPlatformProductItemDetails.react",["P2PPlatformContextProductItemShape","P2PProductItemDetails.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.item;return c("React").createElement(c("P2PProductItemDetails.react"),{description:l.description,image:l.image,merchantLogo:l.merchantLogo,metadata:this.props.configSelections,name:l.name,refURL:l.refURL,size:this.props.size})};function k(){h.apply(this,arguments)}k.propTypes={configSelections:j.string,item:c("P2PPlatformContextProductItemShape").isRequired,size:j.oneOf(["small","medium"])};k.defaultProps={size:"small"};f.exports=k}),null);
__d("PageProductTransactionOrderStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AWAITING_PAYMENT_METHOD:"awaiting_payment_method",AWAITING_PAYMENT:"awaiting_payment",PAYMENT_SUBMITTED:"payment_submitted",PAYMENT_EXPIRED:"payment_expired",SHIPPED:"shipped",VOIDED:"voided",PENDING_APPROVAL:"pending_approval",PAYMENT_APPROVED:"payment_approved"})}),null);
__d("CommerceContactMerchantReceiptDialog.react",["cx","fbt","CommerceContactMerchantShippingAddress.react","Image.react","P2PActions","P2PAPI","P2PCheckoutPriceDetails.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PErrorDialog.react","P2PLoadingMask.react","P2PPlatformContextStore","P2PPlatformProductItemDetails.react","P2PText.react","PageProductTransactionOrderStatus","React","StoreAndPropBasedStateMixin","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=400,n=300,o=c("React").createClass({displayName:"CommerceContactMerchantReceiptDialog",mixins:[c("StoreAndPropBasedStateMixin")(c("P2PPlatformContextStore"))],propTypes:{invoiceID:l.string.isRequired,onDialogToggle:l.func,platformContextID:l.string.isRequired},getInitialState:function q(){return{error:null,invoiceDetails:null,loading:true}},statics:{calculateState:function q(r){return{platformContext:c("P2PPlatformContextStore").getPlatformContextByID(r.platformContextID)}}},componentWillMount:function q(){c("P2PAPI").getCommerceInvoiceDetails({invoiceID:this.props.invoiceID,onError:this.handleGetInvoiceDetailsError,onSuccess:this.handleGetInvoiceDetailsSuccess});c("P2PAPI").getPlatformContextByID({id:this.props.platformContextID})},handleGetInvoiceDetailsSuccess:function q(r){this.setState({invoiceDetails:r,loading:false})},handleGetInvoiceDetailsError:function q(r){this.setState({loading:false,error:r.error})},isUnsuccessfulInvoiceStatus:function q(){var r=this.state.invoiceDetails&&this.state.invoiceDetails.status;if(!r)return false;return r===c("PageProductTransactionOrderStatus").VOIDED||r===c("PageProductTransactionOrderStatus").PAYMENT_EXPIRED},renderShippingAddressSection:function q(){var r=this.state.invoiceDetails.ship_to_address;if(!r)return null;var s=c("React").createElement(c("P2PText.react"),{type:"primary"},c("React").createElement(c("CommerceContactMerchantShippingAddress.react"),{address:r})),t=i._("ENVOYER \u00c0");return c("React").createElement(p,{content:s,label:t})},renderPaymentStatusSection:function q(){var r=this.state.invoiceDetails.payment&&this.state.invoiceDetails.payment.payment_receipt_display_name;if(!r.__html)r={__html:r};var s=c("React").createElement(c("P2PText.react"),{className:this.isUnsuccessfulInvoiceStatus()?"_xed":"",dangerouslySetInnerHTML:r,key:"paymentStatus",type:"primary"}),t=i._("STATUT DU PAIEMENT"),u=this.state.invoiceDetails.payment.payment_data.receipt_photo_url,v=u?c("React").createElement(c("Image.react"),{className:"_3-8z",key:"receiptImage",src:u,width:n}):null;return c("React").createElement(p,{content:[s,v],label:t})},renderShippingStatusSection:function q(){var r=this.state.invoiceDetails.shipment_status_display_name;if(!r)return null;if(!r.__html)r={__html:r};var s=c("React").createElement(c("P2PText.react"),{dangerouslySetInnerHTML:r,key:"shippingStatus",type:"primary"}),t=i._("STATUT D\u2019EXP\u00c9DITION");return c("React").createElement(p,{content:s,label:t})},renderProductDetailsSection:function q(){var r=this.state.platformContext;if(!r||!r.product)return null;var s=c("React").createElement(c("P2PPlatformProductItemDetails.react"),{item:r.product,size:"medium"});return c("React").createElement(p,{content:s})},renderProductPriceSection:function q(){var r=this.state.invoiceDetails,s=r.formatted_subtotal,t=r.formatted_shipping_cost,u=r.formatted_total,v=c("React").createElement(c("P2PCheckoutPriceDetails.react"),{shipping:t,subtotal:s,total:u,showTaxField:false});return c("React").createElement(p,{content:v})},renderOrderNumberSection:function q(){var r=this.props.invoiceID,s=c("React").createElement(c("P2PText.react"),{type:"secondary"},i._("Commande n\u00b0{order_number}",[i.param("order_number",r)]));return c("React").createElement(p,{content:s})},renderReceipt:function q(){if(!this.state.invoiceDetails)return null;return c("React").createElement("div",null,this.renderProductDetailsSection(),this.renderProductPriceSection(),this.renderShippingAddressSection(),this.renderPaymentStatusSection(),this.renderShippingStatusSection(),this.renderOrderNumberSection())},handleClose:function q(){c("P2PActions").hideDialog()},handleToggle:function q(r){!r&&this.handleClose()},render:function q(){if(this.state.error){var r=i._("Erreur lors de la r\u00e9cup\u00e9ration de votre re\u00e7u");return c("React").createElement(c("P2PErrorDialog.react"),{error:this.state.error,onOKClick:this.handleClose,title:r})}return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onDialogToggle||this.handleToggle,repositionOnUpdate:true,width:m},c("React").createElement(c("P2PDialogTitle.react"),null,i._("Re\u00e7u")),c("React").createElement(c("P2PDialogBody.react"),{className:"_3dcf"},c("React").createElement(c("P2PLoadingMask.react"),{visible:this.state.loading}),this.renderReceipt()))}});j=babelHelpers.inherits(p,c("React").Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.label?c("React").createElement(c("P2PText.react"),{className:"_3dce",type:"secondary"},this.props.label):null;return c("React").createElement("div",{className:c("joinClasses")("_3dcd",this.props.className)},q,this.props.content)};function p(){j.apply(this,arguments)}p.propTypes={content:l.node,label:l.node};f.exports=o}),null);
__d("FBPaymentsFormFieldInputConfigs",["fbt","FBPaymentsNormalizers","FBPaymentsValidators"],(function a(b,c,d,e,f,g,h){"use strict";var i=9,j=4,k=17,l=2,m=5,n={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripWhitespace],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez indiquer votre adresse e-mail.")},{validator:c("FBPaymentsValidators").isEmailAddress,errorMessage:h._("Veuillez saisir une adresse e-mail valide.")}]},o={normalizers:[c("FBPaymentsNormalizers").trim],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez entrer votre nom.")},{validator:c("FBPaymentsValidators").minLength(2),errorMessage:h._("Votre nom doit contenir au moins 2 lettres.")}]},p={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez indiquer votre num\u00e9ro de t\u00e9l\u00e9phone.")}]},q={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(i)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez entrer le num\u00e9ro de routage de votre banque.")},{validator:c("FBPaymentsValidators").exactLength(i),errorMessage:h._("Votre num\u00e9ro de routage bancaire doit contenir 9 chiffres exactement.")}]},r={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(k)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez entrer votre num\u00e9ro de compte bancaire.")},{validator:c("FBPaymentsValidators").minLength(j),errorMessage:h._("Votre num\u00e9ro de compte bancaire doit contenir au moins 4 chiffres.")},{validator:c("FBPaymentsValidators").maxLength(k),errorMessage:h._("Votre num\u00e9ro de compte bancaire doit contenir 17 chiffres maximum.")}]},s={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonAlphabetic,c("FBPaymentsNormalizers").toUpperCase,c("FBPaymentsNormalizers").truncate(l)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez entrer votre \u00e9tat.")},{validator:c("FBPaymentsValidators").exactLength(l),errorMessage:h._("Veuillez saisir un \u00e9tat valide.")}]},t={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumeric,c("FBPaymentsNormalizers").truncate(m)],validations:[{validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez entrer votre code postal.")},{validator:c("FBPaymentsValidators").exactLength(m),errorMessage:h._("Veuillez entrer un code postal \u00e0 5 chiffres.")}]},u={normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumericAndDot],validations:[{validator:c("FBPaymentsValidators").isPrice,errorMessage:h._("Veuillez entrer un prix valide.")}]},v={EMAIL_INPUT_CONFIG:n,NAME_INPUT_CONFIG:o,PHONE_NUMBER_INPUT_CONFIG:p,BANK_ROUTING_NUMBER_INPUT_CONFIG:q,BANK_ACCOUNT_NUMBER_INPUT_CONFIG:r,ADDRESS_STATE_INPUT_CONFIG:s,ADDRESS_ZIP_INPUT_CONFIG:t,PRICE_INPUT_CONFIG:u};f.exports=v}),null);
__d("FBPaymentsPriceFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getPlaceholderText=function(){return h._("Prix")};k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").PRICE_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCheckoutActions",["FBPaymentsDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h={types:{SHOW_HARD_ERROR_ON_EXTENSIONS:"show_hard_error_on_extensions",UPDATE_PAYMENT_STEP:"update_payment_step"},showHardErrorOnExtensions:function i(j){c("FBPaymentsDispatcher").dispatch({type:h.types.SHOW_HARD_ERROR_ON_EXTENSIONS,data:j})},updatePaymentStep:function i(j){c("FBPaymentsDispatcher").dispatch({type:h.types.UPDATE_PAYMENT_STEP,data:j})}};f.exports=h}),null);
__d("FBPaymentsLoggerBase",["abstractMethod","idx","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$FBPaymentsLoggerBase2={event_type:"client"};this.$FBPaymentsLoggerBase3={};this.$FBPaymentsLoggerBase1=this.__getLoggerInstance()}h.prototype.log=function(){this.updateData(this.$FBPaymentsLoggerBase2);this.updateExtraData(this.$FBPaymentsLoggerBase3);this.setClientTime(Math.floor(Date.now()/1e3).toString());this.$FBPaymentsLoggerBase1.log();this.$FBPaymentsLoggerBase1.clear()};h.prototype.logVital=function(){this.updateData(this.$FBPaymentsLoggerBase2);this.updateExtraData(this.$FBPaymentsLoggerBase3);this.setClientTime(Math.floor(Date.now()/1e3).toString());this.$FBPaymentsLoggerBase1.logVital();this.$FBPaymentsLoggerBase1.clear()};h.prototype.updateData=function(i){this.$FBPaymentsLoggerBase1.updateData(i);return this};h.prototype.updateExtraData=function(i){this.$FBPaymentsLoggerBase1.updateExtraData(i);return this};h.prototype.setGlobalFields=function(i){this.$FBPaymentsLoggerBase2=babelHelpers["extends"]({},this.$FBPaymentsLoggerBase2,i);return this};h.prototype.clearGlobalFields=function(){this.$FBPaymentsLoggerBase2={event_type:"client"};return this};h.prototype.setGlobalExtraData=function(i){this.$FBPaymentsLoggerBase3=i;return this};h.prototype.clearGlobalExtraData=function(){this.$FBPaymentsLoggerBase3={};return this};h.prototype.setClientTime=function(i){this.$FBPaymentsLoggerBase1.setClientTime(i);return this};h.prototype.setContainerModule=function(i){this.$FBPaymentsLoggerBase1.setContainermodule(i);return this};h.prototype.setContextID=function(i){this.$FBPaymentsLoggerBase1.setContextID(i);return this};h.prototype.setCurrency=function(i){this.$FBPaymentsLoggerBase1.setCurrency(i);return this};h.prototype.setErrorCategory=function(i){this.$FBPaymentsLoggerBase1.setErrorCategory(i);return this};h.prototype.setErrorCode=function(i){this.$FBPaymentsLoggerBase1.setErrorCode(String(i));return this};h.prototype.setErrorMessage=function(i){this.$FBPaymentsLoggerBase1.setErrorMessage(i);return this};h.prototype.setErrorStacktrace=function(i){this.$FBPaymentsLoggerBase1.setErrorStacktrace(i);return this};h.prototype.setErrorOrigin=function(i){this.$FBPaymentsLoggerBase1.setErrorOrigin(i);return this};h.prototype.setEventName=function(i){this.$FBPaymentsLoggerBase1.setEventName(i);return this};h.prototype.setEventType=function(i){this.$FBPaymentsLoggerBase1.setEventType(i);return this};h.prototype.setExceptionClass=function(i){this.$FBPaymentsLoggerBase1.setExceptionClass(i);return this};h.prototype.setFlowName=function(i){this.$FBPaymentsLoggerBase1.setFlowName(i);return this};h.prototype.setFlowStep=function(i){this.$FBPaymentsLoggerBase1.setFlowStep(i);return this};h.prototype.setMailingAddressID=function(i){this.$FBPaymentsLoggerBase1.setMailingAddressID(i);return this};h.prototype.setOrderID=function(i){this.$FBPaymentsLoggerBase1.setOrderID(i);return this};h.prototype.setOtherProfileID=function(i){this.$FBPaymentsLoggerBase1.setOtherProfileID(i);return this};h.prototype.setPaymentAccountID=function(i){this.$FBPaymentsLoggerBase1.setPaymentAccountID(i);return this};h.prototype.setPaymentID=function(i){this.$FBPaymentsLoggerBase1.setPaymentID(i);return this};h.prototype.setPaymentMethodID=function(i){this.$FBPaymentsLoggerBase1.setPaymentMethodID(i);return this};h.prototype.setPaymentMethodType=function(i){this.$FBPaymentsLoggerBase1.setPaymentMethodType(i);return this};h.prototype.setProduct=function(i){this.$FBPaymentsLoggerBase1.setProduct(i);return this};h.prototype.setProvider=function(i){this.$FBPaymentsLoggerBase1.setProvider(i);return this};h.prototype.setRawAmount=function(i){this.$FBPaymentsLoggerBase1.setRawAmount(i);return this};h.prototype.setRedirectURL=function(i){this.$FBPaymentsLoggerBase1.setRedirectURL(i);return this};h.prototype.setRequestID=function(i){this.$FBPaymentsLoggerBase1.setRequestID(i);return this};h.prototype.setSessionID=function(i){this.$FBPaymentsLoggerBase1.setSessionID(i);return this};h.prototype.getSessionID=function(){var i;return(i=this.$FBPaymentsLoggerBase2)!=null?i.session_id:i};h.prototype.setShippingOptionID=function(i){this.$FBPaymentsLoggerBase1.setShippingOptionID(i);return this};h.prototype.setUserFacingErrorCode=function(i){this.$FBPaymentsLoggerBase1.setUserFacingErrorCode(String(i));return this};h.prototype.setUserFacingMessage=function(i){this.$FBPaymentsLoggerBase1.setUserFacingMessage(i);return this};h.prototype.addToExtraData=function(i,j){this.$FBPaymentsLoggerBase1.addToExtraData(i,j);return this};h.prototype.__getLoggerInstance=function(){return c("abstractMethod")("FBPaymentsLoggerBase","__getLoggerInstance")};h.LOGGER_FIELD_NAMES=c("keyMirror")({ad_account_id:true,client_time:true,containermodule:true,context_id:true,currency:true,error_category:true,error_code:true,error_message:true,error_origin:true,error_stacktrace:true,event_name:true,event_type:true,exception_class:true,flow_name:true,flow_step:true,incoming_params:true,is_free:true,is_test_payment:true,logging_service_id:true,mailing_address_id:true,order_id:true,other_profile_id:true,payment_account_id:true,payment_id:true,payment_method_id:true,payment_method_type:true,paymod_extra_data:true,product:true,provider:true,raw_amount:true,redirect_url:true,request_id:true,session_id:true,shipping_option_id:true,user_facing_error_code:true,user_facing_message:true});f.exports=h}),null);
__d("FBPaymentsLoggerConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={LoggerFlowType:{CHECKOUT:"checkout",INVOICE:"invoice",PAYMENT_HISTORY:"payment_history",PAYMENT_SETTINGS:"payment_settings",PAYOUT_SETUP:"payout_setup",VERIFICATION:"verification"},LoggerFlowStep:{ADD_BANK_ACCOUNT:"add_bank_account",ADD_CARD:"add_card",ADD_PAYPAL:"add_paypal",ADD_SHIPPING_ADDRESS:"add_shipping_address",ADDRESS:"address",CHECKOUT:"checkout",CONFIRMATION:"confirmation",DEBUG:"debug",DOB:"dob",FAILURE:"failure",FETCH_PAYMENT_HISTORY:"fetch_payment_history",FETCH_RECEIPT:"fetch_receipt",GIFT_AID:"gift_aid",INVOICE:"invoice",NAME_AND_DOB_AND_ADDRESS:"name_and_dob_and_address",NAME_AND_DOB:"name_and_dob",NATIONAL_ID:"national_id",NUX:"nux",PAYMENT_HISTORY:"payment_history",PAYMENT_SETTINGS:"payment_settings",PAYMENT:"payment",PAYOUT_SETUP:"payout_setup",PAYPAL_CONSENT:"paypal_consent",PENDING_MANUAL_REVIEW:"pending_manual_review",REMOVE_BANK_ACCOUNT:"remove_bank_account",REPLACE_BANK_ACCOUNT:"replace_bank_account",SELECT_AMOUNT:"select_amount",SELECT_PAYMENT_METHOD:"select_payment_method",SELECT_SHIPPING_ADDRESS:"select_shipping_address",SHOW_RECEIPT:"show_receipt",SSN_FULL:"ssn_full",SSN_LAST_4:"ssn_last_4",UPDATE_SHIPPING_ADDRESS:"update_shipping_address",VERIFICATION_DOCUMENT:"verification_document",VERIFICATION:"verification",VERIFY_CARD:"verify_card"},LoggerEvent:{INIT:"init",SUCCESS:"success",DONE:"done",FAIL:"fail",CONFIRM:"confirm",CANCEL:"cancel",CANCEL_SAVING:"cancel_saving",BACK_CLICK:"back_click",SAVE_CLICK:"save_click",TERMS_CLICK:"terms_click",SUBMIT:"submit",CLICK:"click",REDIRECT:"redirect",BLUR:"blur",FIELD_FOCUS:"field_focus",CHECK:"check",UNCHECK:"uncheck"},LoggerErrorCategory:{ERROR:"error",TRANSPORT_ERROR:"transport_error"}};f.exports=h}),null);
__d("FBPaymentsModulesFlowType",[],(function a(b,c,d,e,f,g){"use strict";var h={CART:"cart",CHECKOUT:"checkout",INVOICE:"invoice",RECEIPT:"receipt",INVOICE_EDIT:"invoice_edit"};f.exports=h}),null);
__d("FBPaymentsStringHelper",["React"],(function a(b,c,d,e,f,g){"use strict";var h={stringToMarkup:function i(j){return c("React").createElement("div",null,j.split("\n").map(function(k,l){return c("React").createElement("div",{key:l},k)}))},isNumber:function i(j){var k=parseInt(j,10);return!isNaN(k)&&isFinite(k)}};f.exports=h}),null);
__d("FBPaymentsCheckoutFlowContainerBase.react",["invariant","FBPaymentsCheckoutActions","FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutConstants","FBPaymentsContentConfigurationParser","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsModulesFlowType","FBPaymentsPriceListHelper","FBPaymentsStringHelper","immutable","Map","PaymentModulesGating","React","Set","abstractMethod","emptyFunction","idx","keyMirror","uuid"],(function aa(ba,a,ca,da,b,ea,c){"use strict";__p&&__p();var d,e,f=a("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes,g=a("FBPaymentsCheckoutConstants").CollectedDataKey,h=a("FBPaymentsCheckoutConstants").CustomExtensionKeys,i=a("FBPaymentsCheckoutConstants").Extensions,j=a("FBPaymentsCheckoutConstants").OrderStatusModelType,k=a("FBPaymentsCheckoutConstants").RestoreKey,fa=a("FBPaymentsCheckoutConstants").PaymentAction,l=a("FBPaymentsCheckoutConstants").PaymentCallbackUpdateState,m=a("immutable").List,n=a("FBPaymentsLoggerConstants").LoggerFlowType,o=a("FBPaymentsLoggerConstants").LoggerFlowStep,p=a("FBPaymentsLoggerConstants").LoggerEvent,q=a("FBPaymentsLoggerBase").LOGGER_FIELD_NAMES,r=a("React").PropTypes,s=a("keyMirror")({NUX:null,INCOMPLETE:null,READY_TO_PAY:null,VERIFICATION:null,PAYMENT_LOADING:null,PAYMENT_LOADING_EXTENDED:null,CONFIRMATION:null});d=babelHelpers.inherits(t,a("React").Component);e=d&&d.prototype;function t(v){__p&&__p();var w,x,y;e.constructor.call(this,v);u.call(this);this.validateProps(v);this.initializeLogging(v);var z=v.configuration.contentConfiguration,A=(w=z)!=null?w.priceList:w;this.$FBPaymentsCheckoutFlowContainerBase1=A?A:[];var B=new(a("Map"))(),C=((x=z)!=null?x.purchaseInfo:x)||[];for(var D=0;D<C.length;D++){var E=this.getExtensionName(C[D]);B.set(E,{extraData:{},ready:false})}this.state={activeExtension:null,activeExtensionForVerification:null,confirmationExtensions:new(a("Map"))(),contentConfiguration:z,dialogWidth:(y=z)!=null?y.dialogWidth:y,errors:{},extensionPrePaymentCall:null,extensions:B,paymentLoadingMessage:"",step:this.isCheckoutNUXEnabled()?s.NUX:s.INCOMPLETE};this.__completePaymentOnReady=false}t.prototype.validateProps=function(v){var w=v.configuration,x=w.orderStatusModel.type;switch(x){case j.FIXED_AMOUNT:!!w.contentConfiguration||c(0);break;case j.UPDATE_CHECKOUT_API:break;default:c(0)}};t.prototype.initializeLogging=function(v){__p&&__p();var w,x=void 0,y=void 0;switch(v.paymentModuleFlowType){case a("FBPaymentsModulesFlowType").INVOICE:x=n.INVOICE;y=o.INVOICE;break;default:x=n.CHECKOUT;y=this.isCheckoutNUXEnabled()?null:o.CHECKOUT;break}var z=this.__getLogger();this.$FBPaymentsCheckoutFlowContainerBase3=new z();var A=v.configuration.paymentInfo,B=A.orderId,C=A.receiverId,D=A.paymentItemType,E=A.isFreePurchase,F=a("FBPaymentsLinkHelper").getCurrentURISessionID()||a("uuid")();this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalFields((w={},w[q.session_id]=F,w[q.product]=D,w[q.order_id]=B,w[q.other_profile_id]=C,w[q.flow_name]=x,w[q.is_free]=E,w));var G=a("PaymentModulesGating").isInPaymentModules2017H2Holdout?"1":"",H=babelHelpers["extends"]({},v.extraDataForLogging,v.checkoutExtraProps,{holdout_2017_h2:G});this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalExtraData(H);y&&this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(y).setEventName(p.INIT).logVital()};t.prototype.isCheckoutNUXEnabled=function(){return!!this.props.enableCheckoutNUX&&a("PaymentModulesGating").shouldShowCheckoutNUX};t.prototype.getExtensionName=function(v){if(v.identifier==="CUSTOM_EXTENSION")return v.extensionKey;return v.identifier};t.prototype.getCheckoutConfiguration=function(){return this.props.configuration};t.prototype.getPaymentInfo=function(){return this.props.configuration.paymentInfo};t.prototype.getContentConfiguration=function(){if(this.getIsUsingUpdateCheckoutAPI())return this.state.contentConfiguration;else return this.getCheckoutConfiguration().contentConfiguration};t.prototype.getPriceList=function(){var v=this.getContentConfiguration();return v&&v.priceList};t.prototype.getPayActionContent=function(){var v=this.getContentConfiguration();return v&&v.payActionContent};t.prototype.getConfirmationConfiguration=function(){var v=this.state.contentConfiguration;return v&&v.confirmationConfiguration||{}};t.prototype.getSelectedPaymentMethod=function(){var v,w=this.state.extensions.get(i.PAYMENT_METHOD);return(v=w)!=null?(v=v.extraData)!=null?v.paymentMethod:v:v};t.prototype.getIsUsingUpdateCheckoutAPI=function(){return this.getCheckoutConfiguration().orderStatusModel.type===j.UPDATE_CHECKOUT_API};t.prototype.componentWillMount=function(){this.$FBPaymentsCheckoutFlowContainerBase4()};t.prototype.componentWillUpdate=function(v,w){a("FBPaymentsCheckoutActions").updatePaymentStep(w.step)};t.prototype.$FBPaymentsCheckoutFlowContainerBase5=function(){var v;this.$FBPaymentsCheckoutFlowContainerBase3.setGlobalFields((v={},v[q.payment_method_id]=null,v[q.payment_method_type]=null,v[q.mailing_address_id]=null,v[q.shipping_option_id]=null,v[q.raw_amount]=null,v[q.currency]=null,v))};t.prototype.$FBPaymentsCheckoutFlowContainerBase4=function(){if(this.getIsUsingUpdateCheckoutAPI())this.$FBPaymentsCheckoutFlowContainerBase6()};t.prototype.$FBPaymentsCheckoutFlowContainerBase6=function(){__p&&__p();var v,w=this.getPaymentInfo(),x={payment_type:w.paymentItemType,order_id:w.orderId,receiver_id:w.receiverId,session_id:this.$FBPaymentsCheckoutFlowContainerBase3.getSessionID()},y=w.extraData||{};for(var z=this.state.extensions.entries(),A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}var D=C,E=D[0],F=D[1];switch(E){case i.PAYMENT_METHOD:var G=a("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(F.extraData.paymentMethod,F.extraData.bank),H={fraudnet_session_id:F.extraData.fraudnetSessionID};x=babelHelpers["extends"]({},x,G,H);break;case i.SHIPPING_ADDRESS:x.mailing_address_id=F.extraData.mailingAddressID;break;case i.CUSTOM_OPTIONS:var I=F.extraData.collectedDataKey,J=F.extraData.optionId;switch(I){case g.SHIPPING_OPTION:x.shipping_option_id=J;break;default:y=babelHelpers["extends"]({},y,(v={},v[I]=J,v))}break}}x.extra_data=JSON.stringify(y);this.__getAPI().updateCheckout(x,this.$FBPaymentsCheckoutFlowContainerBase7,this.$FBPaymentsCheckoutFlowContainerBase8)};t.prototype.$FBPaymentsCheckoutFlowContainerBase8=function(v){};t.prototype.$FBPaymentsCheckoutFlowContainerBase10=function(v){switch(v){case i.SHIPPING_ADDRESS:case i.PAYMENT_METHOD:return true;default:return false}};t.prototype.$FBPaymentsCheckoutFlowContainerBase9=function(v){__p&&__p();v=v||this.state.extensions;var w=[];for(var x=v.values(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B.extraData.optionPriceList;if(C)w.push(C)}var D=this.$FBPaymentsCheckoutFlowContainerBase11(this.$FBPaymentsCheckoutFlowContainerBase1,w);return D};t.prototype.$FBPaymentsCheckoutFlowContainerBase11=function(v,w){var x=v;w.forEach(function(y){x=a("FBPaymentsPriceListHelper").merge(x,y)});return x};t.prototype.handleExtensionRequestActive=function(v,w){var x={};if(w&&this.state.activeExtension===null)x.activeExtension=v;else if(this.state.activeExtension===v)x.activeExtension=null;this.setState(x)};t.prototype.handleExtensionRequestActiveForVerification=function(v,w){var x={};x.step=s.READY_TO_PAY;if(w&&this.state.activeExtensionForVerification===null)x.activeExtensionForVerification=v;else if(this.state.activeExtensionForVerification===v)x.activeExtensionForVerification=null;this.setState(x)};t.prototype.getAllExtensionsNotReady=function(v){__p&&__p();var w=m();for(var x=v.entries(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B[0],D=B[1];if(!D.ready)w=w.push(C)}return w};t.prototype.areAllExtensionsReady=function(v){return this.getAllExtensionsNotReady(v).size===0};t.prototype.handleExtensionUpdate=function(v,w,x){__p&&__p();var y,z={extensions:this.state.extensions};z.extensions.set(v,x);a("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:false,extensionsNotReady:m()});switch(this.state.step){case s.INCOMPLETE:case s.READY_TO_PAY:z.step=this.areAllExtensionsReady(z.extensions)?s.READY_TO_PAY:s.INCOMPLETE;if(v===i.CUSTOM_OPTIONS){var A=x.extraData.priceModel;if(!A||w.shouldAddToOrderSummary){var B=this.$FBPaymentsCheckoutFlowContainerBase9(z.extensions),C=this.getContentConfiguration();if(C){C.priceList=B;z.contentConfiguration=C}}}this.setState(z,function(){if(this.$FBPaymentsCheckoutFlowContainerBase10(v))this.$FBPaymentsCheckoutFlowContainerBase4();if(this.state.step===s.READY_TO_PAY)if(this.__completePaymentOnReady){this.__completePaymentOnReady=false;this.$FBPaymentsCheckoutFlowContainerBase12()}}.bind(this));break;case s.VERIFICATION:var D=(y=x)!=null?(y=y.verificationData)!=null?y.verified:y:y;if(!D||!this.$FBPaymentsCheckoutFlowContainerBase2.has(v))return;this.$FBPaymentsCheckoutFlowContainerBase2["delete"](v);for(var E=this.$FBPaymentsCheckoutFlowContainerBase2,F=Array.isArray(E),G=0,E=F?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var H;if(F){if(G>=E.length)break;H=E[G++]}else{G=E.next();if(G.done)break;H=G.value}var I=H;this.setState({activeExtensionForVerification:I,step:s.VERIFICATION});return}z.activeExtensionForVerification=null;this.setState(z,function(){this.$FBPaymentsCheckoutFlowContainerBase12()}.bind(this));break}};t.prototype.$FBPaymentsCheckoutFlowContainerBase18=function(){var v,w=(v=this.getContentConfiguration())!=null?v.checkoutClosedCallback:v;w&&w();var x=this.props.onCheckoutClosed;x&&x()};t.prototype.$FBPaymentsCheckoutFlowContainerBase17=function(v){var w=this.getConfirmationConfiguration().confirmationClosedCallback;w&&w(v,this.state.confirmationExtensions);var x=this.props.onConfirmationClosed;x&&x(v,this.state.confirmationExtensions)};t.prototype.$FBPaymentsCheckoutFlowContainerBase12=function(){var v=this.state.extensionPrePaymentCall;if(v)this.setState({step:s.PAYMENT_LOADING},function(){v(this.$FBPaymentsCheckoutFlowContainerBase21,this.$FBPaymentsCheckoutFlowContainerBase22)}.bind(this));else this.$FBPaymentsCheckoutFlowContainerBase23()};t.prototype.$FBPaymentsCheckoutFlowContainerBase23=function(v){__p&&__p();var w,x=this.getPaymentInfo(),y=this.$FBPaymentsCheckoutFlowContainerBase24(v),z=void 0;if(y.nmor_payment_method)z=JSON.parse(y.nmor_payment_method).type;this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.INIT).setGlobalFields((w={},w[q.payment_method_id]=y.credential_id,w[q.payment_method_type]=z,w[q.mailing_address_id]=y.mailing_address_id,w[q.shipping_option_id]=y.shipping_option_id,w[q.raw_amount]=y.amount,w[q.currency]=y.currency,w)).updateExtraData(JSON.parse(y.extra_data)).logVital();if(x.action===fa.CUSTOM_CALLBACK){x.payCallback!=null||c(0);x.payCallback(this.state.extensions,this.$FBPaymentsCheckoutFlowContainerBase13,y)}else this.__getAPI().completeCheckout(y,this.$FBPaymentsCheckoutFlowContainerBase25,this.$FBPaymentsCheckoutFlowContainerBase26);this.setState({activeExtension:null,step:s.PAYMENT_LOADING})};t.prototype.$FBPaymentsCheckoutFlowContainerBase24=function(v){__p&&__p();var w,x,y,z,A=this.getPaymentInfo(),B={action:A.action,payment_type:A.paymentItemType,receiver_id:A.receiverId,order_id:A.orderId,session_id:this.$FBPaymentsCheckoutFlowContainerBase3.getSessionID()},C=A.extraData||{};for(var D=this.state.extensions.entries(),E=Array.isArray(D),F=0,D=E?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var G;if(E){if(F>=D.length)break;G=D[F++]}else{F=D.next();if(F.done)break;G=F.value}var H=G,I=H[0],J=H[1];switch(I){case i.PAYMENT_METHOD:var K=(y=v)!=null?y.paymentMethod:y,L=K||J.extraData.paymentMethod,M=a("FBPaymentsModulesAPIUtils").getPaymentMethodRequestParams(L,J.extraData.bank),N={fraudnet_session_id:J.extraData.fraudnetSessionID};B=babelHelpers["extends"]({},B,M,N);if(J.verificationData)B.csc=J.verificationData.csc;if((z=v)!=null?z.credit_card_number:z)B=babelHelpers["extends"]({},B,v);break;case i.CONTACT_NAME:B.contact_name=J.extraData.name;break;case i.CONTACT_EMAIL:B.email_address_id=J.extraData.id;B.email_address=J.extraData.email;break;case i.CONTACT_PHONE:B.contact_number_id=J.extraData.id;break;case i.PIN_VERIFICATION:if(J.verificationData)B.security_pin=J.verificationData.pin;break;case i.PRICE_SELECTOR:B.amount=a("FBPaymentsPriceListHelper").formatStringAmount(Number(J.extraData.selectedAmount));B.currency=J.extraData.currency;break;case i.SHIPPING_ADDRESS:B.mailing_address_id=J.extraData.mailingAddressID;break;case i.CUSTOM_OPTIONS:var O=J.extraData.collectedDataKey,P=J.extraData.optionId;switch(O){case g.SHIPPING_OPTION:B.shipping_option_id=P;break;default:C=babelHelpers["extends"]({},C,(w={},w[O]=P,w))}break;case i.FREQUENCY_SELECTOR:B.subscription_period=J.extraData.subscriptionPeriod;B.subscription_type=J.extraData.subscriptionType;break;default:C=babelHelpers["extends"]({},C,(x={},x[I]=J.extraData,x));break}}var Q=this.getPriceList();if(!B.currency||!B.amount){!!Q||c(0);var R=a("FBPaymentsPriceListHelper").calculateTotal(Q);B.currency=R.currency;B.amount=a("FBPaymentsPriceListHelper").formatStringAmount(R.amount)}B.extra_data=JSON.stringify(C);return B};t.prototype.$FBPaymentsCheckoutFlowContainerBase27=function(v,w){var x,y,z,A=w||this.getConfirmationConfiguration();A.receiptUrl=((x=this.props.checkoutExtraProps)!=null?x.receiptUrl:x)||((y=v)!=null?(y=y.extra_data)!=null?y.receipt_url:y:y)||a("FBPaymentsLinkHelper").getPaymentSettingsReceiptURI(v.id).toString();var B=(z=v)!=null?(z=z.extra_data)!=null?z.message_with_email:z:z;if(B)A.confirmationText=a("FBPaymentsStringHelper").stringToMarkup(B);var C=this.getContentConfiguration();C||c(0);C.confirmationConfiguration=A;this.setState({contentConfiguration:C,step:s.CONFIRMATION})};t.prototype.$FBPaymentsCheckoutFlowContainerBase31=function(v,w,x){__p&&__p();var y=this.getExtensionName(v),z=v.identifier==="CUSTOM_EXTENSION"?v["class"]:this.__getExtensionManager().getExtensionContainer(v.identifier),A=this.state.extensions,B={};A.forEach(function(D,E){__p&&__p();switch(E){case i.PRICE_SELECTOR:var F=D.extraData.selectedIndex;B[k.PRICE_SELECTOR_SELECTED_INDEX]=F;if(F===-1){var G=D.extraData.selectedAmount;B[k.PRICE_SELECTOR_CUSTOM_AMOUNT]=G}break;case h.PRIVACY_SELECTOR:B[k.PRIVACY_SELECTOR_SELECTED_OPTION]=D.extraData.privacyxParam;break;case h.MENTIONS_INPUT:B[k.MENTIONS_INPUT_TEXT]=D.extraData.mentionsInputText;break;case h.EMAIL_SHARING_CHECKBOX:B[k.EMAIL_CHECKBOX_STATE]=D.extraData.emailCheckboxState;break}});var C=A.get(y)||{extraData:{},ready:true};return a("React").createElement(z,{checkoutConfiguration:this.getCheckoutConfiguration(),checkoutExtraProps:this.props.checkoutExtraProps,checkoutRestoreData:B,extensionConfiguration:v,extensionState:C,isActive:w,isActiveForVerification:x,logger:this.$FBPaymentsCheckoutFlowContainerBase3,onExtensionUpdate:function(D){this.handleExtensionUpdate(y,v,D)}.bind(this),onExtensionPrePaymentCallChange:this.$FBPaymentsCheckoutFlowContainerBase30,onExtensionWidthChange:this.$FBPaymentsCheckoutFlowContainerBase29,onRequestActive:function(D){this.handleExtensionRequestActive(y,D)}.bind(this),onRequestActiveForVerification:function(D){this.handleExtensionRequestActiveForVerification(y,D)}.bind(this)})};t.prototype.render=function(){__p&&__p();var v=this.getContentConfiguration(),w=void 0,x=void 0,y=void 0,z=void 0,A=void 0,B=[],C=void 0,D=false,E=false,F=!!v&&v.renderInline;if(!v){var G=this.__getLoadingContainer();x=a("React").createElement(G,{loadingText:""})}else{var H,I,J=v.priceList,K=v.payActionContent,L=v.entity;if(L){var M=this.__getEntityHeaderContainer();y=a("React").createElement(M,{entity:L})}else{var N=this.__getOrderSummaryContainer();y=a("React").createElement(N,{configuration:v})}if(J){var O=this.__getPriceTableContainer();z=a("React").createElement(O,{configuration:{priceList:J}})}var P=!!((H=this.props)!=null?(H=H.checkoutExtraProps)!=null?(H=H.enableInlinePUXAndOtherEnhancements)!=null?H.enable_pay_button:H:H:H),Q=!!((I=this.props)!=null?(I=I.checkoutExtraProps)!=null?I.isAmountOnButton:I:I),R=null;if(Q){var S=this.state.extensions.get(i.PRICE_SELECTOR);if(S){var T=S.extraData.selectedAmount,U=S.extraData.currency;if(T&&U)R={amount:T,currency:U}}}var ga=this.__getPayActionRowContainer();A=a("React").createElement(ga,{backButton:K.backButton,configuration:K,isLoading:this.state.step===s.PAYMENT_LOADING,onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onPayButtonClick:this.$FBPaymentsCheckoutFlowContainerBase20,payButtonEnabled:this.state.step===s.READY_TO_PAY,payButtonAlwaysEnabled:P,price:R});D=this.state.activeExtension!==null;E=this.state.activeExtensionForVerification!==null;var V=v.purchaseInfo;for(var W=0;W<V.length;W++){var X=V[W],Y=this.getExtensionName(X),Z=this.state.activeExtension===Y,$=this.state.activeExtensionForVerification===Y,ha=D&&!Z||E&&!$;B.push(a("React").createElement("div",{style:{display:ha?"none":""},key:Y},this.$FBPaymentsCheckoutFlowContainerBase31(X,Z,$)))}if(this.state.step===s.NUX){var ia=this.__getNUXContainer();w=a("React").createElement(ia,{onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onContinueButtonClick:this.$FBPaymentsCheckoutFlowContainerBase15,logger:this.$FBPaymentsCheckoutFlowContainerBase3})}if(this.state.step===s.PAYMENT_LOADING_EXTENDED){var ja=this.__getLoadingContainer();x=a("React").createElement(ja,{loadingText:this.state.paymentLoadingMessage})}if(this.state.step===s.CONFIRMATION){var ka=this.__getConfirmationContainer();C=a("React").createElement(ka,{configuration:this.getConfirmationConfiguration(),onConfirmationDoneClick:this.$FBPaymentsCheckoutFlowContainerBase17.bind(this,true),onExtensionsUpdate:this.$FBPaymentsCheckoutFlowContainerBase19})}}var la=this.__getCheckoutFlowView();return a("React").createElement(la,{confirmationContainer:C,dialogTitle:this.props.dialogTitle,dialogWidth:this.state.dialogWidth||undefined,disableClose:this.state.step===s.PAYMENT_LOADING||this.state.step===s.PAYMENT_LOADING_EXTENDED,hideCheckoutHeader:this.props.hideCheckoutHeader,errorMessage:this.state.errors.global,additionalErrors:this.state.errors.additional,extensionContainers:B,renderInline:F,isExtensionActive:D,isExtensionActiveForVerification:E,isProcessing:this.state.step===s.PAYMENT_LOADING||this.__completePaymentOnReady,loadingContainer:x,nuxContainer:w,onBackButtonClick:this.$FBPaymentsCheckoutFlowContainerBase14,onDialogClose:this.$FBPaymentsCheckoutFlowContainerBase16,orderSummaryContainer:y,payActionRowContainer:A,priceTableContainer:z})};t.prototype.__scrollToTop=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__scrollToTop")};t.prototype.__getExtensionManager=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getExtensionManager")};t.prototype.__getCheckoutFlowView=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getCheckoutFlowView")};t.prototype.__getNUXContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getNUXContainer")};t.prototype.__getLoadingContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLoadingContainer")};t.prototype.__getConfirmationContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getConfirmationContainer")};t.prototype.__getOrderSummaryContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getOrderSummaryContainer")};t.prototype.__getEntityHeaderContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getEntityHeaderContainer")};t.prototype.__getPayActionRowContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPayActionRowContainer")};t.prototype.__getPriceTableContainer=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getPriceTableContainer")};t.prototype.__getAPI=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getAPI")};t.prototype.__getLogger=function(){return a("abstractMethod")("FBPaymentsCheckoutFlowContainerBase","__getLogger")};t.propTypes={checkoutExtraProps:r.object,configuration:f.isRequired,dialogTitle:r.node,enableCheckoutNUX:r.bool,extraDataForLogging:r.object,hideCheckoutHeader:r.bool,onCheckoutClosed:r.func,onCheckoutSuccessCallback:r.func,onConfirmationClosed:r.func,paymentModuleFlowType:r.oneOf(Object.values(a("FBPaymentsModulesFlowType"))).isRequired};t.defaultProps={paymentModuleFlowType:a("FBPaymentsModulesFlowType").CHECKOUT};var u=function u(){__p&&__p();this.$FBPaymentsCheckoutFlowContainerBase7=function(v){var w=this.getCheckoutConfiguration().version,x=a("FBPaymentsContentConfigurationParser").parse(w,v),y=x.priceList;if(y){this.$FBPaymentsCheckoutFlowContainerBase1=y;var z=this.$FBPaymentsCheckoutFlowContainerBase9();x.priceList=z}this.setState({contentConfiguration:x})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase13=function(v){__p&&__p();switch(v.state){case l.LOADING:this.setState({paymentLoadingMessage:v.loadingMessage||"",step:s.PAYMENT_LOADING_EXTENDED});break;case l.DONE:this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.SUCCESS).logVital();this.$FBPaymentsCheckoutFlowContainerBase5();var w={step:s.CONFIRMATION};if(v.confirmationConfiguration){var x=this.state.contentConfiguration;x||c(0);x.confirmationConfiguration=v.confirmationConfiguration;w=babelHelpers["extends"]({},w,{contentConfiguration:x})}this.setState(w);break;case l.ERROR:this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.FAIL).setErrorMessage(v.errorMessage).log();this.$FBPaymentsCheckoutFlowContainerBase5();this.setState({errors:{global:v.errorMessage,additional:v.additionalErrors},step:s.READY_TO_PAY});break;default:throw Error("Invalid payment callback state: "+v.state)}}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase14=function(){var v;this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.CHECKOUT).setEventName(p.BACK_CLICK).log();var w=(v=this.getPayActionContent())!=null?v.backButtonCallback:v;w&&w()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase15=function(){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.CHECKOUT).setEventName(p.INIT).logVital();this.setState(function(v){return{step:this.areAllExtensionsReady(v.extensions)?s.READY_TO_PAY:s.INCOMPLETE}}.bind(this))}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase16=function(){if(this.state.step===s.CONFIRMATION){this.$FBPaymentsCheckoutFlowContainerBase17(false);return}this.$FBPaymentsCheckoutFlowContainerBase18()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase19=function(v){this.setState({confirmationExtensions:v})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase20=function(){__p&&__p();var v=this.getAllExtensionsNotReady(this.state.extensions),w=this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.CLICK);if(v.size!==0){a("FBPaymentsCheckoutActions").showHardErrorOnExtensions({showError:true,extensionsNotReady:m.of(v.first())});w.setErrorMessage("Extensions not ready : "+v.join(",")).logVital();return}w.logVital();this.setState({errors:{},activeExtension:null});var x=new(a("Set"))();for(var y=this.state.extensions.entries(),z=Array.isArray(y),A=0,y=z?y:y[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var B;if(z){if(A>=y.length)break;B=y[A++]}else{A=y.next();if(A.done)break;B=A.value}var C=B,D=C[0],E=C[1];if(E.needVerification)x.add(D)}this.$FBPaymentsCheckoutFlowContainerBase2=x;for(var F=x,G=Array.isArray(F),H=0,F=G?F:F[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=F.length)break;I=F[H++]}else{H=F.next();if(H.done)break;I=H.value}var J=I;this.setState({activeExtensionForVerification:J,step:s.VERIFICATION});return}this.$FBPaymentsCheckoutFlowContainerBase12()}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase21=function(v){this.$FBPaymentsCheckoutFlowContainerBase23(v)}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase22=function(){this.setState({step:s.READY_TO_PAY})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase25=function(v){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.SUCCESS).setPaymentID(v.id).updateExtraData(v.extra_data||{}).logVital();this.$FBPaymentsCheckoutFlowContainerBase5();var w=this.props.onCheckoutSuccessCallback;if(w){var x=this.getSelectedPaymentMethod();w(x,v,this.$FBPaymentsCheckoutFlowContainerBase27.bind(this,v),this.$FBPaymentsCheckoutFlowContainerBase28)}else this.$FBPaymentsCheckoutFlowContainerBase27(v)}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase28=function(){this.setState({step:s.READY_TO_PAY})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase26=function(v){this.$FBPaymentsCheckoutFlowContainerBase3.setFlowStep(o.PAYMENT).setEventName(p.FAIL).setUserFacingMessage(v.message).setErrorMessage(v.serverErrorMessage).setUserFacingErrorCode(v.code).setErrorCode(v.code).log();this.$FBPaymentsCheckoutFlowContainerBase5();this.setState({errors:{global:v.message},step:s.READY_TO_PAY},function(){a("PaymentModulesGating").shouldCheckoutAutoScrollToError&&this.__scrollToTop()}.bind(this))}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase29=function(v){var w,x=(w=this.getContentConfiguration())!=null?w.dialogWidth:w;if(this.state.activeExtension!==null||this.state.activeExtensionForVerification!==null)x=v||x;if(x===this.state.dialogWidth)return;this.setState({dialogWidth:x})}.bind(this);this.$FBPaymentsCheckoutFlowContainerBase30=function(v){this.setState({extensionPrePaymentCall:v===a("emptyFunction")?null:v})}.bind(this)};b.exports=t}),null);
__d("FBPaymentsCheckoutFlowViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=400;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.__isNUX=function(){return!!this.props.nuxContainer};m.prototype.__isExtensionActive=function(){return this.props.isExtensionActive};m.prototype.__isExtensionActiveForVerification=function(){return this.props.isExtensionActiveForVerification};m.prototype.__isLoading=function(){return!!this.props.loadingContainer};m.prototype.__isConfirmation=function(){return!!this.props.confirmationContainer};m.prototype.__shouldShowNUX=function(){return this.__isNUX()};m.prototype.__shouldShowHeader=function(){return!this.props.hideCheckoutHeader&&!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowLoading=function(){return this.__isLoading()};m.prototype.__shouldDisableForProcessing=function(){return this.props.isProcessing};m.prototype.__shouldShowConfirmation=function(){return this.__isConfirmation()};m.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowPriceTable=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()&&!!this.props.priceTableContainer};m.prototype.__shouldShowExtensions=function(){return!this.__isNUX()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.__shouldShowPayActionRow=function(){return!this.__isNUX()&&!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};m.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};m.prototype.getCheckoutHeader=function(){return this.props.dialogTitle||h._("Paiement")};function m(){i.apply(this,arguments)}m.propTypes={confirmationContainer:k.element,dialogTitle:k.node,dialogWidth:k.number.isRequired,disableClose:k.bool.isRequired,errorMessage:k.node,extensionContainers:k.arrayOf(k.element).isRequired,hideCheckoutHeader:k.bool,isExtensionActive:k.bool.isRequired,isExtensionActiveForVerification:k.bool.isRequired,isProcessing:k.bool,loadingContainer:k.element,nuxContainer:k.element,onBackButtonClick:k.func,onDialogClose:k.func.isRequired,orderSummaryContainer:k.element,payActionRowContainer:k.element,priceTableContainer:k.element,renderInline:k.bool};m.defaultProps={dialogWidth:l};f.exports=m}),null);
__d("FBPaymentsWebdriverTestIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAYMENT_CHECKOUT_ROOT:"payment_checkout_root",PAYMENT_CHECKOUT_ERROR:"payment_checkout_error",PAYMENT_METHOD_EXTENSION:"payment_method_extension",PAYMENT_METHODS_LOADING_INDICATOR:"payment_methods_loading_indicator",PAYMENT_METHODS_DROPDOWN:"payment_method_dropdown",ADD_PAYMENT_METHOD_BUTTON:"add_payment_method_button",ADD_PAYMENT_METHOD_LIST_ITEM:"add_payment_method_list_item",CREDIT_CARD_FORM:"credit_card_form",SAVE_PAYMENT_METHOD_BUTTON:"save_payment_method_button",SAVING_PAYMENT_METHOD_INDICATOR:"saving_payment_method_indicator",SPINNER_SUFFIX:"_spinner",FORM_FIELD_PREFIX:"form_field_",SELECTOR_OPTION_PREFIX:"selector_option_",PAY_BUTTON:"pay_button",PAYMENT_CONFIRMATION_SCREEN:"payment_confirmation_screen",SEE_RECEIPT_BUTTON:"see_receipt_button",CONFIRMATION_SCREEN_DONE_BUTTON:"confirmation_screen_done_button",ACTION_LIST_ITEM:"action_list_item",HEADER_RIGHT_BUTTON:"header_right_button",CHECKOUT_EX_OPEN_DIALOG_BUTTON_1:"checkout_ex_open_dialog_button_1",CHECKOUT_EX_OPEN_DIALOG_BUTTON_2:"checkout_ex_open_dialog_button_2",CHECKOUT_EX_OPEN_DIALOG_BUTTON_3:"checkout_ex_open_dialog_button_3",CHECKOUT_EX_OPEN_DIALOG_BUTTON_4:"checkout_ex_open_dialog_button_4",M_CHECKOUT_EXAMPLE_1:"m_checkout_example_1"})}),null);
__d("FBPaymentsCheckoutFlowView.react",["cx","FBPaymentsCheckoutFlowViewBase.react","FBPaymentsLoadingView.react","FBPaymentsWebdriverTestIDs","React","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","XUINotice.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutFlowViewBase.react"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$FBPaymentsCheckoutFlowView1=function(q){if(!q)this.props.onDialogClose()}.bind(this),m}k.prototype.render=function(){var l=void 0;if(this.props.errorMessage)l=c("React").createElement(c("XUINotice.react"),{className:"_q-q","data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ERROR,use:"warn"},this.props.errorMessage,this.props.additionalErrors);var m=c("React").createElement("div",null,l,c("React").createElement("div",{className:!this.__shouldShowNUX()?"hidden_elem":""},this.props.nuxContainer),c("React").createElement("div",{className:!this.__shouldShowLoading()?"hidden_elem":""},this.props.loadingContainer),c("React").createElement("div",{className:!this.__shouldShowConfirmation()?"hidden_elem":""},this.props.confirmationContainer),c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{loadingIndicatorVisible:false,overlay:true,visible:this.__shouldDisableForProcessing()}),c("React").createElement("div",{className:!this.__shouldShowOrderSummary()?"hidden_elem":""},this.props.orderSummaryContainer),c("React").createElement("div",{className:(!this.__shouldShowPriceTable()?"hidden_elem":"")+" _qu2 _2ph_"},this.props.priceTableContainer),c("React").createElement("div",{className:(!this.__shouldShowExtensions()?"hidden_elem":"")+(!this.__isExtensionActive()&&!this.__isExtensionActiveForVerification()?" _1j8c":"")},this.props.extensionContainers)),c("React").createElement("div",{className:!this.__shouldShowPayActionRow()?"hidden_elem":""},this.props.payActionRowContainer));if(this.props.renderInline)return m;return c("React").createElement(c("XUIDialog.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CHECKOUT_ROOT,layerHideOnBlur:false,onToggle:this.$FBPaymentsCheckoutFlowView1,shown:true,width:this.props.dialogWidth},c("React").createElement(c("XUIDialogTitle.react"),{className:"_qu2 _qu3",showCloseButton:!this.props.disableClose},this.getCheckoutHeader()),c("React").createElement(c("XUIDialogBody.react"),{className:"_qu4"},m))};k.prototype.__shouldShowOrderSummary=function(){return!this.__isNUX()&&!this.__isExtensionActiveForVerification()&&!this.__isLoading()&&!this.__isConfirmation()};f.exports=k}),null);
__d("FBPaymentsCheckoutNUXBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutNUXMessageBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutNUXMessage.react",["cx","FBPaymentsCheckoutNUXMessageBase.react","React","XUIGrayText.react","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutNUXMessageBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l={color:this.props.color,fontWeight:"bold"},m={backgroundColor:this.props.color,borderRadius:20,height:40,width:40,display:"flex",alignItems:"center"};return c("React").createElement("div",{className:c("joinClasses")("_d7r",this.props.className)},c("React").createElement("div",{style:m},c("React").createElement("div",{className:"_s_8"},c("React").createElement("div",{className:this.props.iconSrc}))),c("React").createElement("div",{className:"_f_w"},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),{style:l,shade:"medium",size:"large"},this.props.messageTitle)),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"large"},this.props.message)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCheckoutNUX.react",["cx","ix","FBPaymentsCheckoutNUXBase.react","FBPaymentsCheckoutNUXMessage.react","Image.react","React","ReactCSSTransitionGroup","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("FBPaymentsCheckoutNUXBase.react"));k=j&&j.prototype;l.prototype.$FBPaymentsCheckoutNUX1=function(m,n){return c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",key:n,transitionName:"nux",transitionAppear:true,transitionAppearTimeout:5e3,transitionEnter:false,transitionLeave:false},c("React").createElement(c("FBPaymentsCheckoutNUXMessage.react"),{className:"_60a3",iconSrc:m.iconSrc,message:m.message,color:m.color,messageTitle:m.messageTitle}))};l.prototype.render=function(){var m=this.props.nuxMessages||[];return c("React").createElement("div",{className:c("joinClasses")("_60a0",this.props.className)},c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:true,transitionAppearTimeout:0,transitionEnter:false,transitionLeave:false},c("React").createElement("div",{className:"_d8h"},c("React").createElement(c("Image.react"),{src:i("346093")}))),c("React").createElement(c("ReactCSSTransitionGroup"),{className:"_3hij",transitionName:"nux",transitionAppear:true,transitionAppearTimeout:0,transitionEnter:false,transitionLeave:false},c("React").createElement(c("XUIGrayText.react"),{className:"_60a2",display:"block",shade:"medium"},this.props.headerTitle)),m.map(this.$FBPaymentsCheckoutNUX1))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsCheckoutNUXContainerBase.react",["fbt","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","PaymentModulesGating","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerFlowStep,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=4989,n="paymod_www_checkout_nux_v2";i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.handleCheckExperimentSuccess=function(q){this.setState({isCheckingExperiment:false},function(){if(q){this.__getAPI().viewNUX(m);this.props.logger&&this.props.logger.setFlowStep(k.NUX).setEventName(l.INIT).logVital()}else this.props.onContinueButtonClick()}.bind(this))}.bind(this);this.handleCheckExperimentError=function(){this.setState({isCheckingExperiment:false},function(){this.props.onContinueButtonClick()}.bind(this))}.bind(this);this.handleContinueButtonClick=function(){c("PaymentModulesGating").shouldShowCheckoutNUX=false;this.__getAPI().dismissNUX(m);this.props.onContinueButtonClick()}.bind(this);this.state={isCheckingExperiment:true};this.__getAPI().experimentCheck({experiment_name:n},this.handleCheckExperimentSuccess,this.handleCheckExperimentError)}o.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};o.prototype.getContinueButtonText=function(){return h._("Continuer")};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsCheckoutNUXContainerBase","__getAPI")};f.exports=o}),null);
__d("FBPaymentsCheckoutNUXContentHelper",["cx","fbt"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={getHeaderTitle:function k(){return i._("Des paiements simples et s\u00e9curis\u00e9s")},getNUXMessages:function k(){return[{color:"#4ad0ba",messageTitle:i._("Priv\u00e9"),message:i._("Jamais nous ne publions ni ne partageons vos achats."),iconSrc:"_3ufk"},{color:"#54c7ec",messageTitle:i._("S\u00e9curis\u00e9"),message:i._("Les informations sont prot\u00e9g\u00e9es avec un niveau de s\u00e9curit\u00e9 comparable \u00e0 une banque."),iconSrc:"_3ufl"},{color:"#8c72cb",messageTitle:i._("Fiable"),message:i._("Un paiement pratique et rapide \u00e0 chaque fois."),iconSrc:"_3ufm"}]}};f.exports=j}),null);
__d("FBPaymentsCheckoutNUXContainer.react",["cx","FBPaymentsCheckoutNUX.react","FBPaymentsCheckoutNUXContainerBase.react","FBPaymentsCheckoutNUXContentHelper","FBPaymentsLoadingView.react","FBPaymentsModulesAPI","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsCheckoutNUXContainerBase.react"));j=i&&i.prototype;k.prototype.$FBPaymentsCheckoutNUXContainer1=function(){return c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_60by",label:this.getContinueButtonText(),onClick:this.handleContinueButtonClick,size:"large",use:"confirm"}))};k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.render=function(){if(this.state.isCheckingExperiment)return c("React").createElement(c("FBPaymentsLoadingView.react"),{className:"_1gw_"});return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsCheckoutNUX.react"),babelHelpers["extends"]({className:"_60bz",nuxMessages:c("FBPaymentsCheckoutNUXContentHelper").getNUXMessages()},this.props)),this.$FBPaymentsCheckoutNUXContainer1())};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsConfirmationConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={Extensions:c("keyMirror")({CUSTOM_EXTENSION:null})};f.exports=h}),null);
__d("FBPaymentsConfirmationContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsConfirmationConstants","Map","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").ConfirmationConfigurationPropTypes,l=c("FBPaymentsConfirmationConstants").Extensions;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(n){i.constructor.call(this,n);this.state={extensionData:new(c("Map"))()}}m.prototype.handleConfirmationExtensionUpdate=function(n,o){var p={extensionData:this.state.extensionData};p.extensionData.set(n,o.data);this.setState(p);this.props.onExtensionsUpdate(p.extensionData)};m.prototype.$FBPaymentsConfirmationContainerBase1=function(n){var o=this.getExtensionName(n),p=n["class"],q=n.identifier===l.CUSTOM_EXTENSION?p:this.__getConfirmationExtensionManager().getConfirmationExtensionContainer(o);if(!q)throw Error("Unimplemented payments confirmation extension "+o);return c("React").createElement(q,{extensionConfiguration:n,onConfirmationExtensionUpdate:function(r){this.handleConfirmationExtensionUpdate(o,r)}.bind(this)})};m.prototype.getExtensionName=function(n){return n.extensionKey||n.identifier};m.prototype.render=function(){var n=this.__getView(),o=[],p=this.props.configuration.confirmationExtensions;for(var q=0;p&&q<p.length;q++){var r=p[q],s=this.getExtensionName(r);o.push(c("React").createElement("div",{key:s+q},this.$FBPaymentsConfirmationContainerBase1(r)))}var t=this.props.configuration,u=t.confirmationText,v=t.doneButtonText,w=t.enableReceiptFooterLink,x=t.merchantLogoUrl,y=t.receiptUrl;return c("React").createElement(n,{confirmationText:u,doneButtonText:v,enableReceiptFooterLink:w,handleConfirmationDone:this.props.onConfirmationDoneClick,merchantLogoUrl:x,receiptUrl:y},o)};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsConfirmationContainerBase","__getView")};m.prototype.__getConfirmationExtensionManager=function(){return c("abstractMethod")("FBPaymentsConfirmationContainerBase","__getConfirmationExtensionManager")};m.propTypes={configuration:k.isRequired,onConfirmationDoneClick:j.func.isRequired,onExtensionsUpdate:j.func.isRequired};f.exports=m}),null);
__d("FBPaymentsConfirmationExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").ConfirmationExtensionPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){h.apply(this,arguments)}l.propTypes={extensionConfiguration:k,onConfirmationExtensionUpdate:j.func.isRequired};f.exports=l}),null);
__d("FBPaymentsConfirmationExtensionManagerBase",["FBPaymentsConfirmationConstants","FBPaymentsConfirmationExtensionInterface.react","Map","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBPaymentsConfirmationConstants").Extensions;i.prototype.getConfirmationExtensionContainer=function(j){if(!h[j])throw Error("Non-existent payments confirmation extension "+j);var k=this.__getConfirmationExtensionMap().get(j);if(!k)throw Error("Unimplemented payments confirmation extension "+j);return k};i.prototype.__getConfirmationExtensionMap=function(){return c("abstractMethod")("FBPaymentsConfirmationExtensionManagerBase","__getConfirmationExtensionMap")};function i(){}f.exports=i}),null);
__d("FBPaymentsConfirmationExtensionManager",["FBPaymentsConfirmationExtensionManagerBase","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsConfirmationExtensionManagerBase"));i=h&&h.prototype;function j(){i.constructor.call(this);this.confirmationExtensionMap=new(c("Map"))()}j.prototype.__getConfirmationExtensionMap=function(){return this.confirmationExtensionMap};f.exports=new j()}),null);
__d("FBPaymentsConfirmationViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getConfirmationText=function(){return this.props.confirmationText||c("React").createElement("span",null,h._("Merci de votre achat\u00a0!"))};l.prototype.getConfirmationTitle=function(){return h._("Confirmation")};l.prototype.getReceiptText=function(){return h._("Afficher le re\u00e7u")};l.prototype.getDoneButtonText=function(){return this.props.doneButtonText||h._("Termin\u00e9")};function l(){i.apply(this,arguments)}l.propTypes={children:k.node,confirmationText:k.node,doneButtonText:k.node,enableReceiptFooterLink:k.bool,handleConfirmationDone:k.func,merchantLogoUrl:k.string,receiptUrl:k.string};f.exports=l}),null);
__d("FBPaymentsConfirmationView.react",["cx","ix","CommerceContactMerchantReceiptDialog.react","CurrentUser","FBPaymentsConfirmationViewBase.react","FBPaymentsDialogActions","FBPaymentsLinkHelper","FBPaymentsReceiptDialog.react","FBPaymentsWebdriverTestIDs","Image.react","Link.react","React","URI","XUIButton.react","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=36;j=babelHelpers.inherits(m,c("FBPaymentsConfirmationViewBase.react"));k=j&&j.prototype;m.prototype.$FBPaymentsConfirmationView1=function(n){var o=new(c("URI"))(n).getProtocol(),p=o!=="http"&&o!=="https"&&o!=="";if(p){var q=c("FBPaymentsLinkHelper").parseInAppUrl(n),r=q.clientType,s=q.productID,t=q.platformContextID;if(r)c("FBPaymentsDialogActions").showDialog(c("FBPaymentsReceiptDialog.react"),{actorID:c("CurrentUser").getAccountID(),onDialogToggle:this.$FBPaymentsConfirmationView2,receiptID:s,receiptClientType:r});else c("FBPaymentsDialogActions").showDialog(c("CommerceContactMerchantReceiptDialog.react"),{invoiceID:s,onDialogToggle:this.$FBPaymentsConfirmationView2,platformContextID:t})}else window.open(n,"_blank")};m.prototype.$FBPaymentsConfirmationView2=function(n){if(!n)c("FBPaymentsDialogActions").hideDialog()};m.prototype.$FBPaymentsConfirmationView3=function(){var n=this.props.receiptUrl;if(!n)return null;if(this.props.enableReceiptFooterLink)return c("React").createElement("div",{className:"_2ppt"},c("React").createElement(c("Link.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,onClick:function(){return this.$FBPaymentsConfirmationView1(n)}.bind(this)},this.getReceiptText()));return c("React").createElement("div",{className:"_2ppt"},c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SEE_RECEIPT_BUTTON,label:this.getReceiptText(),onClick:function(){return this.$FBPaymentsConfirmationView1(n)}.bind(this),size:"xlarge"}))};m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{className:"_3fai",src:i("94361")}),o=c("React").createElement(c("XUIGrayText.react"),{className:"_2ppu"},this.getConfirmationText()),p=this.props.merchantLogoUrl?c("React").createElement(c("Image.react"),{className:"_2ppv",height:l,src:this.props.merchantLogoUrl}):null,q=c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").CONFIRMATION_SCREEN_DONE_BUTTON,label:this.getDoneButtonText(),onClick:this.props.handleConfirmationDone,size:"xlarge",use:"confirm"}),r=this.props.enableReceiptFooterLink?c("React").createElement("div",null,this.props.children,this.$FBPaymentsConfirmationView3()):c("React").createElement("div",null,this.$FBPaymentsConfirmationView3(),this.props.children);return c("React").createElement("div",{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_CONFIRMATION_SCREEN},c("React").createElement("div",{className:"_2ppw"},c("React").createElement("div",{className:"_2ppx"},n,o,p),r),c("React").createElement("div",{className:"_5kyc _2ph_ _52jw"},q))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("FBPaymentsConfirmationContainer.react",["FBPaymentsConfirmationContainerBase.react","FBPaymentsConfirmationExtensionManager","FBPaymentsConfirmationView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsConfirmationContainerBase.react"));i=h&&h.prototype;j.prototype.__getConfirmationExtensionManager=function(){return c("FBPaymentsConfirmationExtensionManager")};j.prototype.__getView=function(){return c("FBPaymentsConfirmationView.react")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=c("FBPaymentsConfirmationContainerBase.react").propTypes;f.exports=j}),null);
__d("FBPaymentsEntityHeaderViewBase.react",["FBPaymentsCheckoutConfigurationTypes","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConfigurationTypes").EntityPropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.ENTITY_IMAGE_HEIGHT=36,m}k.prototype.getTitle=function(){return this.props.entity.participant.title};k.prototype.getSubtitle=function(){return this.props.entity.participant.subtitle};k.prototype.getImageSrc=function(){return this.props.entity.participant.imageURL};k.prototype.getDescription=function(){return this.props.entity.description};k.prototype.isLargeTitle=function(){return!this.getSubtitle()};k.propTypes={entity:j.isRequired};f.exports=k}),null);
__d("FBPaymentsEntityHeaderView.react",["cx","FBPaymentsEntityHeaderViewBase.react","FBPaymentsItemSummaryView.react","React","XUIGrayText.react","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsEntityHeaderViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.isLargeTitle()?"large":"medium",m=c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:l},this.getTitle()),n=this.getSubtitle()?c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"small"},this.getSubtitle()):null,o=this.getDescription()?c("React").createElement(c("XUIGrayText.react"),{className:"_2ph_ _5kyc",display:"block",shade:"medium",size:"small"},this.getDescription()):null;return c("React").createElement("div",{className:c("joinClasses")("_qu2",this.props.className)},c("React").createElement(c("FBPaymentsItemSummaryView.react"),{imageHeight:this.ENTITY_IMAGE_HEIGHT,imageSrc:this.getImageSrc()},m,n),o)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsCheckoutStore",["FBPaymentsCheckoutActions","FBPaymentsDispatcher","FluxReduceStore","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l=c("immutable").List,m=c("FBPaymentsCheckoutActions").types,n={showHardErrorOnExtensions:{showError:false,extensionsNotReady:l()},paymentStep:null};h=babelHelpers.inherits(o,c("immutable").Record(n));i=h&&h.prototype;function o(){h.apply(this,arguments)}j=babelHelpers.inherits(p,c("FluxReduceStore"));k=j&&j.prototype;p.prototype.getInitialState=function(){return new o()};p.prototype.reduce=function(q,r){switch(r.type){case m.SHOW_HARD_ERROR_ON_EXTENSIONS:return q.set("showHardErrorOnExtensions",r.data);case m.UPDATE_PAYMENT_STEP:return q.set("paymentStep",r.data);default:return q}};p.prototype.getExtensionsWithHardError=function(){return this.getState().showHardErrorOnExtensions};p.prototype.getPaymentStep=function(){return this.getState().paymentStep};function p(){j.apply(this,arguments)}f.exports=new p(c("FBPaymentsDispatcher"))}),null);
__d("FBPaymentsExtensionInterface.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsCheckoutStore","FBPaymentsLoggerBase","FluxContainer","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").CheckoutConfigurationPropTypes,l=c("FBPaymentsCheckoutConfigurationTypes").PurchaseInfoExtensionPropTypes;h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;m.getStores=function(){return[c("FBPaymentsCheckoutStore")]};m.calculateState=function(n,o){var p=babelHelpers["extends"]({},n),q=o.extensionConfiguration.identifier,r=c("FBPaymentsCheckoutStore").getExtensionsWithHardError();if(r&&r.showError&&r.extensionsNotReady.includes(q))p.showHardError=true;else p.showHardError=false;return p};m.__calculateExtensionState=function(n){return c("abstractMethod")("FBPaymentsExtensionInterface","calculateExtensionState")};m.prototype.__sendExtensionUpdateIfNecessary=function(n,o){var p=this.constructor.__calculateExtensionState(o),q=!this.constructor.__extensionStateEquals(n.extensionState,p);if(q)n.onExtensionUpdate(p)};m.prototype.calculateExtensionStateAndSendUpdateImmediately=function(n){var o=this.constructor.__calculateExtensionState(n);this.props.onExtensionUpdate(o)};m.prototype.componentWillMount=function(){this.__sendExtensionUpdateIfNecessary(this.props,this.state)};m.prototype.componentWillUpdate=function(n,o){this.__sendExtensionUpdateIfNecessary(n,o)};function m(){h.apply(this,arguments)}m.PropTypes={checkoutConfiguration:k.isRequired,checkoutExtraProps:j.object,checkoutRestoreData:j.object.isRequired,extensionConfiguration:l.isRequired,extensionState:j.object.isRequired,isActive:j.bool.isRequired,isActiveForVerification:j.bool.isRequired,logger:j.instanceOf(c("FBPaymentsLoggerBase")).isRequired,onExtensionPrePaymentCallChange:j.func.isRequired,onExtensionUpdate:j.func.isRequired,onExtensionWidthChange:j.func.isRequired,onRequestActive:j.func.isRequired,onRequestActiveForVerification:j.func.isRequired};m.__extensionStateEquals=function(n,o){return JSON.stringify(n)===JSON.stringify(o)};f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("FBPaymentsContactEmailSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactEmailClick=function(l){var m=this.state.contactEmails&&this.state.contactEmails.find(function(n){return n.id===l});this.setState({selectedContactEmail:m})}.bind(this);this.handleNewContactEmailChange=function(l,m,n){this.setState({newContactEmail:m,isNewContactEmailValid:n.isValid,validationErrorMessage:n.errorMessage})}.bind(this);this.handleAddNewContactEmail=function(){this.setState({isSavingNewContactEmail:true,serverErrorMessage:null});var l={user_input_email:this.state.newContactEmail,payment_type:this.props.checkoutConfiguration.paymentInfo.paymentItemType};this.__getAPI().addContactEmail(l,this.handleNewContactEmailAdded,this.handleNewContactEmailAddedError)}.bind(this);this.handleNewContactEmailAdded=function(l){this.setState({isLoading:true,isSavingNewContactEmail:false,selectedContactEmail:null,showForm:false});this.$FBPaymentsContactEmailSelectorContainerBase1()}.bind(this);this.handleNewContactEmailAddedError=function(l){this.setState({isSavingNewContactEmail:false,serverErrorMessage:l.message})}.bind(this);this.handleContactEmailRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleClearInput=function(){this.setState({isNewContactEmailValid:false,newContactEmail:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this);this.state={contactEmails:null,isLoading:false,isNewContactEmailValid:false,isSavingNewContactEmail:false,newContactEmail:"",selectedContactEmail:null,serverErrorMessage:null,showForm:false,validationErrorMessage:null,showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k),n=c("FBPaymentsContactInfoTypes").EMAIL,o=this.__getContactInfoStore().get(n);m.isLoading=o.isLoading();if(o.hasValue()){var p=o.getValueEnforcing();m.contactEmails=p;if(m.newContactEmail){var q=p.find(function(s){return s.normalizedEmailAddress===m.newContactEmail});if(q){m.selectedContactEmail=q;m.newContactEmail=""}}else if(!m.selectedContactEmail){var r=p.filter(function(s){return s.isDefault}).first();if(!r)r=p.first();if(r)m.selectedContactEmail=r}}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.selectedContactEmail){l=true;m={email:k.selectedContactEmail.normalizedEmailAddress,id:k.selectedContactEmail.id}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getContactInfoStore")};j.prototype.$FBPaymentsContactEmailSelectorContainerBase1=function(){var k=c("FBPaymentsContactInfoTypes").EMAIL;this.constructor.__getContactInfoStore().fetch(k);this.setState({isLoading:true})};j.prototype.handleToggleShowForm=function(k){this.setState({showForm:k});this.handleClearInput()};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getView")};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactEmailSelectorContainerBase","__getAPI")};j.prototype.$FBPaymentsContactEmailSelectorContainerBase2=function(){var k=this.props.extensionConfiguration;if(k.identifier!=="CONTACT_EMAIL")return null;return k.customContent};j.prototype.render=function(){var k=this.__getView(),l=this.props.checkoutExtraProps?this.props.checkoutExtraProps.emailHelpMessage:null,m=this.$FBPaymentsContactEmailSelectorContainerBase2();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{customContent:m,isActive:this.props.isActive,onAddNewContactEmail:this.handleAddNewContactEmail,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactEmailClick:this.handleContactEmailClick,onHideForm:this.handleHideForm,onNewContactEmailChange:this.handleNewContactEmailChange,onRowClicked:this.handleContactEmailRowClicked,onShowForm:this.handleShowForm,helpMessage:l}))};f.exports=j}),null);
__d("FBPaymentsContactEmailSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","FBPaymentsLinkHelper","React","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConfigurationTypes").CustomContactEmailContentPropTypes,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};m.prototype.getContactEmailLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.emailLabel:n:n)||h._("Adresse e-mail de contact")};m.prototype.getAddContactEmailText=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addEmailPuxCta:n:n)||h._("Ajouter")};m.prototype.getAddContactEmailNUXText=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addEmailNuxCta:n:n)||h._("Ajouter une adresse e-mail")};m.prototype.getAddContactEmailPlaceholder=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.fieldPlaceholder:n:n)||h._("Nouvelle adresse e-mail")};m.prototype.getCancelButtonText=function(){return h._("Annuler")};m.prototype.getSaveButtonText=function(){return h._("Enregistrer")};m.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};m.prototype.getHardErrorMessage=function(){return h._("Veuillez s\u00e9lectionner une adresse e-mail valide.")};m.prototype.getSecurityMessage=function(){var n;if(this.props.helpMessage)return this.props.helpMessage;return((n=this.props)!=null?(n=n.customContent)!=null?n.formFooterMessage:n:n)||h._("Les mises \u00e0 jour sur votre achat seront envoy\u00e9es \u00e0 cet e-mail. {Link. =Learn more}",[h.param("Link. =Learn more",c("React").createElement("a",{href:c("FBPaymentsLinkHelper").getPayerProtectionURI(),target:"_blank"},h._("En savoir plus")))])};function m(){i.apply(this,arguments)}m.propTypes={contactEmails:l.object,customContent:k,isActive:l.bool.isRequired,isLoading:l.bool.isRequired,isNewContactEmailValid:l.bool.isRequired,isSavingNewContactEmail:l.bool.isRequired,newContactEmail:l.string.isRequired,onAddNewContactEmail:l.func.isRequired,onCancelActiveStateClick:l.func.isRequired,onClearInput:l.func.isRequired,onContactEmailClick:l.func.isRequired,onHideForm:l.func.isRequired,onNewContactEmailChange:l.func.isRequired,onRowClicked:l.func.isRequired,onShowForm:l.func.isRequired,selectedContactEmail:l.object,serverErrorMessage:l.oneOfType([l.node,l.string]),showForm:l.bool,validationErrorMessage:l.node,helpMessage:l.node,showHardError:l.bool};f.exports=m}),null);
__d("FBPaymentsEmailFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getPlaceholderText=function(){return h._("Adresse e-mail")},m}k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").EMAIL_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};f.exports=k}),null);
__d("FBPaymentsRichSelector.react",["ix","cx","invariant","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","Image.react","InlineBlock.react","React","ReactDOM","SubscriptionsHandler","XUIPopoverButton.react","emptyFunction","fbglyph","joinClasses","requestAnimationFrame"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m,n,o=c("React").PropTypes,p={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},q=100;function r(v,w,x){__p&&__p();c("React").Children.count(v.children)>0||j(0);var y=null,z=c("React").Children.map(v.children,function(A){__p&&__p();if(!A)return null;switch(A.type){case u:return A;case t:default:if(x==null&&!v.defaultLabel)x=A.props.value;if(x===A.props.value){y=A;w.selected=true}else w.selected=false;return c("React").cloneElement(A,w)}});return{items:z,selectedItem:y}}var s=c("React").createClass({displayName:"FBPaymentsRichSelector",childContextTypes:{onChange:o.func},getChildContext:function v(){return{onChange:this.props.onChange}},propTypes:{defaultLabel:o.oneOfType([o.object,o.string]),defaultValue:o.oneOfType([o.object,o.string]),disabled:o.bool,label:o.oneOfType([o.node,o.string]),size:o.string,width:o.number,onChange:o.func,onDropdown:o.func,onToggleLayer:o.func},getDefaultProps:function v(){return{defaultLabel:"",onDropdown:c("emptyFunction")}},getInitialState:function v(){return{preShowLayer:false,showLayer:false,value:this.props.defaultValue||""}},componentDidMount:function v(){this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.refs.menu.layer.subscribe("blur",this._onBlur),this.refs.menu.layer.subscribe("hide",this._onBlur))},componentWillUnmount:function v(){this.subscriptions.release()},render:function v(){var w=Math.max(this.props.width,q),x={onSelect:this._onSelect},y=this.state.value,z=r(this.props,x,y),A=z.selectedItem,B=void 0;if(this.props.label)B=this.props.label;else if(A)B=A.props.label;else B=this.props.defaultLabel;var C=this.state.showLayer?h("115703"):h("125303"),D=c("React").createElement(c("Image.react"),{className:"_2vzy",src:C});return c("React").createElement("span",null,c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:c("joinClasses")((this.state.showLayer?"openToggler":"")+" _4hp4",this.props.className),style:{width:w}},c("React").createElement(c("XUIPopoverButton.react"),{className:"_2vzz"+(this.state.showLayer?" _2vz-":"")+(!this.props.label&&!A?" _53q9":""),depressed:this.state.showLayer,disabled:this.props.disabled||false,haschevron:false,imageRight:D,label:B,onClick:this._toggleSelector,ref:"selectorButton",maxwidth:w})),this.renderLayers())},_getBehaviors:function v(){return babelHelpers["extends"]({},p,this.props.behaviors)},renderLayers:function v(){__p&&__p();var w={onSelect:this._onSelect},x=null;if(this.state.showLayer||this.state.preShowLayer){var y=this.state.value;x=r(this.props,w,y).items}if(this.state.showLayer)this.props.onDropdown();var z=q,A=c("ReactDOM").findDOMNode(this.refs.selectorButton);if(A)z=A.getBoundingClientRect().width;var B=c("React").createElement("ul",{ref:"menuItems",role:"menu",style:{width:z}},x);return c("React").createElement(c("ContextualLayer.react"),{behaviors:this._getBehaviors(),contextRef:function(){return this.refs.selectorButton}.bind(this),position:"below",ref:"menu",shown:this.state.showLayer,key:"menu"},c("React").createElement("div",{className:"_4hp4 _54nq _575t _57di _558b"},c("React").createElement("div",{className:"_4hp1",ref:"menuContainer"},B)))},_toggleSelector:function v(){if(!this.props.disabled)this._setLayerShownState(true)},_onBlur:function v(){c("requestAnimationFrame")(function(){if(this.isMounted())this._setLayerShownState(false)}.bind(this))},_setLayerShownState:function v(w,x){if(w!==this.state.showLayer)this.props.onToggleLayer&&this.props.onToggleLayer(w);if(w&&w!==this.state.showLayer)this.setState(babelHelpers["extends"]({preShowLayer:true},x),function(){this.setState({showLayer:w,preShowLayer:false})}.bind(this));else this.setState(babelHelpers["extends"]({showLayer:w,preShowLayer:false},x))},_onSelect:function v(w){this._setLayerShownState(false,{value:w.value});this.props.onChange&&this.props.onChange(w)}});k=babelHelpers.inherits(t,c("React").Component);l=k&&k.prototype;function t(){__p&&__p();var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=l.constructor).call.apply(v,[this].concat(y)),this.state={highlighted:false},this.$FBPaymentsRichSelectorOption1=function(A){var B=A.nativeEvent;if(!B||!B.isMiddleClick()&&!B.getModifiers().any){B.preventDefault();this.props.onSelect&&this.props.onSelect({label:this.props.label,value:this.props.value})}}.bind(this),this.$FBPaymentsRichSelectorOption2=function(){this.setState({highlighted:true})}.bind(this),this.$FBPaymentsRichSelectorOption3=function(){this.setState({highlighted:false})}.bind(this),w}t.prototype.render=function(){__p&&__p();var v=this.props.children,w=this.props.clickable,x=null,y=null,z=null;if(w){Object.prototype.hasOwnProperty.call(this.props,"value")||j(0);x=this.$FBPaymentsRichSelectorOption1;y=this.$FBPaymentsRichSelectorOption2;z=this.$FBPaymentsRichSelectorOption3;v=c("React").createElement("a",{className:"_4hp5 _54nc",ref:"menuItemAnchor",role:"menuitem",tabIndex:"0"},c("React").createElement("div",{className:"_4hp6"}),v)}var A=this.state.highlighted;return c("React").createElement("li",{className:c("joinClasses")("_4hp2"+(!w?" _4hp3":"")+(w&&this.props.selected?" _4hp7":"")+(w&&A?" _54ne":"")+" _54ni",this.props.className),onClick:x,onMouseEnter:y,onMouseLeave:z},v)};t.propTypes={clickable:o.bool,label:o.oneOfType([o.object,o.string]),onSelect:o.func,selected:o.bool,value:o.oneOfType([o.string,o.number])};t.defaultProps={clickable:true};m=babelHelpers.inherits(u,c("React").Component);n=m&&m.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=n.constructor).call.apply(v,[this].concat(y)),this.$FBPaymentsRichSelectorSeparator1=function(){if(!this.props.label)return null;return c("React").createElement("h4",{className:"_4hp9"},this.props.label)}.bind(this),w}u.prototype.render=function(){!(c("React").Children.count(this.props.children)&&this.props.label)||j(0);var v=this.props.children?this.props.children:this.$FBPaymentsRichSelectorSeparator1();return c("React").createElement("li",{className:"_54ak _4hp8"},v)};u.propTypes={label:o.string};s.Option=t;s.Separator=u;f.exports=s}),null);
__d("FBPaymentsContactEmailSelectorView.react",["cx","fbt","FBPaymentsContactEmailSelectorViewBase.react","FBPaymentsEmailFormField.react","FBPaymentsLoadingView.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("FBPaymentsRichSelector.react").Option,m=c("Layout.react").Column,n=c("Layout.react").FillColumn;j=babelHelpers.inherits(o,c("FBPaymentsContactEmailSelectorViewBase.react"));k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.handleSelectorChange=function(u){var v=u.value;this.props.onContactEmailClick(v)}.bind(this),q}o.prototype.renderContactEmailListItem=function(p){return c("React").createElement(l,{key:p.id,label:p.normalizedEmailAddress,value:p.id},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},p.normalizedEmailAddress))};o.prototype.renderServerErrorMessage=function(){if(!this.props.serverErrorMessage)return null;return c("React").createElement(c("XUIText.react"),{className:"_14tg",display:"block",size:"small"},this.props.serverErrorMessage)};o.prototype.renderAddContactEmailInputListItem=function(){return c("React").createElement(l,{className:"_5kyc",clickable:false,key:"add_contact_email_input"},c("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,c("React").createElement(c("FBPaymentsEmailFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"email",onChange:this.props.onNewContactEmailChange,placeholder:this.getAddContactEmailPlaceholder(),value:this.props.newContactEmail})),c("React").createElement(m,null,c("React").createElement(c("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactEmailValid,label:this.getAddContactEmailText(),onClick:this.props.onAddNewContactEmail,size:"large",use:"confirm"}))),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSavingNewContactEmail})))};o.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(l,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};o.prototype.renderContactEmailsDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var p=this.props.contactEmails;if(!p)return null;var q=this.props.selectedContactEmail,r=q&&q.id;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactEmailNUXText(),defaultValue:r,name:"contact_email_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},p.map(this.renderContactEmailListItem),this.renderAddContactEmailInputListItem(),this.renderSecurityMessageListItem())};o.prototype.getContactEmailLabel=function(){var p;return((p=this.props)!=null?(p=p.customContent)!=null?p.emailLabel:p:p)||i._("E-mail de confirmation")};o.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactEmailLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactEmailsDropdown()))};f.exports=o}),null);
__d("FBPaymentsContactInfoStoreBase",["FBPaymentsContactInfoActions","FBPaymentsContactInfoTypes","FBPaymentsDispatcher","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"))}j.prototype.reduce=function(k,l){__p&&__p();var m=l.data;switch(l.type){case c("FBPaymentsContactInfoActions").types.CONTACT_NAME_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").NAME,m.contactName);case c("FBPaymentsContactInfoActions").types.CONTACT_NAME_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").NAME,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").EMAIL,m.contactEmails);case c("FBPaymentsContactInfoActions").types.CONTACT_EMAILS_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").EMAIL,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").PHONE_NUMBER,m.contactPhoneNumbers);case c("FBPaymentsContactInfoActions").types.CONTACT_PHONE_NUMBERS_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").PHONE_NUMBER,m.error);case c("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").MAILING_ADDRESS,m.mailingAddresses);case c("FBPaymentsContactInfoActions").types.MAILING_ADDRESSES_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").MAILING_ADDRESS,m.error);case c("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_LOADED:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,m.contactCurrentCountry);case c("FBPaymentsContactInfoActions").types.CONTACT_CURRENT_COUNTRY_ERROR:return this.__handleOne(k,c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,m.error);default:return k}};j.prototype.fetch=function(k){this.__load(k)};j.prototype.__load=function(k){this.__getAPI().fetchContactInfosByType(k)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactInfoStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsContactInfoStore",["FBPaymentsContactInfoStoreBase","FBPaymentsModulesAPI"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactInfoStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsContactEmailSelectorContainer.react",["FBPaymentsContactEmailSelectorContainerBase.react","FBPaymentsContactEmailSelectorView.react","FBPaymentsContactInfoStore","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactEmailSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactEmailSelectorView.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsContactNameInputContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactNameChange=function(l,m,n){this.setState({contactName:m,errorMessage:n.errorMessage})}.bind(this);this.handleNewContactNameChange=function(l,m,n){this.setState({newContactName:m,isNewContactNameValid:n.isValid,errorMessage:n.errorMessage})}.bind(this);this.handleContactNameRowClicked=function(){this.setState({newContactName:this.state.contactName,isNewContactNameValid:true,errorMessage:null});this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleUpdateContactName=function(){this.setState({contactName:this.state.newContactName});this.props.onRequestActive(false)}.bind(this);this.state={contactName:"",errorMessage:null,initialFetch:true,isLoading:false,isNewContactNameValid:false,newContactName:"",showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){var m=babelHelpers["extends"]({},k),n=this.__getContactInfoStore().get(c("FBPaymentsContactInfoTypes").NAME);m.isLoading=n.isLoading();if(n.hasValue()&&m.initialFetch){m.contactName=n.getValueEnforcing().first();m.initialFetch=false}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.contactName.length>=2){l=true;m={name:k.contactName}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getContactInfoStore")};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactNameInputContainerBase","__getView")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCancelActiveStateClick:this.handleCancelActiveStateClick,onContactNameChange:this.handleContactNameChange,onNewContactNameChange:this.handleNewContactNameChange,onRowClicked:this.handleContactNameRowClicked,onUpdateContactName:this.handleUpdateContactName}))};f.exports=j}),null);
__d("FBPaymentsContactNameInputViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getContactNameLabel=function(){return h._("Nom")};l.prototype.getContactNamePlaceholder=function(){return h._("Veuillez entrer votre nom")};l.prototype.getCancelButtonText=function(){return h._("Annuler")};l.prototype.getHardErrorMessage=function(){return h._("Veuillez saisir un nom.")};l.prototype.getSaveButtonText=function(){return h._("Enregistrer")};function l(){i.apply(this,arguments)}l.propTypes={contactName:k.string,errorMessage:k.node,isActive:k.bool.isRequired,isLoading:k.bool.isRequired,isNewContactNameValid:k.bool.isRequired,newContactName:k.string.isRequired,onCancelActiveStateClick:k.func.isRequired,onContactNameChange:k.func.isRequired,onNewContactNameChange:k.func.isRequired,onRowClicked:k.func.isRequired,onUpdateContactName:k.func.isRequired,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsNameFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.getPlaceholderText=function(){return h._("Veuillez entrer votre nom")},m}k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").NAME_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};f.exports=k}),null);
__d("FBPaymentsContactNameInputView.react",["cx","FBPaymentsContactNameInputViewBase.react","FBPaymentsNameFormField.react","React","XUIGrayText.react","XUISpinner.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsContactNameInputViewBase.react"));j=i&&i.prototype;k.prototype.renderContactNameInput=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);return c("React").createElement(c("FBPaymentsNameFormField.react"),{className:"_3vg0",errorMessage:this.props.errorMessage,height:"tall",name:"name",onChange:this.props.onContactNameChange,value:this.props.contactName})};k.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactNameLabel()),c("React").createElement("div",{className:"_3-8x _52jv _223u"},this.renderContactNameInput()))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsContactNameInputContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactNameInputContainerBase.react","FBPaymentsContactNameInputView.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactNameInputContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactNameInputView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainerBase.react",["FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){__p&&__p();i.constructor.call(this,k);this.handleContactPhoneNumberClick=function(l){var m=this.state.contactPhoneNumbers&&this.state.contactPhoneNumbers.find(function(n){return n.id===l});this.setState({selectedContactPhoneNumber:m})}.bind(this);this.handleNewContactPhoneNumberChange=function(l,m,n){this.setState({newContactPhoneNumber:m,isNewContactPhoneNumberValid:n.isValid,validationErrorMessage:n.errorMessage})}.bind(this);this.handleAddNewContactPhoneNumber=function(){this.setState({isSavingNewContactPhoneNumber:true,serverErrorMessage:null});var l={raw_input:this.state.newContactPhoneNumber};this.__getAPI().addContactPhoneNumber(l,this.handleNewContactPhoneNumberAdded,this.handleNewContactPhoneNumberAddedError)}.bind(this);this.handleNewContactPhoneNumberAdded=function(l){this.setState({isSavingNewContactPhoneNumber:false,newContactPhoneNumberID:l,selectedContactPhoneNumber:null,showForm:false});this.$FBPaymentsContactPhoneNumberSelectorContainerBase1()}.bind(this);this.handleNewContactPhoneNumberAddedError=function(l){this.setState({isSavingNewContactPhoneNumber:false,serverErrorMessage:l.message})}.bind(this);this.handleContactPhoneNumberRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleClearInput=function(){this.setState({isNewContactPhoneNumberValid:false,newContactPhoneNumber:"",serverErrorMessage:null,validationErrorMessage:null})}.bind(this);this.state={contactPhoneNumbers:null,isLoading:false,isNewContactPhoneNumberValid:false,isSavingNewContactPhoneNumber:false,newContactPhoneNumber:"",newContactPhoneNumberID:null,selectedContactPhoneNumber:null,serverErrorMessage:null,showForm:false,validationErrorMessage:null,showHardError:false}}j.getStores=function(){return[this.__getContactInfoStore()]};j.calculateState=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k),n=c("FBPaymentsContactInfoTypes").PHONE_NUMBER,o=this.__getContactInfoStore().get(n);m.isLoading=o.isLoading();if(o.hasValue()){var p=o.getValueEnforcing();m.contactPhoneNumbers=p;if(m.newContactPhoneNumberID){var q=p.find(function(s){return s.id===m.newContactPhoneNumberID});if(q){m.selectedContactPhoneNumber=q;m.newContactPhoneNumber="";m.newContactPhoneNumberID=null}}else if(!m.selectedContactPhoneNumber){var r=p.filter(function(s){return s.isDefault}).first();if(!r)r=p.first();if(r)m.selectedContactPhoneNumber=r}}return m};j.__calculateExtensionState=function(k){var l=false,m={};if(k.selectedContactPhoneNumber){l=true;m={phoneNumber:k.selectedContactPhoneNumber.intlNumberWithPlus,id:k.selectedContactPhoneNumber.id}}return{extraData:m,ready:l}};j.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getContactInfoStore")};j.prototype.$FBPaymentsContactPhoneNumberSelectorContainerBase1=function(){var k=c("FBPaymentsContactInfoTypes").PHONE_NUMBER;this.constructor.__getContactInfoStore().fetch(k);this.setState({isLoading:true})};j.prototype.handleToggleShowForm=function(k){this.setState({showForm:k});this.handleClearInput()};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getView")};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsContactPhoneNumberSelectorContainerBase","__getAPI")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,onAddNewContactPhoneNumber:this.handleAddNewContactPhoneNumber,onCancelActiveStateClick:this.handleCancelActiveStateClick,onClearInput:this.handleClearInput,onContactPhoneNumberClick:this.handleContactPhoneNumberClick,onHideForm:this.handleHideForm,onNewContactPhoneNumberChange:this.handleNewContactPhoneNumberChange,onRowClicked:this.handleContactPhoneNumberRowClicked,onShowForm:this.handleShowForm}))};f.exports=j}),null);
__d("FBPaymentsContactPhoneNumberSelectorViewBase.react",["fbt","FBPaymentsLinkHelper","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getHardErrorMessage=function(){return h._("Veuillez saisir un num\u00e9ro de t\u00e9l\u00e9phone.")};l.prototype.getCancelButtonText=function(){return h._("Annuler")};l.prototype.getSaveButtonText=function(){return h._("Enregistrer")};l.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};l.prototype.getContactPhoneNumberLabel=function(){return h._("Num\u00e9ro de t\u00e9l\u00e9phone de contact")};l.prototype.getAddContactPhoneNumberText=function(){return h._("Ajouter")};l.prototype.getAddContactPhoneNumberNUXText=function(){return h._("Ajouter un num\u00e9ro de t\u00e9l\u00e9phone")};l.prototype.getAddContactPhoneNumberPlaceholder=function(){return h._("Nouveau num\u00e9ro de t\u00e9l\u00e9phone")};l.prototype.getSecurityMessage=function(){return h._("Votre num\u00e9ro de t\u00e9l\u00e9phone de contact est stock\u00e9 de mani\u00e8re s\u00e9curis\u00e9e et n\u2019est partag\u00e9 qu\u2019avec l\u2019acheteur.")};function l(){i.apply(this,arguments)}l.propTypes={contactPhoneNumbers:k.object,isActive:k.bool.isRequired,isLoading:k.bool.isRequired,isNewContactPhoneNumberValid:k.bool.isRequired,isSavingNewContactPhoneNumber:k.bool.isRequired,newContactPhoneNumber:k.string.isRequired,onAddNewContactPhoneNumber:k.func.isRequired,onCancelActiveStateClick:k.func.isRequired,onClearInput:k.func.isRequired,onContactPhoneNumberClick:k.func.isRequired,onHideForm:k.func.isRequired,onNewContactPhoneNumberChange:k.func.isRequired,onRowClicked:k.func.isRequired,onShowForm:k.func.isRequired,selectedContactPhoneNumber:k.object,serverErrorMessage:k.oneOfType([k.node,k.string]),showForm:k.bool,validationErrorMessage:k.node,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsPhoneNumberFormField.react",["fbt","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigs","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.getPlaceholderText=function(){return h._("Num\u00e9ro de t\u00e9l\u00e9phone")};k.prototype.render=function(){return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({config:c("FBPaymentsFormFieldInputConfigs").PHONE_NUMBER_INPUT_CONFIG,placeholder:this.getPlaceholderText()},this.props))};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsFormField.react").propTypes;f.exports=k}),null);
__d("FBPaymentsContactPhoneNumberSelectorView.react",["cx","FBPaymentsContactPhoneNumberSelectorViewBase.react","FBPaymentsLoadingView.react","FBPaymentsPhoneNumberFormField.react","FBPaymentsRichSelector.react","Layout.react","React","XUIButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option,l=c("Layout.react").Column,m=c("Layout.react").FillColumn;i=babelHelpers.inherits(n,c("FBPaymentsContactPhoneNumberSelectorViewBase.react"));j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.handleSelectorChange=function(t){var u=t.value;this.props.onContactPhoneNumberClick(u)}.bind(this),p}n.prototype.renderContactPhoneNumberListItem=function(o){return c("React").createElement(k,{key:o.id,label:o.intlNumberWithPlus,value:o.id},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},o.intlNumberWithPlus))};n.prototype.renderServerErrorMessage=function(){if(!this.props.serverErrorMessage)return null;return c("React").createElement(c("XUIText.react"),{className:"_14tg",display:"block",size:"small"},this.props.serverErrorMessage)};n.prototype.renderAddContactPhoneNumberInputListItem=function(){return c("React").createElement(k,{className:"_5kyc",clickable:false,key:"add_contact_phone_number_input"},c("React").createElement("div",{className:"_1jnq"},this.renderServerErrorMessage(),c("React").createElement(c("Layout.react"),null,c("React").createElement(m,null,c("React").createElement(c("FBPaymentsPhoneNumberFormField.react"),{className:"_3vg0",errorMessage:this.props.validationErrorMessage,name:"phoneNumber",onChange:this.props.onNewContactPhoneNumberChange,placeholder:this.getAddContactPhoneNumberPlaceholder(),value:this.props.newContactPhoneNumber})),c("React").createElement(l,null,c("React").createElement(c("XUIButton.react"),{className:"_3-9a _3yca",disabled:!this.props.isNewContactPhoneNumberValid,label:this.getAddContactPhoneNumberText(),onClick:this.props.onAddNewContactPhoneNumber,size:"large",use:"confirm"}))),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSavingNewContactPhoneNumber})))};n.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(k,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};n.prototype.renderContactPhoneNumbersDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var o=this.props.contactPhoneNumbers;if(!o)return null;var p=this.props.selectedContactPhoneNumber,q=p&&p.id;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.getAddContactPhoneNumberNUXText(),defaultValue:q,name:"contact_phone_number_selector",onChange:this.handleSelectorChange,onToggleLayer:this.props.onClearInput},o.map(this.renderContactPhoneNumberListItem),this.renderAddContactPhoneNumberInputListItem(),this.renderSecurityMessageListItem())};n.prototype.render=function(){return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getContactPhoneNumberLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderContactPhoneNumbersDropdown()))};f.exports=n}),null);
__d("FBPaymentsContactPhoneNumberSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsContactPhoneNumberSelectorContainerBase.react","FBPaymentsContactPhoneNumberSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsContactPhoneNumberSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getView=function(){return c("FBPaymentsContactPhoneNumberSelectorView.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsCustomOptionsContainerBase.react",["invariant","FBPaymentsExtensionInterface.react","React","abstractMethod","guid"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k="custom_",l="price";i=babelHelpers.inherits(m,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.handleCustomOptionClick=function(p){this.setState({selectedOptionID:p})}.bind(this);this.handleCustomOptionRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleCancelActiveStateClick=function(){this.props.onRequestActive(false)}.bind(this);this.handleAddCustomOptionClick=function(){this.props.onRequestActive(true);this.setState({showForm:true})}.bind(this);this.handleNewCustomOptionFormDataChange=function(p,q){this.setState({customOptionFormData:p,isCustomOptionFormValid:q})}.bind(this);this.handleRemoveCustomOptionClick=function(){var p=this.state.configuration,q=p.options;if(q.length===1&&q[0].optionId.startsWith(k)){q.pop();this.setState({configuration:p})}}.bind(this);this.handleSaveNewCustomOption=function(){__p&&__p();var p=this.state.configuration,q=p.customOption||{},r=q.formFields,s=this.state.customOptionFormData;r&&s||h(0);var t=s.title,u=s.price,v=void 0;if(u){var w=r.get(l);w&&w.currency||h(0);v={currency:w.currency,amount:u}}var x={optionId:k+c("guid")(),optionPrice:v,optionPriceList:[{label:q.priceLabel||"",price:v}],optionTitle:t};p.options.push(x);this.setState({configuration:p,customOptionFormData:null,isCustomOptionFormValid:false,selectedOptionID:x.optionId,showForm:false},function(){this.props.onRequestActive(false)}.bind(this))}.bind(this);var o=this.$FBPaymentsCustomOptionsContainerBase1(n.extensionConfiguration);this.state={configuration:o,customOptionFormData:null,isCustomOptionFormValid:false,selectedOptionID:this.$FBPaymentsCustomOptionsContainerBase2(o),showForm:false,showHardError:false}}m.__calculateExtensionState=function(n){var o=n.configuration,p=n.selectedOptionID;if(!p)return{extraData:{},ready:o.optional};var q=o.options.find(function(t){return t.optionId===p}),r=q&&q.optionPriceList,s=p.startsWith(k);return{extraData:{collectedDataKey:o.collectedDataKey,customOption:s?q:null,optionId:p,optionPriceList:r,priceModel:o.priceModel},ready:true}};m.prototype.$FBPaymentsCustomOptionsContainerBase1=function(n){if(n.identifier!=="CUSTOM_OPTIONS")throw Error("Options extension must be supplied proper configuration");return n};m.prototype.$FBPaymentsCustomOptionsContainerBase2=function(n){var o=n.options,p=n.shouldPreSelect&&o.length>0;if(p||o.length===1)return o[0].optionId;return null};m.prototype.componentWillReceiveProps=function(n){var o=this.$FBPaymentsCustomOptionsContainerBase1(n.extensionConfiguration),p=null;o.options.some(function(q){if(q.optionId===this.state.selectedOptionID){p=q.optionId;return true}return false}.bind(this));this.setState({configuration:o,selectedOptionID:p})};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsCustomOptionsContainerBase","__getView")};m.prototype.render=function(){var n=this.__getView();return c("React").createElement(n,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isCustomOptionFormSaveEnabled:this.state.isCustomOptionFormValid,onAddCustomOptionClick:this.handleAddCustomOptionClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onCustomOptionClick:this.handleCustomOptionClick,onCustomOptionFormDataChange:this.handleNewCustomOptionFormDataChange,onRemoveCustomOptionClick:this.handleRemoveCustomOptionClick,onRowClicked:this.handleCustomOptionRowClicked,onSaveNewCustomOption:this.handleSaveNewCustomOption}))};f.exports=m}),null);
__d("FBPaymentsAddButton.react",["ix","cx","Image.react","React","XUIButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=c("React").createElement(c("Image.react"),{className:"_2vzy",src:h("139437")});return c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")("_2vzz _53q9",this.props.className),"data-testid":this.props["data-testid"],imageRight:n,label:this.props.label,onClick:this.props.onClick})};function m(){j.apply(this,arguments)}m.propTypes={label:l.node.isRequired,onClick:l.func};f.exports=m}),null);
__d("FBPaymentsFormBase.react",["React","abstractMethod","emptyFunction","getOwnObjectValues","joinClasses"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this,l);this.handleFormFieldMount=function(m,n){if(!this.state[m]){var o,p=this.getInitialFieldStateForChildProps(n);this.setState((o={},o[m]=p,o),function(){this.validateAndUpdate(this.state)}.bind(this))}}.bind(this);this.handleFormFieldUnmount=function(m){var n;this.setState((n={},n[m]=undefined,n),function(){this.validateAndUpdate(this.state)}.bind(this))}.bind(this);this.handleFormFieldChange=function(m,n,o){var p,q=(p={},p[m]={errorMessage:o.errorMessage,valid:o.isValid,value:n},p);this.setState(babelHelpers["extends"]({},q),function(){this.validateAndUpdate(this.state)}.bind(this))}.bind(this);this.state={}}k.prototype.componentWillMount=function(){this.validateAndUpdate(this.state)};k.prototype.validateAndUpdate=function(l){var m=this.validateForm(l),n=this.getFormData(l);this.props.onChange(n,m)};k.prototype.getInitialFieldStateForChildProps=function(l){var m=this.props.prefilledFormData[l.name]||l.value,n=!l.required||!!m;return{valid:n,value:m}};k.prototype.getChildren=function(l){return c("React").Children.toArray(l.children)};k.prototype.getFormData=function(l){var m={};Object.keys(l).forEach(function(n){var o=l[n],p=this.isFieldDeleted(o);if(!p)m[n]=o.value}.bind(this));return m};k.prototype.validateForm=function(l){return c("getOwnObjectValues")(l).every(function(m){return this.isFieldDeleted(m)||m.valid}.bind(this))};k.prototype.isFieldDeleted=function(l){return l===undefined};k.prototype.renderFormFields=function(){var l=this.getChildren(this.props),m=this.props.enableFloatingLabels,n=c("React").Children.map(l,function(o){var p=o.props.name,q=this.state[p],r={key:p,enableFloatingLabel:m,onChange:this.handleFormFieldChange,onWillMount:this.handleFormFieldMount,onWillUnmount:this.handleFormFieldUnmount,ref:p};if(q)o=c("React").cloneElement(o,babelHelpers["extends"]({},r,{errorMessage:q.errorMessage,value:q.value}));else{var s=this.getInitialFieldStateForChildProps(o.props);o=c("React").cloneElement(o,babelHelpers["extends"]({},r,s))}return o}.bind(this),this);return n};k.prototype.__getRootClassName=function(){return c("abstractMethod")("FBPaymentsFormBase","__getRootClassName")};k.prototype.render=function(){var l=this.props.className;return c("React").createElement("form",{className:c("joinClasses")(this.__getRootClassName(),l)},this.renderFormFields())};k.propTypes={onChange:j.func.isRequired,prefilledFormData:j.object.isRequired};k.defaultProps={onChange:c("emptyFunction"),prefilledFormData:{}};f.exports=k}),null);
__d("FBPaymentsForm.react",["cx","FBPaymentsFormBase.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsFormBase.react"));j=i&&i.prototype;k.prototype.__getRootClassName=function(){return"_53r8"};k.prototype.render=function(){return j.render.call(this)};function k(){i.apply(this,arguments)}k.propTypes=c("FBPaymentsFormBase.react").propTypes;f.exports=k}),null);
__d("FBPaymentsCustomForm.react",["fbt","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNormalizers","FBPaymentsPriceFormField.react","FBPaymentsValidators","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l="currency";i=babelHelpers.inherits(m,c("React").PureComponent);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.renderCustomItemInfoField=function(s){__p&&__p();var t={key:s.identifier,name:s.identifier,placeholder:s.placeholderText,required:!s.optional};if(s.type===l)return c("React").createElement(c("FBPaymentsPriceFormField.react"),babelHelpers["extends"]({},t,{currency:s.currency}));var u=[],v=[];if(s.length)u.push(c("FBPaymentsNormalizers").truncate(s.length));if(!s.optional){var w=h._("Obligatoire"),x=this.props.customNonEmptyErrorMessage||w;v.push({validator:c("FBPaymentsValidators").nonEmpty,errorMessage:x})}return c("React").createElement(c("FBPaymentsFormField.react"),babelHelpers["extends"]({},t,{config:{normalizeOnChange:true,normalizers:u,validations:v}}))}.bind(this),o}m.prototype.render=function(){return c("React").createElement(c("FBPaymentsForm.react"),{onChange:this.props.onChange},this.props.fields.map(this.renderCustomItemInfoField))};m.propTypes={fields:k.array.isRequired,onChange:k.func.isRequired,customNonEmptyErrorMessage:k.node};f.exports=m}),null);
__d("FBPaymentsCustomOptionsViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.ADD_CUSTOM_OPTION_KEY="add_custom_option",n}l.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};l.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};l.prototype.getAddButtonLabel=function(){return h._("Ajouter")};l.prototype.getHardErrorMessage=function(){return h._("Veuillez saisir une option valide.")};l.propTypes={configuration:k.object.isRequired,isActive:k.bool.isRequired,isCustomOptionFormSaveEnabled:k.bool,onAddCustomOptionClick:k.func.isRequired,onCancelActiveStateClick:k.func.isRequired,onCustomOptionClick:k.func.isRequired,onCustomOptionFormDataChange:k.func.isRequired,onRemoveCustomOptionClick:k.func.isRequired,onRowClicked:k.func.isRequired,onSaveNewCustomOption:k.func.isRequired,selectedOptionID:k.string,showForm:k.bool,showHardError:k.bool};f.exports=l}),null);
__d("FBPaymentsCustomOptionsView.react",["cx","fbt","invariant","FBPaymentsAddButton.react","FBPaymentsCustomForm.react","FBPaymentsCustomOptionsViewBase.react","FBPaymentsRichSelector.react","LeftRight.react","Link.react","React","XUIButton.react","XUIGrayText.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("FBPaymentsRichSelector.react").Option,n="custom_";k=babelHelpers.inherits(o,c("FBPaymentsCustomOptionsViewBase.react"));l=k&&k.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.handleSelectorChange=function(u){if(u.value===this.ADD_CUSTOM_OPTION_KEY){this.props.onAddCustomOptionClick();return}var v=u.value;this.props.onCustomOptionClick(v)}.bind(this),q}o.prototype.isCustomOption=function(p){return p.optionId.startsWith(n)};o.prototype.renderOptionItem=function(p){return c("React").createElement(m,{key:p.optionId,label:p.optionTitle,value:p.optionId},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},p.optionTitle))};o.prototype.renderAddCustomOptionButton=function(){var p=this.props.configuration.customOption;if(!p)return null;return c("React").createElement(c("FBPaymentsAddButton.react"),{label:p.actionableTitle,onClick:this.props.onAddCustomOptionClick})};o.prototype.renderAddCustomOptionListItem=function(){var p=this.props.configuration.customOption;if(!p)return null;return c("React").createElement(m,{className:"_5kyc _52jv",key:this.ADD_CUSTOM_OPTION_KEY,label:p.actionableTitle,value:this.ADD_CUSTOM_OPTION_KEY},c("React").createElement(c("XUIGrayText.react"),{className:"_1297"},p.actionableTitle))};o.prototype.renderCustomOptionForm=function(){var p=this.props.configuration.customOption;p||j(0);var q=i._("Veuillez entrer un mode d\u2019exp\u00e9dition.");return c("React").createElement("div",null,c("React").createElement("div",{className:"_1j8c _2pie"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq _1ghk _3-96",display:"block",shade:"medium",size:"small"},p.title),c("React").createElement(c("FBPaymentsCustomForm.react"),{fields:Array.from(p.formFields.values()),onChange:this.props.onCustomOptionFormDataChange,customNonEmptyErrorMessage:q}),c("React").createElement(c("XUIGrayText.react"),{className:"_3yor",display:"block",shade:"light",size:"small"},p.disclaimer)),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveStateClick}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isCustomOptionFormSaveEnabled,label:this.getAddButtonLabel(),onClick:this.props.onSaveNewCustomOption,use:"confirm"})))};o.prototype.renderCustomOptionList=function(){var p=!!this.props.configuration.customOption,q=this.props.configuration.options;if(p)if(q.length===0)return this.renderAddCustomOptionButton();else if(q.length===1&&this.isCustomOption(q[0]))return this.renderCustomOptionText(q[0]);return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultLabel:this.props.configuration.actionableTitle,defaultValue:this.props.selectedOptionID,onChange:this.handleSelectorChange},q.map(this.renderOptionItem),this.renderAddCustomOptionListItem())};o.prototype.renderCustomOptionText=function(p){return c("React").createElement(c("LeftRight.react"),null,c("React").createElement(c("XUIText.react"),{className:"_52ju",display:"block",size:"small"},p.optionTitle),c("React").createElement(c("Link.react"),{onClick:this.props.onRemoveCustomOptionClick},c("React").createElement(c("XUIText.react"),{size:"small"},i._("Supprimer"))))};o.prototype.render=function(){if(this.props.isActive&&this.props.showForm)return this.renderCustomOptionForm();return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.props.configuration.title),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderCustomOptionList()))};f.exports=o}),null);
__d("FBPaymentsCustomOptionsContainer.react",["FBPaymentsCustomOptionsContainerBase.react","FBPaymentsCustomOptionsView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomOptionsContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsCustomOptionsView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsExtensionManagerBase",["FBPaymentsCheckoutConstants","FBPaymentsExtensionInterface.react","Map","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBPaymentsCheckoutConstants").Extensions;i.prototype.getExtensionContainer=function(j){if(!h[j])throw Error("Non-existent payments extension "+j);var k=this.__getExtensionMap().get(j);if(!k)throw Error("Unimplemented payments extension "+j);return k};i.prototype.__getExtensionMap=function(){return c("abstractMethod")("FBPaymentsExtensionManagerBase","__getExtensionMap")};function i(){}f.exports=i}),null);
__d("FBPaymentsFrequencySelectorContainerBase.react",["fbt","BillingAgreementType","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.DEFAULT_SUBSCRIPTION_PERIOD=1;this.DEFAULT_FREQUENCIES=[{label:h._("Une fois"),period:0,type:null},{label:h._("Mensuel"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:c("BillingAgreementType").MONTHLY},{label:h._("Annuel"),period:this.DEFAULT_SUBSCRIPTION_PERIOD,type:c("BillingAgreementType").YEARLY}];this.handleFrequencyButtonClick=function(o){this.setState({selectedIndex:o,selectedOption:this.frequencyOptions[o]})}.bind(this);var m=0;if(l.extensionConfiguration.identifier==="FREQUENCY_SELECTOR"){var n=l.extensionConfiguration;this.frequencyOptions=n.frequencyOptions||this.DEFAULT_FREQUENCIES}else this.frequencyOptions=this.DEFAULT_FREQUENCIES;this.state={selectedIndex:m,selectedOption:this.frequencyOptions[m]}}k.__calculateExtensionState=function(l){var m=true,n={},o=l.selectedOption;if(o.type)n={subscriptionPeriod:o.period,subscriptionType:o.type};return{extraData:n,ready:m}};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsFrequencySelectorContainerBase","__getView")};k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,babelHelpers["extends"]({},this.state,{frequencyOptions:this.frequencyOptions,isActive:this.props.isActive,onFrequencyButtonClick:this.handleFrequencyButtonClick}))};f.exports=k}),null);
__d("FBPaymentsFrequencySelectorViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.getFrequencySelectorTitle=function(){var l=this.props.frequencySelectorConfiguration;return l&&l.title||h._("Fr\u00e9quence")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsFrequencySelectorView.react",["cx","FBPaymentsFrequencySelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUIRadioButtonGroup.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsFrequencySelectorViewBase.react"));j=i&&i.prototype;k.prototype.__renderFrequencyButtonGroup=function(){var l=this.props.frequencyOptions,m=this.props.selectedIndex,n=l.map(function(o,p){return c("React").createElement(c("XUIButton.react"),{className:"_4yu2",key:p,label:o.label,size:"xlarge",type:"button",value:p})});return c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_4yu1",onValueChange:this.props.onFrequencyButtonClick,selectedDepressed:true,selectedValue:m},n)};k.prototype.render=function(){var l=c("React").createElement("div",{className:"_4yt_"},c("React").createElement("div",{className:"_4yu0"},this.__renderFrequencyButtonGroup()));return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getFrequencySelectorTitle()),l)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsFrequencySelectorContainer.react",["FBPaymentsFrequencySelectorContainerBase.react","FBPaymentsFrequencySelectorView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsFrequencySelectorContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsFrequencySelectorView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsMailingAddressSelectorContainerBase.react",["invariant","FBPaymentsContactInfoTypes","FBPaymentsExtensionInterface.react","FBPaymentsLoggerConstants","immutable","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m=c("FBPaymentsContactInfoTypes").CURRENT_COUNTRY,n=c("FBPaymentsContactInfoTypes").MAILING_ADDRESS;i=babelHelpers.inherits(o,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.handleAddMailingAddressClick=function(){this.props.onRequestActive(true);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.INIT).log()}.bind(this);this.handleMailingAddressClick=function(q){var r=this.state.mailingAddresses&&this.state.mailingAddresses.find(function(s){return s.id===q});this.setState({selectedAddress:r});this.props.logger.setFlowStep(l.SELECT_SHIPPING_ADDRESS).setEventName(k.INIT).log()}.bind(this);this.handleCancelActiveStateClick=function(){this.setState({saveErrors:null});this.props.onRequestActive(false);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.CANCEL).log()}.bind(this);this.handleMailingAddressRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handleShowForm=function(){this.handleToggleShowForm(true)}.bind(this);this.handleHideForm=function(){this.handleToggleShowForm(false)}.bind(this);this.handleAddressFormChanged=function(q,r){this.setState({isNewAddressValid:q,newAddress:r})}.bind(this);this.handleNewAddressFormChanged=function(q,r){this.setState({newAddress:q,isNewAddressValid:r})}.bind(this);this.handleSaveNewAddress=function(){var q=this.state.newAddress;q||h(0);this.setState({isSaving:true,saveErrors:null});this.__getAPI().addMailingAddress(q,this.handleSaveNewAddressSuccess,this.handleSaveNewAddressError);this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.SAVE_CLICK).log()}.bind(this);this.handleSaveNewAddressSuccess=function(q){this.setState({isSaving:false,newAddressID:q});this.props.onRequestActive(false);this.$FBPaymentsMailingAddressSelectorContainerBase1();this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.SUCCESS).setMailingAddressID(JSON.stringify(q)).log()}.bind(this);this.handleSaveNewAddressError=function(q){this.setState({isSaving:false,saveErrors:q});this.props.logger.setFlowStep(l.ADD_SHIPPING_ADDRESS).setEventName(k.FAIL).setErrorMessage(JSON.stringify(q)).log()}.bind(this);this.state={currentCountry:null,isExtensionHidden:false,isLoading:false,isNewAddressValid:false,isSaving:false,mailingAddresses:null,newAddress:null,newAddressID:null,saveErrors:null,selectedAddress:null,showForm:false,showHardError:false}}o.getStores=function(){return[this.__getContactInfoStore()]};o.calculateState=function(p,q){__p&&__p();var r=babelHelpers["extends"]({},p),s=this.__getCustomContent(q);r.isExtensionHidden=!!s&&!!s.hideExtension;var t=this.__getContactInfoStore().get(n);r.isLoading=t.isLoading();if(t.hasValue()){var u=t.getValueEnforcing();r.mailingAddresses=u;if(r.newAddressID){var v=u.find(function(z){return z.id===r.newAddressID});if(v){r.selectedAddress=v;r.newAddress=null;r.newAddressID=null}}else if(!r.selectedAddress){var w=u.filter(function(z){return z.isDefault}).first();if(!w)w=u.first();if(w)r.selectedAddress=w}}var x=this.__getContactInfoStore().get(m);if(x.hasValue()){var y=x.getValueEnforcing().first();r.currentCountry=y}return r};o.__calculateExtensionState=function(p){var q=false,r={},s=p.selectedAddress;if(p.isExtensionHidden)q=true;else if(s){q=true;r={mailingAddressID:s.id}}return{extraData:r,ready:q}};o.__getContactInfoStore=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getContactInfoStore")};o.__getCustomContent=function(p){var q=p.extensionConfiguration;if(q.identifier!=="SHIPPING_ADDRESS")return null;return q.customContent};o.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};o.prototype.$FBPaymentsMailingAddressSelectorContainerBase1=function(){this.constructor.__getContactInfoStore().fetch(n);this.setState({isLoading:true})};o.prototype.handleToggleShowForm=function(p){this.setState({showForm:p});this.handleClearInput()};o.prototype.handleClearInput=function(){this.setState({currentCountry:null,isNewAddressValid:false,newAddress:null,newAddressID:null,saveErrors:null})};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getAPI")};o.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsMailingAddressSelectorContainerBase","__getView")};o.prototype.render=function(){var p=this.__getView(),q=this.constructor.__getCustomContent(this.props);return c("React").createElement(p,babelHelpers["extends"]({},this.state,{customContent:q,isActive:this.props.isActive,onAddMailingAddressClick:this.handleAddMailingAddressClick,onAddressFormChanged:this.handleAddressFormChanged,onNewAddressFormChanged:this.handleNewAddressFormChanged,onCancelActiveStateClick:this.handleCancelActiveStateClick,onHideForm:this.handleHideForm,onMailingAddressClick:this.handleMailingAddressClick,onRowClicked:this.handleMailingAddressRowClicked,onSaveNewAddress:this.handleSaveNewAddress,onShowForm:this.handleShowForm,paymentType:this.getPaymentType()}))};f.exports=o}),null);
__d("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react",["cx","fbt","ix","CreditCardCountries","FBPaymentsWebdriverTestIDs","Image.react","React","XUIError.react","XUISingleSelector.react","XUISingleSelectorButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("XUISingleSelector.react").Option,n=c("React").PropTypes,o="country_selector_label";k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={errorMessage:null,focused:false,value:this.props.value||this.props.defaultCountry||o},this.$FBPaymentsAddressCountrySelectorFormField_DEPRECATED1=false,this.handleChange=function(v){var w=v.value;this.setState({value:w});this.triggerChange(w)}.bind(this),this.handleFocus=function(){this.setState({focused:true});this.$FBPaymentsAddressCountrySelectorFormField_DEPRECATED1=true}.bind(this),this.handleBlur=function(){this.setState({focused:false})}.bind(this),r}p.prototype.componentDidMount=function(){this.triggerChange(this.state.value)};p.prototype.triggerChange=function(q){var r=q!==o;if(!r&&this.props.required)this.setState({errorMessage:i._("Veuillez s\u00e9lectionner un pays")});else this.setState({errorMessage:null});this.props.onChange&&this.props.onChange(this.props.name,q,r,false)};p.prototype.shouldShowError=function(){return!!this.state.errorMessage&&this.$FBPaymentsAddressCountrySelectorFormField_DEPRECATED1&&!this.state.focused};p.prototype.getSelectorTestId=function(q){return c("FBPaymentsWebdriverTestIDs").SELECTOR_OPTION_PREFIX+q};p.prototype.renderSelectorLabel=function(){return c("React").createElement(m,{"data-testid":this.getSelectorTestId(o),disabled:"true",value:o},i._("S\u00e9lectionnez un pays"))};p.prototype.renderSelectorOptions=function(){return Object.keys(c("CreditCardCountries")).map(function(q){var r=c("CreditCardCountries")[q];return c("React").createElement(m,{"data-testid":this.getSelectorTestId(q),key:q,value:q},r)}.bind(this))};p.prototype.renderCustomButton=function(){var q=this.props.width?{maxwidth:0}:{},r=this.shouldShowError()?c("React").createElement(c("Image.react"),{className:"_3-8s",src:j("94368")}):null,s=c("React").createElement("span",null,r,c("React").createElement(c("Image.react"),{src:j("101343")}));return c("React").createElement(c("XUISingleSelectorButton.react"),babelHelpers["extends"]({className:"_11qt _11qu",haschevron:false,imageRight:s,onBlur:this.handleBlur,onFocus:this.handleFocus,size:this.props.size},q))};p.prototype.render=function(){var q=void 0;if(this.props.width)q={width:this.props.width+"%"};var r=this.shouldShowError()?this.state.errorMessage:null,s=this.props.showLabel?c("React").createElement("label",{className:"_1js3"},i._("Pays")):null,t=this.props.defaultCountry?this.props.defaultCountry:o;return c("React").createElement("div",{className:"_11qv",style:q},c("React").createElement("div",{className:this.props.useGutter?"_11qw":""},s,c("React").createElement(c("XUIError.react"),{xuiError:r},c("React").createElement(c("XUISingleSelector.react"),{className:c("joinClasses")(this.props.className,!!this.props.width?"_11qx":""),customButton:this.renderCustomButton(),"data-testid":c("FBPaymentsWebdriverTestIDs").FORM_FIELD_PREFIX+this.props.name,defaultValue:t,disabled:this.props.isDisabled,maxheight:240,name:this.props.name,onChange:this.handleChange,value:this.state.value},this.renderSelectorLabel(),this.renderSelectorOptions()))))};p.propTypes={className:n.string,defaultCountry:n.string,isDisabled:n.bool,name:n.string.isRequired,onChange:n.func,required:n.bool,showLabel:n.bool,size:n.oneOf(["large","xlarge"]),useGutter:n.bool,value:n.string,width:n.number};p.defaultProps={required:false,showLabel:false,size:"large"};f.exports=p}),null);
__d("FBPaymentsAddressLabelFormField_DEPRECATED.react",["cx","fbt","React","XUISelector.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("XUISelector.react").Option,m=c("React").PropTypes,n=[i._("Accueil"),i._("Emploi"),i._("Autre")];j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={value:n[0].toString()},this.handleChange=function(u){var v=u.value;this.setState({value:v});this.triggerChange(v)}.bind(this),this.triggerChange=function(u){var v=this.props.onChange;if(typeof v==="function")v(this.props.name,u,true,false)}.bind(this),this.renderSelectorOptions=function(){return n.map(function(u,v){return c("React").createElement(l,{key:v,value:u.toString()},u)})},q}o.prototype.componentDidMount=function(){this.triggerChange(this.state.value)};o.prototype.render=function(){return c("React").createElement(c("XUISelector.react"),{className:c("joinClasses")(this.props.className,"_e-n"),onChange:this.handleChange,name:this.props.name,value:this.state.value},this.renderSelectorOptions())};o.propTypes={onChange:m.func,name:m.string.isRequired};f.exports=o}),null);
__d("FBPaymentsFormField_DEPRECATED.react",["cx","FBPaymentsWebdriverTestIDs","React","ReactDOM","ReactInputSelection","XUITextInput.react","cloneWithProps_DEPRECATED","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=49,k=c("React").createClass({displayName:"FBPaymentsFormField_DEPRECATED",propTypes:{autoCompleteName:i.string,cursorPositionUpdater:i.func,disabled:i.bool,errorMessage:i.string,formatValue:i.func,icon:i.shape({normal:i.object,focused:i.object}),initiallyFocused:i.bool,getSecondaryIcon:i.func,hideSecondaryIconOnBlur:i.bool,label:i.string,name:i.string.isRequired,placeholder:i.string,onChange:i.func.isRequired,required:i.bool,saveError:i.oneOfType([i.string,i.object]),showFocusOutline:i.bool,showPlaceholderOnFocus:i.bool,showSecondaryIconAlways:i.bool,useGutter:i.bool,validate:i.func,value:i.string,width:i.number,showErrorOnStatusChange:i.bool},getDefaultProps:function l(){return{hideSecondaryIconOnBlur:false,required:false,showFocusOutline:true,showPlaceholderOnFocus:false,showSecondaryIconAlways:false,useGutter:false,width:100}},getInitialState:function l(){return{cursorPosition:0,isValid:false,focused:false,value:this.props.value||""}},_isModified:false,_lastKeyCode:j,componentDidUpdate:function l(m,n){if(n.cursorPosition!==this.state.cursorPosition)c("ReactInputSelection").setSelection(this.getInputElement(),{start:this.state.cursorPosition})},componentDidMount:function l(){var m=this.state.value;if(m)this.triggerChange(m);if(this.props.initiallyFocused)setTimeout(function(){if(this.isMounted())this.focusInput()}.bind(this),100)},getInputElement:function l(){return this.refs.input.refs.textInput.getTextFieldDOM()},getCursorPosition:function l(){return c("ReactInputSelection").getSelection(this.getInputElement()).start},handleBlur:function l(m){var n=this.getInputElement().value;if(n&&n!==this.state.value)this.triggerChange(n);this.setState({focused:false})},handlePaste:function l(m){this._lastKeyCode=j},handleChange:function l(m){this.triggerChange(m.target.value)},handleOnKeyDown:function l(m){var n=m.keyCode;if(n>=96&&n<=105)n-=48;this._lastKeyCode=n},handleFocus:function l(m){this.setState({focused:true})},focusInput:function l(){c("ReactDOM").findDOMNode(this.refs.input).focus()},renderIcon:function l(){var m=void 0,n=this.props.icon;if(!n)return null;m=this.state.focused?n.focused:n.normal;return c("React").createElement("div",{className:"_1js0"},m)},renderSecondaryIcon:function l(){var m=void 0;if(!this.state.focused&&!this.props.showSecondaryIconAlways&&(this.props.hideSecondaryIconOnBlur||!this._isModified))return null;if(this.props.getSecondaryIcon)m=this.props.getSecondaryIcon(this.state.value);if(!m)return null;return c("cloneWithProps_DEPRECATED")(m,{className:c("joinClasses")(m,"_1js1")})},shouldShowIsValidError:function l(){if(!this.state.isValid&&this._isModified)return!this.state.focused||!!this.state.isValAtLimit;return false},triggerChange:function l(m){__p&&__p();this._isModified=true;var n=this.props.cursorPositionUpdater,o=this.state.cursorPosition,p=m,q=true,r=false;if(!this.props.disabled){var s=this.props.limit;if(this.props.formatValue)p=this.props.formatValue(m,this.state.value,this._lastKeyCode);if(s){if(typeof s==="function")s=s(p);p=p.slice(0,s);r=s===p.length}if(this.props.validate)q=this.props.validate(p);else if(s)q=r;else if(this.props.required)q=!!p}if(n&&m!==p)o=n(p,m,this.getCursorPosition()," ");this.setState({cursorPosition:o,isValAtLimit:r,isValid:q,value:p});this.props.onChange(this.props.name,p,q,r)},getDisplayErrorIfBlurred:function l(){return this.state.focused||this.props.showErrorOnStatusChange?null:this.props.saveError||this.props.errorMessage},renderLabel:function l(){if(!this.props.label)return null;return c("React").createElement("label",{className:"_1js3"},this.props.label)},render:function l(){var m=this.shouldShowIsValidError()||this.props.saveError||this.props.errorMessage,n=void 0,o=this.props.placeholder,p=this.renderSecondaryIcon();if(this.props.width)n={width:this.props.width+"%"};if(this.props.showPlaceholderOnFocus&&!this.state.focused)o=null;return c("React").createElement("div",{style:n,className:"_11qv"+(m&&!this.state.focused||this.props.showErrorOnStatusChange?" _1js5":"")+(this.props.showFocusOutline&&this.state.focused?" _1js6":"")+(!!p?" _1js7":"")},c("React").createElement("div",{className:this.props.useGutter?"_11qw":""},this.renderLabel(),c("React").createElement("div",{className:"_1js9"},this.renderIcon(),c("React").createElement(c("XUITextInput.react"),{autoComplete:this.props.autoCompleteName,"data-testid":c("FBPaymentsWebdriverTestIDs").FORM_FIELD_PREFIX+this.props.name,ref:"input",value:this.state.value,onChange:this.handleChange,onPaste:this.handlePaste,onKeyDown:this.handleOnKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:o,disabled:this.props.disabled,className:(this.props.disabled?"_pes":"")+(!this.props.disabled?" _pet":"")+" _1jsa"+(!this.props.icon?" _1jsb":""),xuiError:this.getDisplayErrorIfBlurred()}),p,c("React").createElement("div",{className:"_1jsc"}))))}});f.exports=k}),null);
__d("FBPaymentsForm_DEPRECATED.react",["cx","CreditCardFormParam","FBPaymentsErrorNotice_DEPRECATED.react","PaymentModulesGating","React","getObjectValues","idx","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"FBPaymentsForm_DEPRECATED",propTypes:{className:i.string,"data-testid":i.string,errorTitle:i.string,onFormFieldsChange:i.func,onValidation:i.func.isRequired,prefilledFormData:i.object,saveErrors:i.object,showIcons:i.bool,showLabels:i.bool,showPlaceholderOnFocus:i.bool,showSecondaryIcons:i.bool,useGutters:i.bool},getDefaultProps:function k(){return{prefilledFormData:{},saveErrors:null,showIcons:true,showLabels:false,showPlaceholderOnFocus:false,showSecondaryIcons:false,useGutters:false}},getInitialState:function k(){var l=this.props.prefilledFormData,m=c("React").Children.toArray(this.props.children),n={};c("React").Children.forEach(m,function(o,p){n[o.props.name]={valid:!o.props.required,value:l?l[o.props.name]:""}});return{fields:n,isValid:false}},componentWillReceiveProps:function k(l){__p&&__p();var m=l.prefilledFormData,n=c("React").Children.toArray(l.children),o=this.state.fields,p={};c("React").Children.forEach(n,function(t,u){if(o[t.props.name])p[t.props.name]=o[t.props.name];else p[t.props.name]={valid:!t.props.required,value:m?m[t.props.name]:""}});this.setState({fields:p});var q=Object.keys(p),r=Object.keys(o),s=q.length===r.length&&q.every(function(t){return r.includes(t)});if(!s)this.validateForm(p)},_fieldKeyOrder:[],handleFormValueChange:function k(l,m,n,o){__p&&__p();var p=this.state.fields;p[l]={valid:n,value:m};this.validateForm();var q=this.props.onFormFieldsChange;q&&q(p);if(this.props.autoTab===true&&o&&n){var r=this._fieldKeyOrder.indexOf(l);if(r!==-1){var s=this._fieldKeyOrder[r+1];if(s){var t,u=(t=this.refs)!=null?(t=t[s])!=null?(t=t.refs)!=null?t.input:t:t:t;u&&u.focusInput()}}}},validateForm:function k(l){var m=true;l=l||this.state.fields;m=!c("getObjectValues")(l).some(function(n){return!n.valid});this.props.onValidation(m,this.serializeFormFields());this.setState({isValid:m})},serializeFormFields:function k(){var l=this.state.fields,m={};for(var n in l)if(Object.prototype.hasOwnProperty.call(l,n))m[n]=l[n].value;return m},getSaveError:function k(l){__p&&__p();var m=void 0,n=this.props.saveErrors;if(n&&n.fields){if(n.fields[l]){m=n.fields[l].message;if(m.__html)m=m.__html}if(c("PaymentModulesGating").shouldShowExpErrWhenCvvHasErr)if(l===c("CreditCardFormParam").CARD_EXPIRATION&&n.fields[c("CreditCardFormParam").CSC]&&n.fields[c("CreditCardFormParam").CSC].code==="1463037"){m=n.fields[c("CreditCardFormParam").CSC].message;if(m.__html)m=m.__html}}return m},renderGeneralError:function k(){var l=this.getGeneralError();if(!l)return null;return c("React").createElement(c("FBPaymentsErrorNotice_DEPRECATED.react"),{error:l})},getGeneralError:function k(){if(this.props.saveErrors&&this.props.saveErrors.general)return this.props.saveErrors.general;return null},renderFormFields:function k(){__p&&__p();var l=[],m=[],n=[],o=0,p=c("React").Children.toArray(this.props.children),q=c("React").Children.count(p),r=[];c("React").Children.forEach(p,function(s,t){__p&&__p();var u=t===q-1;if(!s)return null;var v=parseInt(s.props.width||"100",10),w=s.props.name;s=c("React").cloneElement(s,{key:w,onChange:this.handleFormValueChange,saveError:this.getSaveError(w),showIcon:this.props.showIcons,showLabel:this.props.showLabels,showPlaceholderOnFocus:this.props.showPlaceholderOnFocus,showSecondaryIcon:this.props.showSecondaryIcons,useGutter:this.props.useGutters,value:this.state.fields[w]&&this.state.fields[w].value,ref:w});r.push(w);if(!s.props.ignoreStyling){if(Math.round(o)<100)l.push(s);o+=v;if(Math.round(o)===100||u){m.push(c("React").createElement("div",{className:(this.props.useGutters?"_1pp":"")+" _1pq"+(l.length>1?" _1pr":"")+(m.length===0?" _1pv":"")+(u?" _1pw":""),key:m.length},l));l=[];o=0}}else n.push(s)}.bind(this));this._fieldKeyOrder=r;return n.concat(m)},render:function k(){return c("React").createElement("form",{className:c("joinClasses")(this.props.className,"_1px"),"data-testid":this.props["data-testid"]},this.renderGeneralError(),this.renderFormFields())}});f.exports=j}),null);
__d("FBPaymentsAddressForm_DEPRECATED.react",["cx","fbt","FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsAddressLabelFormField_DEPRECATED.react","FBPaymentsForm_DEPRECATED.react","FBPaymentsFormField_DEPRECATED.react","React","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={formData:{},isValid:false},this.handleValidation=function(s,t){this.setState({formData:t,isValid:s});this.props.onValidation(s,t)}.bind(this),o}m.prototype.render=function(){var n=!!(this.props.prefilledFormData&&this.props.prefilledFormData.care_of),o=this.props.showAddressLabelSelector?c("React").createElement(c("FBPaymentsAddressLabelFormField_DEPRECATED.react"),{className:"_3-96",name:"label",ignoreStyling:true,required:true}):null;return c("React").createElement(c("FBPaymentsForm_DEPRECATED.react"),{errorTitle:i._("Probl\u00e8me lors de l\u2019enregistrement de l\u2019adresse"),prefilledFormData:this.props.prefilledFormData,onValidation:this.handleValidation,saveErrors:this.props.saveErrors,useGutters:true},o,c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:!n,name:"care_of",onChange:c("emptyFunction"),placeholder:i._("Votre nom"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{initiallyFocused:n,name:"street1",onChange:c("emptyFunction"),placeholder:i._("Adresse"),required:true,width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"street2",onChange:c("emptyFunction"),placeholder:i._("Compl\u00e9ment d\u2019adresse (facultatif)"),width:100}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"city",onChange:c("emptyFunction"),placeholder:i._("Ville\/quartier"),required:true,width:50}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"state",onChange:c("emptyFunction"),placeholder:i._("\u00c9tat\/Province\/R\u00e9gion"),required:true,width:50}),c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),{name:"zip",onChange:c("emptyFunction"),placeholder:i._("Code postal"),width:50}),c("React").createElement(c("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),{name:"country",onChange:c("emptyFunction"),required:true,size:"xlarge",width:50}))};m.propTypes={onValidation:l.func.isRequired,prefilledFormData:l.object,saveErrors:l.object,showAddressLabelSelector:l.bool};m.defaultProps={onValidation:c("emptyFunction"),prefilledFormData:{},saveErrors:null,showAddressLabelSelector:true};f.exports=m}),null);
__d("PaymentsAddressFieldsType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CARE_OF:"care_of",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"state",COUNTRY:"country",ZIP:"zip"})}),null);
__d("FBPaymentsCustomAddressFormBase.react",["Map","PaymentsAddressFieldsType","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={config:null,isLoading:false,selectedCountry:null},this.handleConfigFetched=function(p,q){this.setState({config:q,selectedCountry:p,isLoading:false})}.bind(this),this.handleFormDataChanged=function(p,q){var r=p[c("PaymentsAddressFieldsType").COUNTRY];if(r)this.setState({selectedCountry:r});this.props.onChange(p,q)}.bind(this),l}j.prototype.componentWillMount=function(){this.setState({isLoading:true});this.__getAPI().fetchMailingAddressConfig(this.props.paymentType,this.handleConfigFetched)};j.prototype.getCountryConfig=function(k){var l=this.state.config;if(!l)return null;var m=k?l.get(k):null;if(!m)m=l.get("default");return m};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getAPI")};j.prototype.__getLoadingIndicator=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getLoadingIndicator")};j.prototype.__getForm=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getForm")};j.prototype.__getCustomFormField=function(){return c("abstractMethod")("FBPaymentsCustomAddressFormBase","__getFormField")};j.prototype.render=function(){__p&&__p();var k;if(this.state.isLoading)return this.__getLoadingIndicator();var l=this.getCountryConfig(this.state.selectedCountry);if(!l)return c("React").createElement("div",null,"Cannot find country config for ",this.state.selectedCountry);var m=this.__getForm(),n=this.__getCustomFormField(),o=l.map(function(p){if(p.fieldID===c("PaymentsAddressFieldsType").CARE_OF&&this.props.hideCareOf)return null;var q=p.fieldID===c("PaymentsAddressFieldsType").COUNTRY&&this.props.disableCountrySelector;return c("React").createElement(n,{fieldConfig:p,isDisabled:q,key:p.fieldID,name:p.fieldID,required:!p.isOptional})}.bind(this));return c("React").createElement(m,{className:this.props.className,enableFloatingLabels:this.props.enableFloatingLabels,onChange:this.handleFormDataChanged,prefilledFormData:(k={},k[c("PaymentsAddressFieldsType").COUNTRY]=this.state.selectedCountry,k)},o)};f.exports=j}),null);
__d("FBPaymentsCountrySelectorFormField.react",["FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsFormFieldBase.react","FBPaymentsWebdriverTestIDs","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsFormFieldBase.react"));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.handleCountrySelectorChange=function(p,q,r){this.props.onChange(p,q,{isValid:r})}.bind(this),l}j.prototype.render=function(){var k=this.getOtherProps();return c("React").createElement("div",null,c("React").createElement(c("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),babelHelpers["extends"]({},k,{className:this.props.classNameOnInput,"data-testid":c("FBPaymentsWebdriverTestIDs").FORM_FIELD_PREFIX+this.props.name,defaultCountry:this.props.value,isDisabled:this.props.isDisabled,name:this.props.name,onChange:this.handleCountrySelectorChange,showLabel:false})))};f.exports=j}),null);
__d("FBPaymentsCustomFormFieldBase.react",["FBPaymentsCustomFormHelper","FBPaymentsFormFieldBase.react","PaymentsAddressFieldsType","PaymentsFormFieldType","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.fieldRef=null,l}j.prototype.componentDidUpdate=function(k){var l=this.getRelevantPropsForRevalidation(k),m=this.getRelevantPropsForRevalidation(this.props),n=JSON.stringify(m),o=JSON.stringify(l);if(n!==o)this.triggerValidation()};j.prototype.getRelevantPropsForRevalidation=function(k){var l=k.fieldConfig,m=k.required;return{fieldConfig:l,required:m}};j.prototype.triggerValidation=function(){if(this.fieldRef)this.fieldRef.triggerValidation()};j.prototype.__getFormField=function(){return c("abstractMethod")("FBPaymentsCustomFormFieldBase","__getFormField")};j.prototype.__getCountrySelectorField=function(){return c("abstractMethod")("FBPaymentsCustomFormFieldBase","__getCountrySelectorField")};j.prototype.render=function(){__p&&__p();if(this.props.fieldConfig.fieldType!==c("PaymentsFormFieldType").TEXT_FIELD)return null;var k=c("FBPaymentsCustomFormHelper").getFormFieldPropsFromCustomFieldProps(this.props);if(this.props.fieldConfig.fieldID===c("PaymentsAddressFieldsType").COUNTRY){var l=this.__getCountrySelectorField();return c("React").createElement(l,k)}else{var m=this.__getFormField();return c("React").createElement(m,babelHelpers["extends"]({},k,{ref:function(n){this.fieldRef=n}.bind(this)}))}};f.exports=j}),null);
__d("FBPaymentsCustomFormField.react",["FBPaymentsCountrySelectorFormField.react","FBPaymentsCustomFormFieldBase.react","FBPaymentsFormField.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomFormFieldBase.react"));i=h&&h.prototype;j.prototype.__getFormField=function(){return c("FBPaymentsFormField.react")};j.prototype.__getCountrySelectorField=function(){return c("FBPaymentsCountrySelectorFormField.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCustomAddressForm.react",["FBPaymentsCustomAddressFormBase.react","FBPaymentsCustomFormField.react","FBPaymentsForm.react","FBPaymentsModulesAPI","React","XUISpinner.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCustomAddressFormBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getLoadingIndicator=function(){return c("React").createElement(c("XUISpinner.react"),{size:"large"})};j.prototype.__getForm=function(){return c("FBPaymentsForm.react")};j.prototype.__getCustomFormField=function(){return c("FBPaymentsCustomFormField.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsMailingAddressSelectorViewBase.react",["fbt","FBPaymentsCheckoutConfigurationTypes","React","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConfigurationTypes").CustomShippingAddressContentPropTypes,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.shouldHideExtension=function(){return this.props.isExtensionHidden};m.prototype.shouldShowErrorMessage=function(){return this.props.showHardError};m.prototype.shouldUseNewAddressForm=function(){var n;return!!((n=this.props)!=null?(n=n.customContent)!=null?n.useNewAddressForm:n:n)};m.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};m.prototype.getCancelButtonText=function(){return h._("Annuler")};m.prototype.getHardErrorMessage=function(){return h._("Veuillez s\u00e9lectionner une adresse valide.")};m.prototype.getSaveButtonText=function(){return h._("Enregistrer")};m.prototype.getMailingAddressLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addressLabel:n:n)||h._("Adresse de livraison")};m.prototype.getAddMailingAddressNUXLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addAddressNuxCta:n:n)||h._("Ajouter une adresse de livraison")};m.prototype.getAddMailingAddressLabel=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.addAddressPuxCta:n:n)||h._("Ajouter une nouvelle adresse de livraison")};m.prototype.getAddAddressTitle=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.formTitle:n:n)||h._("Nouvelle adresse de livraison")};m.prototype.getShippingAddressMessage=function(){var n;return((n=this.props)!=null?(n=n.customContent)!=null?n.formFooterMessage:n:n)||h._("Votre achat sera exp\u00e9di\u00e9 \u00e0 cette adresse.")};function m(){i.apply(this,arguments)}m.propTypes={currentCountry:l.string,customContent:k,isActive:l.bool.isRequired,isExtensionHidden:l.bool.isRequired,isLoading:l.bool.isRequired,isNewAddressValid:l.bool.isRequired,isSaving:l.bool.isRequired,mailingAddresses:l.object,onAddMailingAddressClick:l.func.isRequired,onAddressFormChanged:l.func.isRequired,onNewAddressFormChanged:l.func.isRequired,onCancelActiveStateClick:l.func.isRequired,onMailingAddressClick:l.func.isRequired,onSaveNewAddress:l.func.isRequired,saveErrors:l.object,selectedAddress:l.object,showForm:l.bool,showHardError:l.bool};f.exports=m}),null);
__d("FBPaymentsMailingAddressSelectorView.react",["cx","FBPaymentsAddButton.react","FBPaymentsAddressForm_DEPRECATED.react","FBPaymentsCustomAddressForm.react","FBPaymentsLoadingView.react","FBPaymentsMailingAddressSelectorViewBase.react","FBPaymentsRichSelector.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsRichSelector.react").Option,l="new_address";i=babelHelpers.inherits(m,c("FBPaymentsMailingAddressSelectorViewBase.react"));j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleSelectorChange=function(s){if(s.value===l){this.props.onAddMailingAddressClick();return}else{var t=s.value;this.props.onMailingAddressClick(t)}}.bind(this),o}m.prototype.renderAddMailingAddressButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{label:this.getAddMailingAddressNUXLabel(),onClick:this.props.onAddMailingAddressClick})};m.prototype.renderMailingAddressListItem=function(n){return c("React").createElement(k,{key:n.id,label:n.getDisplayLabel(),value:n.id},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark"},n.label),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light"},n.getSingleLineAddressWithCountry()))};m.prototype.renderAddMailingAddressListItem=function(){return c("React").createElement(k,{className:"_52jw _5kyc",clickable:false,key:l,label:this.getAddMailingAddressLabel(),value:l},c("React").createElement(c("XUIButton.react"),{label:this.getAddMailingAddressLabel(),onClick:this.props.onAddMailingAddressClick,size:"large",use:"confirm"}))};m.prototype.renderShippingAddressMessageListItem=function(){return c("React").createElement(k,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getShippingAddressMessage()))};m.prototype.renderMailingAddressesDropdown=function(){if(this.props.isLoading)return c("React").createElement(c("XUISpinner.react"),null);var n=this.props.mailingAddresses;if(!n||n.size===0)return this.renderAddMailingAddressButton();var o=this.props.selectedAddress?this.props.selectedAddress.id:l;return c("React").createElement(c("FBPaymentsRichSelector.react"),{defaultValue:o,multiple:false,name:"mailing_address_selector",onChange:this.handleSelectorChange},n.map(this.renderMailingAddressListItem),this.renderAddMailingAddressListItem(),this.renderShippingAddressMessageListItem())};m.prototype.renderAddMailingAddress=function(){var n,o=(n=this.props.saveErrors)!=null?(n=n.general)!=null?n.message:n:n,p=o?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},o):null,q=this.shouldUseNewAddressForm()?c("React").createElement("div",null,p,c("React").createElement(c("FBPaymentsCustomAddressForm.react"),{onChange:this.props.onNewAddressFormChanged,paymentType:this.props.paymentType})):c("React").createElement(c("FBPaymentsAddressForm_DEPRECATED.react"),{onValidation:this.props.onAddressFormChanged,saveErrors:this.props.saveErrors,prefilledFormData:{country:this.props.currentCountry}});return c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSaving}),c("React").createElement("div",{className:"_1j8c"},c("React").createElement("div",{className:"_2pi4"},c("React").createElement(c("XUIGrayText.react"),{className:"_3yoq",display:"block",shade:"dark",size:"small"},this.getAddAddressTitle()),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8w",display:"block",shade:"medium",size:"small"},this.getShippingAddressMessage())),c("React").createElement("div",{className:"_3yor"},q)),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isNewAddressValid||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewAddress,size:"large",use:"confirm"})))};m.prototype.render=function(){if(this.shouldHideExtension())return null;if(this.props.isActive)return this.renderAddMailingAddress();return c("React").createElement("div",{className:"__j9 _2ph_"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getMailingAddressLabel()),c("React").createElement("div",{className:"_3-8x _52jv"},this.renderMailingAddressesDropdown()))};f.exports=m}),null);
__d("FBPaymentsMailingAddressSelectorContainer.react",["FBPaymentsContactInfoStore","FBPaymentsMailingAddressSelectorContainerBase.react","FBPaymentsMailingAddressSelectorView.react","FBPaymentsModulesAPI","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsMailingAddressSelectorContainerBase.react"));i=h&&h.prototype;j.__getContactInfoStore=function(){return c("FBPaymentsContactInfoStore")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsMailingAddressSelectorView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsNoteExtensionBase.react",["fbt","FBPaymentsExtensionInterface.react","FBPaymentsNormalizers","FBPaymentsValidators","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function k(l){__p&&__p();var m;j.constructor.call(this,l);this.DEFAULT_NOTE_MAX_LENGTH=500;this.NOTE_FIELD_NAME="note";this.handleAddNoteClick=function(){this.setState({showNoteField:true})}.bind(this);this.handleFormChange=function(o,p){this.setState({note:o[this.NOTE_FIELD_NAME],isNoteValid:p})}.bind(this);var n=(m=this.getExtensionConfig())!=null?m.optional:m;this.state={isNoteValid:!!n,note:null,showNoteField:false,showHardError:false}}k.__calculateExtensionState=function(l){return{extraData:{note:l.note},ready:l.isNoteValid}};k.prototype.getExtensionConfig=function(){var l=this.props.extensionConfiguration;if(l.identifier==="NOTE")return l;else return null};k.prototype.getNoteMaxLength=function(){var l;return((l=this.getExtensionConfig())!=null?l.length:l)||this.DEFAULT_NOTE_MAX_LENGTH};k.prototype.isNoteOptional=function(){var l;return!!((l=this.getExtensionConfig())!=null?l.optional:l)};k.prototype.getNoteInputConfig=function(){var l=[];if(!this.isNoteOptional())l.push({validator:c("FBPaymentsValidators").nonEmpty,errorMessage:h._("Veuillez saisir une note.")});return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").truncate(this.getNoteMaxLength())],validations:l}};k.prototype.getNoteFieldPlaceholderText=function(){var l;return(l=this.getExtensionConfig())!=null?l.placeholderText:l};k.prototype.getNoteExtensionLabel=function(){return h._("Note")};k.prototype.getAddNoteButtonLabel=function(){if(this.isNoteOptional())return h._("Ajouter une note (facultatif)");return h._("Ajouter une note")};f.exports=k}),null);
__d("FBPaymentsNoteExtension.react",["cx","FBPaymentsAddButton.react","FBPaymentsForm.react","FBPaymentsFormField.react","FBPaymentsNoteExtensionBase.react","LeftRight.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsNoteExtensionBase.react"));j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.NOTE_FIELD_ROWS=4,m}k.prototype.renderNoteField=function(){var l=this.state.note||"";return c("React").createElement(c("FBPaymentsForm.react"),{onChange:this.handleFormChange},c("React").createElement(c("FBPaymentsFormField.react"),{config:this.getNoteInputConfig(),fieldType:"textArea",name:this.NOTE_FIELD_NAME,placeholder:this.getNoteFieldPlaceholderText(),required:!this.isNoteOptional(),rows:this.NOTE_FIELD_ROWS,value:l}))};k.prototype.renderNoteButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{label:this.getAddNoteButtonLabel(),onClick:this.handleAddNoteClick})};k.prototype.renderNoteLength=function(){var l=this.state.note?this.state.note.length:0;return c("React").createElement("span",null,l,"/",this.getNoteMaxLength())};k.prototype.render=function(){var l=this.state.showNoteField?this.renderNoteField():this.renderNoteButton(),m=this.state.showNoteField?this.renderNoteLength():null;return c("React").createElement("div",{className:"__j9 _2ph_"},c("React").createElement(c("XUIGrayText.react"),{size:"small"},c("React").createElement(c("LeftRight.react"),null,this.getNoteExtensionLabel(),m)),c("React").createElement("div",{className:"_3-8x _52jv"},l))};f.exports=k}),null);
__d("FBPaymentsPINStoreBase",["EventEmitter","FBPaymentsDispatcher","FBPaymentsPINActions","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=false,k=false,l=null,m=void 0;h=babelHelpers.inherits(n,c("EventEmitter"));i=h&&h.prototype;function n(){i.constructor.call(this);m=c("FBPaymentsDispatcher").register(this.onEventDispatched.bind(this))}n.prototype.getDispatchToken=function(){return m};n.prototype.onEventDispatched=function(o){var p=o.data,q=o.type;switch(q){case c("FBPaymentsPINActions").types.PIN_SETTINGS_UPDATED:this.handlePINSettingsUpdated(p);this.emit("change");break}};n.prototype.handlePINSettingsUpdated=function(o){j=false;k=true;l=o};n.prototype.$FBPaymentsPINStoreBase1=function(){if(j||k)return;j=true;this.__getAPI().fetchPINSettings()};n.prototype.hasFetched=function(){return k};n.prototype.getPINSettings=function(){if(!j&&!k)this.$FBPaymentsPINStoreBase1();return l};n.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINStoreBase","__getAPI")};f.exports=n}),null);
__d("FBPaymentsPINStore",["FBPaymentsModulesAPI","FBPaymentsPINStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){"use strict";return c("FBPaymentsModulesAPI")};function j(){"use strict";h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsPINVerificationContainerBase.react",["FBPaymentsDispatcher","FBPaymentsExtensionInterface.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsExtensionInterface.react"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$FBPaymentsPINVerificationContainerBase1=function(l){var m=this.state;m.verificationData={verified:true,pin:l};this.setState(m,function(){this.calculateExtensionStateAndSendUpdateImmediately(m)}.bind(this))}.bind(this);this.$FBPaymentsPINVerificationContainerBase2=function(){this.props.onRequestActiveForVerification(false)}.bind(this);this.state={needVerification:false,verificationData:null}}j.prototype.componentWillMount=function(){c("FBPaymentsDispatcher").explicitlyRegisterStore(this.constructor.__getPINStore())};j.__calculateExtensionState=function(k){var l=this.__getPINStore().hasFetched(),m=this.__getPINStore().getPINSettings()!==null;return{extraData:{},ready:true,needVerification:l&&m,verificationData:k.verificationData}};j.__getPINStore=function(){return c("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getPINStore")};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINVerificationContainerBase","__getView")};j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,onCancelActiveForVerificationClick:this.$FBPaymentsPINVerificationContainerBase2,onPINEnter:this.$FBPaymentsPINVerificationContainerBase1}))};f.exports=j}),null);
__d("FBPaymentsPINConstants",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h={PIN_FLOW_TYPES:c("keyMirror")({ENABLE_PIN_PROTECTION:"",VALIDATE_PIN:""}),PIN_PROTECTION_REASON:c("keyMirror")({PAYMENTS:"",THREAD:""}),PIN_FLOW_STEPS:c("keyMirror")({UNKNOWN:"",VALIDATE_PIN:"",VALIDATE_PIN_TO_ENABLE:"",CREATE_PIN:"",CREATE_NEW_PIN:"",PIN_CREATED:"",DELETE_PIN_PASSWORD_CONFIRM:""}),PIN_CREATE_FLOW_STEPS:c("keyMirror")({ENTER_PIN:"",ENTER_PIN_AGAIN:""})};f.exports=h}),null);
__d("FBPaymentsPINCreateViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("Cr\u00e9er un code PIN")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,isStepConfirmPIN:k.bool.isRequired,loadingMaskVisible:k.bool.isRequired,onToggleDialog:k.func,pinConfirmField:k.object,pinField:k.object,renderInline:k.bool};f.exports=l}),null);
__d("FBPaymentsPINInputFieldView.react",["cx","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=[];for(var n=0;n<4;n++)m.push(c("React").createElement("span",{key:n,className:"_5mb2"+(n<this.props.digitsLength?" _5mb8":"")}));var o=[];for(var p=0;p<this.props.digitsLength;p++)o.push(c("React").createElement("span",{key:p,className:"_5mba"}));return c("React").createElement("div",{className:"_5mbb"+(this.props.shake?" _5mbc":"")},c("React").createElement("div",{className:"_5mbd"},o,c("React").createElement("span",{className:"_5mbe"+(this.props.cursorHidden?" _5mbt":"")})),m,this.props.hiddenInput)};function l(){i.apply(this,arguments)}l.propTypes={cursorHidden:k.bool.isRequired,digitsLength:k.number.isRequired,hiddenInput:k.object.isRequired,shake:k.bool.isRequired};f.exports=l}),null);
__d("FBPaymentsPINInputFieldContainer.react",["cx","AbstractTextInput.react","FBPaymentsPINInputFieldView.react","Keys","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=500,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={cursorBlinkingState:false,digits:this.props.pin?this.props.pin.split(""):[]},this.intervalID=null,this.toggleCursorVisibility=function(){this.setState({cursorBlinkingState:!this.state.cursorBlinkingState})}.bind(this),this.onKeyDown=function(s){__p&&__p();if(this.props.disabled)return;if(s.keyCode===c("Keys").BACKSPACE)s.preventDefault();if(s.repeat)return;var t=this.state.digits.slice(0);if(s.keyCode>=c("Keys").ZERO&&s.keyCode<=c("Keys").ZERO+9||s.keyCode>=c("Keys").NUMPAD_0&&s.keyCode<=c("Keys").NUMPAD_0+9){if(t.length===4)return;t.push(s.keyCode>=c("Keys").NUMPAD_0?s.keyCode-c("Keys").NUMPAD_0:s.keyCode-c("Keys").ZERO)}else if(s.keyCode===c("Keys").BACKSPACE)t.pop();if(this.intervalID!==null)clearInterval(this.intervalID);this.intervalID=setInterval(this.toggleCursorVisibility,k);this.setState({cursorBlinkingState:false,digits:t});if(t.length===4)this.props.onPINEnter(t.join(""))}.bind(this),this.focusHiddenInput=function(){this.refs.hiddenInput.focusInput()}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){if(n.pin!==null)this.setState({digits:n.pin.split("")})};m.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDown);this.intervalID=setInterval(this.toggleCursorVisibility,k);this.focusHiddenInput()};m.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDown);if(this.intervalID!==null)clearInterval(this.intervalID)};m.prototype.render=function(){var n=this.state.digits.length,o=this.props.disabled||this.state.cursorBlinkingState||n===4,p=c("React").createElement(c("AbstractTextInput.react"),{className:"_5mbu",pattern:"\\d*",ref:"hiddenInput",type:"number"}),q=this.props.disabled?null:this.focusHiddenInput;return c("React").createElement("div",{onClick:q},c("React").createElement(c("FBPaymentsPINInputFieldView.react"),{cursorHidden:o,digitsLength:n,hiddenInput:p,shake:this.props.shake}))};m.propTypes={disabled:l.bool.isRequired,pin:l.string,shake:l.bool.isRequired,onPINEnter:l.func.isRequired};m.defaultProps={pin:null};f.exports=m}),null);
__d("FBPaymentsPINCreateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINConstants","FBPaymentsPINCreateViewBase.react","FBPaymentsPINInputFieldContainer.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_CREATE_FLOW_STEPS,m=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON,n=500;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.onPINCreated=function(q){this.setState({loading:false});this.props.onPINCreate(this.state.pinEntered)}.bind(this);this.onPINCreateError=function(q){this.setState({loading:false,pinEntered:"",shakePINInput:true});setTimeout(function(){this.setState({errorMessage:q.message,shakePINInput:false,step:l.ENTER_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}.bind(this),n)}.bind(this);this.createPIN=function(){var q=true,r={};if(this.props.protectionReason===m.THREAD){q=false;r[this.props.protectedThread]=true}this.__getAPI().createPIN({pin:this.state.pinEntered,payments_protected:q,thread_profiles_protected:r},this.onPINCreated,this.onPINCreateError)}.bind(this);this.onPINEntered=function(q){__p&&__p();if(this.state.step===l.ENTER_PIN){this.setState({confirmFail:false,errorMessage:"",pinEntered:q,step:l.CONFIRM_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}else if(q===this.state.pinEntered){this.createPIN();this.setState({loading:true})}else{this.setState({pinEntered:"",shakePINInput:true});setTimeout(function(){this.setState({confirmFail:true,shakePINInput:false,step:l.ENTER_PIN,transition:true});setTimeout(function(){this.setState({transition:false})}.bind(this),n)}.bind(this),n)}}.bind(this);this.handleDialogToggled=function(q){if(!q)this.props.onCancel()}.bind(this);if(!p.resetPIN&&p.protectionReason===null)throw new Error("If not resetting PIN, protection reason must be specified");if(p.protectionReason===m.THREAD&&p.protectedThread===null)throw new Error("Thread must be specified for thread protection");this.state={confirmFail:false,errorMessage:"",loading:false,pinEntered:"",shakePINInput:false,step:l.ENTER_PIN,transition:false}}o.prototype.render=function(){__p&&__p();var p=void 0;switch(this.state.step){case l.ENTER_PIN:if(this.state.errorMessage)p=this.state.errorMessage;else if(this.state.confirmFail)p=h._("Code PIN incorrect. Veuillez r\u00e9essayer.");else if(this.props.resetPIN)p=h._("Cr\u00e9ez un nouveau code PIN \u00e0 4 chiffres.");else if(this.props.protectionReason===m.PAYMENTS)p=h._("Cr\u00e9ez un code PIN \u00e0 4 chiffres \u00e0 utiliser pour vos paiements.");else if(this.props.protectionReason===m.THREAD)p=h._("Cr\u00e9ez un code PIN \u00e0 4 chiffres \u00e0 utiliser d\u00e8s que vous ouvrez ce thread.");break;case l.CONFIRM_PIN:p=h._("Entrez \u00e0 nouveau votre code PIN pour confirmer.");break;default:throw new Error("Unhandled PIN create flow state!")}var q=void 0,r=void 0;if(this.state.transition||this.state.step===l.ENTER_PIN)q=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput});if(this.state.transition||this.state.step===l.CONFIRM_PIN)r=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,shake:this.state.shakePINInput});var s=this.__getView();return c("React").createElement(s,{bodyText:p,isStepConfirmPIN:this.state.step===l.CONFIRM_PIN,loadingMaskVisible:this.props.loading||this.state.loading,onToggleDialog:this.handleDialogToggled,pinConfirmField:r,pinField:q,renderInline:this.props.renderInline})};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINCreateContainerBase","__getAPI")};o.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINCreateContainerBase","__getView")};o.propTypes={loading:k.bool.isRequired,onCancel:k.func.isRequired,onPINCreate:k.func.isRequired,protectedThread:k.string,protectionReason:k.oneOf(Object.keys(m)),renderInline:k.bool,resetPIN:k.bool.isRequired};f.exports=o}),null);
__d("FBPaymentsPINCreateView.react",["cx","FBPaymentsPINCreateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINCreateViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement("div",null,c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),c("React").createElement("div",{className:"_2iqb"},c("React").createElement("div",{className:"_5ku5"+(this.props.isStepConfirmPIN?" _5ku6":"")},c("React").createElement("div",{className:"_2iqc"},this.props.pinField),c("React").createElement("div",{className:"_2iqc"},this.props.pinConfirmField))),c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));if(this.props.renderInline)return c("React").createElement("div",{className:"_58ba"},m);return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:true,shown:true},c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},m))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINCreateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINCreateContainerBase.react","FBPaymentsPINCreateView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINCreateContainerBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsPINCreateView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINCreatedViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("Code PIN cr\u00e9\u00e9")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,onConfirm:k.func,onToggleDialog:k.func};f.exports=l}),null);
__d("FBPaymentsPINCreatedContainerBase.react",["fbt","FBPaymentsPINConstants","FBPaymentsPINCreatedViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleDialogToggled=function(s){if(!s)this.props.onConfirm()}.bind(this),o}m.prototype.render=function(){var n=void 0;if(this.props.protectionReason===l.PAYMENTS)n=h._("Vous entrerez votre code PIN \u00e0 chaque paiement.");else if(this.props.protectionReason===l.THREAD)n=h._("Vous entrerez votre code PIN chaque fois que vous ouvrirez ce thread.");var o=this.__getView();return c("React").createElement(o,{bodyText:n,onConfirm:this.props.onConfirm,onToggleDialog:this.handleDialogToggled})};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINCreatedViewBase","__getView")};m.propTypes={onConfirm:k.func.isRequired,protectionReason:k.oneOf(Object.keys(l)).isRequired};f.exports=m}),null);
__d("FBPaymentsPINCreatedView.react",["cx","FBPaymentsPINCreatedViewBase.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINCreatedViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement(c("P2PDialogFooter.react"),null,c("React").createElement(c("P2PButton.react"),{use:"confirm",size:"medium",label:"Continue",onClick:this.props.onConfirm}));return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,shown:true},c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText)),m)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINCreatedContainer.react",["FBPaymentsPINCreatedContainerBase.react","FBPaymentsPINCreatedView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINCreatedContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPINCreatedView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINFlowContainerBase.react",["fbt","FBPaymentsDispatcher","FBPaymentsPINConstants","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=c("FBPaymentsPINConstants").PIN_FLOW_STEPS,m=c("FBPaymentsPINConstants").PIN_FLOW_TYPES,n=c("FBPaymentsPINConstants").PIN_PROTECTION_REASON;i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(p){__p&&__p();j.constructor.call(this,p);this.pinFetched=function(){if(this.__getPINStore().hasFetched()&&this.__getPINStore().getPINSettings()===null&&this.props.flowType===m.VALIDATE_PIN)this.props.onSuccess("1111")}.bind(this);this.handleStoreChanged=function(){if(!this.state.hasFetched&&this.__getPINStore().hasFetched()){this.setState({flowStep:this.calcInitialFlowStep(),hasFetched:true});this.pinFetched()}}.bind(this);this.handlePINDeleted=function(){this.setState({flowStep:l.CREATE_NEW_PIN})}.bind(this);this.handlePasswordReauthDialogCancelClick=function(){this.passwordCancelSubscribeToken=null;this.setState({flowStep:this.prevFlowStep})}.bind(this);this.handlePINSettingsUpdated=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.handlePINValidated=function(q){__p&&__p();if(this.state.flowStep===l.VALIDATE_PIN){this.props.onSuccess(q);return}this.setState({pin:q,saving:true});var r={old_pin:q,payments_protected:null,thread_profiles_protected:{}};if(this.props.protectionReason===n.PAYMENTS)r.payments_protected=true;else r.thread_profiles_protected[this.props.protectedThread]=true;this.__getAPI().updatePIN(r,this.handlePINSettingsUpdated)}.bind(this);this.handlePINCreated=function(q){if(this.state.flowStep===l.CREATE_NEW_PIN){this.props.onSuccess(q);return}this.setState({pin:q,flowStep:l.PIN_CREATED})}.bind(this);this.handlePINCreationConfirmed=function(){this.props.onSuccess(this.state.pin)}.bind(this);this.__handleForgotPIN=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__handleForgotPIN")};if(this.props.flowType===m.ENABLE_PIN_PROTECTION&&this.props.protectionReason===null)throw new Error("Protection reason must be specified for enable flow");if(this.props.protectionReason===n.THREAD&&this.props.protectedThread===null)throw new Error("Thread must be specified for thread protection");this.passwordCancelSubscribeToken=null;this.prevFlowStep=l.UNKNOWN;this.state={flowStep:this.calcInitialFlowStep(),hasFetched:this.__getPINStore().hasFetched(),pin:"",saving:false}}o.prototype.calcInitialFlowStep=function(){if(this.props.flowType===m.VALIDATE_PIN)return l.VALIDATE_PIN;else if(this.props.flowType===m.ENABLE_PIN_PROTECTION){if(this.__getPINStore().hasFetched()&&this.__getPINStore().getPINSettings()!==null)return l.VALIDATE_PIN_TO_ENABLE;return l.CREATE_PIN}return l.UNKNOWN};o.prototype.componentWillMount=function(){c("FBPaymentsDispatcher").explicitlyRegisterStore(this.__getPINStore())};o.prototype.componentDidMount=function(){this.__getPINStore().addListener("change",this.handleStoreChanged);this.__getPINStore().getPINSettings();this.pinFetched()};o.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getAPI")};o.prototype.__getPINStore=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getPINStore")};o.prototype.__getCreateContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreateContainer")};o.prototype.__getValidateContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getValidateContainer")};o.prototype.__getCreatedContainer=function(){return c("abstractMethod")("FBPaymentsPINFlowContainerBase","__getCreatedContainer")};o.prototype.render=function(){__p&&__p();switch(this.state.flowStep){case l.CREATE_PIN:case l.CREATE_NEW_PIN:var p=this.__getCreateContainer();return c("React").createElement(p,{loading:!this.state.hasFetched,onCancel:this.props.onCancel,onPINCreate:this.handlePINCreated,protectedThread:this.props.protectedThread,protectionReason:this.props.protectionReason,renderInline:this.props.renderInline,resetPIN:this.state.flowStep===l.CREATE_NEW_PIN});case l.VALIDATE_PIN:case l.VALIDATE_PIN_TO_ENABLE:case l.DELETE_PIN_PASSWORD_CONFIRM:var q=h._("Pour votre s\u00e9curit\u00e9, veuillez entrer votre code PIN.");if(this.state.flowStep===l.VALIDATE_PIN_TO_ENABLE)if(this.props.protectionReason===n.PAYMENTS)q=h._("Veuillez v\u00e9rifier votre code PIN pour la protection des paiements.");else if(this.props.protectionReason===n.THREAD)q=h._("Veuillez v\u00e9rifier votre code PIN pour la protection des threads.");var r=this.__getValidateContainer();return c("React").createElement(r,{bodyText:q,loading:!this.state.hasFetched||this.state.saving||this.state.flowStep===l.DELETE_PIN_PASSWORD_CONFIRM,onCancel:this.props.onCancel,onForgotPIN:this.__handleForgotPIN,onValidPIN:this.handlePINValidated,renderInline:this.props.renderInline});case l.PIN_CREATED:var s=this.__getCreatedContainer();return c("React").createElement(s,{onConfirm:this.handlePINCreationConfirmed,protectionReason:this.props.protectionReason});default:throw new Error("Unhandled PIN flow state!")}};o.propTypes={flowType:k.oneOf(Object.keys(m)).isRequired,onCancel:k.func.isRequired,onSuccess:k.func.isRequired,protectedThread:k.string,protectionReason:k.oneOf(Object.keys(n)),renderInline:k.bool};f.exports=o}),null);
__d("FBPaymentsPINValidateViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getTitle=function(){return h._("Saisir le code PIN")};l.prototype.getForgotLinkText=function(){return h._("Oubli\u00e9\u00a0?")};l.prototype.getCancelButtonText=function(){return h._("Annuler")};function l(){i.apply(this,arguments)}l.propTypes={bodyText:k.node.isRequired,loadingMaskVisible:k.bool.isRequired,onCancel:k.func.isRequired,onForgotPIN:k.func.isRequired,onToggleDialog:k.func,pinField:k.object.isRequired,renderInline:k.bool};f.exports=l}),null);
__d("FBPaymentsPINValidateContainerBase.react",["fbt","FBPaymentsModulesAPIBase","FBPaymentsPINInputFieldContainer.react","FBPaymentsPINValidateViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=500;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(n){__p&&__p();j.constructor.call(this,n);this.handlePINValidated=function(o){__p&&__p();if(o.is_valid){this.setState({errorMessage:"",loading:false});this.props.onValidPIN(this.state.pinEntered)}else{var p=o.remain_attempts_count;this.setState({errorMessage:"",loading:false,shakePINInput:true,remainingAttempts:p});setTimeout(function(){this.setState({shakePINInput:false,pinEntered:""})}.bind(this),l);if(p===0)this.props.onForgotPIN()}}.bind(this);this.handlePINValidationError=function(o){this.setState({errorMessage:o.message,loading:false,shakePINInput:true});setTimeout(function(){this.setState({shakePINInput:false,pinEntered:""})}.bind(this),l)}.bind(this);this.onPINEntered=function(o){this.setState({pinEntered:o,loading:true});this.__getAPI().validatePIN({pin:o},this.handlePINValidated,this.handlePINValidationError)}.bind(this);this.handleDialogToggled=function(o){if(!o)this.props.onCancel()}.bind(this);this.state={errorMessage:"",loading:false,pinEntered:"",remainingAttempts:Infinity,shakePINInput:false}}m.prototype.render=function(){var n=this.props.bodyText;if(this.state.errorMessage)n=this.state.errorMessage;else if(this.state.remainingAttempts<=3)if(this.state.remainingAttempts===0)n=h._("Veuillez entrer votre mot de passe pour r\u00e9initialiser votre code PIN.");else n=h._("Vous avez encore {attempts} tentatives.",[h.param("attempts",this.state.remainingAttempts)]);var o=c("React").createElement(c("FBPaymentsPINInputFieldContainer.react"),{disabled:this.props.loading||this.state.loading,onPINEnter:this.onPINEntered,pin:this.state.pinEntered,shake:this.state.shakePINInput}),p=this.__getView();return c("React").createElement(p,{bodyText:n,loadingMaskVisible:this.props.loading||this.state.loading,onCancel:this.props.onCancel,onForgotPIN:this.props.onForgotPIN,onToggleDialog:this.handleDialogToggled,pinField:o,renderInline:this.props.renderInline})};m.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPINValidateContainerBase","__getAPI")};m.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPINValidateContainerBase","__getView")};m.propTypes={bodyText:k.node.isRequired,loading:k.bool.isRequired,onCancel:k.func.isRequired,onForgotPIN:k.func.isRequired,onValidPIN:k.func.isRequired,renderInline:k.bool};f.exports=m}),null);
__d("FBPaymentsPINValidateView.react",["cx","FBPaymentsPINValidateViewBase.react","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PLoadingMask.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPINValidateViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.getTitle(),m=c("React").createElement("div",{className:"_2iqb"},c("React").createElement("div",{className:"_2iqc"},this.props.pinField)),n=c("React").createElement("div",{className:"_3-98"},c("React").createElement("a",{href:"#",onClick:this.props.onForgotPIN},this.getForgotLinkText())),o=c("React").createElement("div",null,c("React").createElement(c("P2PText.react"),{size:"medium",type:"primary",className:"_3-8q"},this.props.bodyText),m,n,c("React").createElement(c("P2PLoadingMask.react"),{visible:this.props.loadingMaskVisible}));if(this.props.renderInline)return c("React").createElement("div",{className:"_58ba"},o);return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggleDialog,repositionOnUpdate:true,shown:true},c("React").createElement("div",null,c("React").createElement(c("P2PDialogTitle.react"),null,l),c("React").createElement(c("P2PDialogBody.react"),{className:"_wjy"},o)))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPINValidateContainer.react",["FBPaymentsModulesAPI","FBPaymentsPINValidateContainerBase.react","FBPaymentsPINValidateView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINValidateContainerBase.react"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getView=function(){return c("FBPaymentsPINValidateView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPINFlowContainer.react",["Arbiter","FBPaymentsModulesAPI","FBPaymentsPINConstants","FBPaymentsPINCreateContainer.react","FBPaymentsPINCreatedContainer.react","FBPaymentsPINFlowContainerBase.react","FBPaymentsPINStore","FBPaymentsPINValidateContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsPINConstants").PIN_FLOW_STEPS;h=babelHelpers.inherits(k,c("FBPaymentsPINFlowContainerBase.react"));i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.__handleForgotPIN=function(){this.prevFlowStep=this.state.flowStep;this.setState({flowStep:j.DELETE_PIN_PASSWORD_CONFIRM});this.passwordCancelSubscribeToken=c("Arbiter").subscribeOnce("PasswordReauthDialogCancelClick",this.handlePasswordReauthDialogCancelClick);this.__getAPI().deletePIN({force_password:true},this.handlePINDeleted)}.bind(this),m}k.prototype.componentWillUnmount=function(){if(this.passwordCancelSubscribeToken!==null){c("Arbiter").unsubscribe(this.passwordCancelSubscribeToken);this.passwordCancelSubscribeToken=null}};k.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};k.prototype.__getPINStore=function(){return c("FBPaymentsPINStore")};k.prototype.__getCreateContainer=function(){return c("FBPaymentsPINCreateContainer.react")};k.prototype.__getValidateContainer=function(){return c("FBPaymentsPINValidateContainer.react")};k.prototype.__getCreatedContainer=function(){return c("FBPaymentsPINCreatedContainer.react")};f.exports=k}),null);
__d("FBPaymentsPINVerificationViewBase.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};function l(){i.apply(this,arguments)}l.propTypes={isActive:k.bool.isRequired,isActiveForVerification:k.bool.isRequired,onCancelActiveForVerificationClick:k.func.isRequired,onPINEnter:k.func.isRequired};f.exports=l}),null);
__d("FBPaymentsPINVerificationView.react",["cx","FBPaymentsPINConstants","FBPaymentsPINFlowContainer.react","FBPaymentsPINVerificationViewBase.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsPINConstants").PIN_FLOW_TYPES;i=babelHelpers.inherits(l,c("FBPaymentsPINVerificationViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){if(this.props.isActiveForVerification)return c("React").createElement("div",{className:"_2pi2"},c("React").createElement(c("FBPaymentsPINFlowContainer.react"),{flowType:k.VALIDATE_PIN,onCancel:function m(){},onSuccess:this.props.onPINEnter,renderInline:true}),c("React").createElement("div",{className:"_52ju _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{label:this.getBackButtonText(),onClick:this.props.onCancelActiveForVerificationClick})));return null};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPINVerificationContainer.react",["FBPaymentsPINStore","FBPaymentsPINVerificationContainerBase.react","FBPaymentsPINVerificationView.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPINVerificationContainerBase.react"));i=h&&h.prototype;j.__getPINStore=function(){return c("FBPaymentsPINStore")};j.prototype.__getView=function(){return c("FBPaymentsPINVerificationView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCreditCardVerificationHelper",["fbt","immutable","PaymentMethodVerifyFields"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i="US",j={shouldVerifyFields:function k(l){return!!l&&l.length!==0},shouldVerifyExp:function k(l){if(!l||l.length===0)return false;return l.includes(c("PaymentMethodVerifyFields").CARD_EXPIRATION)},shouldVerifyZIP:function k(l){if(!l||l.length===0)return false;return l.includes(c("PaymentMethodVerifyFields").ZIP)},shouldVerifyCVV:function k(l){if(!l||l.length===0)return false;return l.includes(c("PaymentMethodVerifyFields").CSC)},shouldOnlyVerifyCVV:function k(l){if(!l)return false;return l.length===1&&this.shouldVerifyCVV(l)},shouldUpdateCreditCard:function k(l){return this.shouldVerifyExp(l)||this.shouldVerifyZIP(l)},getVerifyFieldsMessage:function k(l){var m={};if(this.shouldVerifyExp(l))m[c("PaymentMethodVerifyFields").CARD_EXPIRATION]={message:h._("Veuillez mettre \u00e0 jour la date d\u2019expiration de votre carte de cr\u00e9dit.")};if(this.shouldVerifyZIP(l))m[c("PaymentMethodVerifyFields").ZIP]={message:h._("Veuillez mettre \u00e0 jour le code postal de facturation de votre carte de cr\u00e9dit.")};if(this.shouldVerifyCVV(l))m[c("PaymentMethodVerifyFields").CSC]={message:h._("Veuillez entrer \u00e0 nouveau le code de s\u00e9curit\u00e9 de votre carte de cr\u00e9dit.")};return{fields:m}},isFieldRequiredForCountry:function k(l,m,n){__p&&__p();if(l)for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;if(s.country===m&&s.fields.includes(n))return true}else if(n===c("PaymentMethodVerifyFields").ZIP)return this.defaultZipRequired(m);return false},defaultZipRequired:function k(l){return l===i}};f.exports=j}),null);
__d("FBPaymentsPayPalBillingAgreementTypes",[],(function a(b,c,d,e,f,g){"use strict";var h={MIB:"mib",CIB:"cib"};f.exports=h}),null);
/**
 * License: https://www.facebook.com/legal/license/-aYiJ3rNfIy/
 */
__d("PayPalFraudNet",[],(function a(b,c,d,e,f,g){__p&&__p();var h={paypal:{TYPE:"paypal",IFRAME_BASE_URL:"https://c.paypal.com",IFRAME_JS_URL:"https://c.paypal.com/webstatic/r/fb/fb-all-prod.fbi.min.js",IFRAME_URL:"https://c.paypal.com/v1/r/d/i",PP_VERSION:"20170124"}},i={VERSION:"0.3.0",config:h.paypal,time:{cd:{}},conf:{},resolveCallback:function(k){"use strict";var l;if(k!==null&&typeof k==="string"&&k!==""){l=k.split(".");if(l.length===2)return window.parent[l[0]][l[1]];else if(l.length===1)return window.parent[k]}},now:function(){"use strict";var k={};try{k=window.performance||{}}catch(l){}k.now=function(){return k.now||k.webkitNow||k.msNow||k.oNow||k.mozNow||function(){return new Date().getTime()}}();return k.now()},onEvent:function(k,l){"use strict";if(typeof window.addEventListener!=="undefined")window.addEventListener(k,l,false);else if(typeof window.attachEvent!=="undefined")window.attachEvent("on"+k,l)},fbOuter:function(k){"use strict";__p&&__p();i.time.p1={};i.time.p1.fbOuterStart=new Date().getTime();return{runFbWrapper:function(l,m){__p&&__p();var n,o;i.time.runFbWrapper={};i.time.runFbWrapper.start=i.now();n=function(p){__p&&__p();var q,r,s,t,u,v;v=i.config.IFRAME_BASE_URL;if(p.origin===undefined||p.origin!==v)return;try{q=JSON.parse(p.data);if(q.ppfn){r=(parent.document||document).referrer;s=(parent.document||document).URL}else if(q.cb1)m();else if(typeof q.time!=="undefined"){u={};u.runFbWrapper=i.time.runFbWrapper;u.runFb=q.time.runFb;l(u)}else l()}catch(w){}k.time=i.time.p1;if(p&&q&&q.ppfn&&p.origin===v)if(q.frameReady===true){t={ppfn:true,config:k,referer:r,URL:s};p.source.postMessage(JSON.stringify(t),p.origin)}};o=function(){__p&&__p();var p,q="ppfniframe",r=document.createElement("iframe");i.time.runFbWrapper.createChild=i.time.runFbWrapper.insertIframeStart=i.now();i.time.p1.iframeStart=new Date().getTime();r.id=r.name=q;r.setAttribute("style","width: 0; height: 0; border: 0; position:absolute; z-index:-999");i.onEvent("message",n);document.body.appendChild(r);p=function(){__p&&__p();if(typeof k.e!=="undefined")i.config.IFRAME_URL=i.config.IFRAME_URL.replace(/(?!(http|https)(:\/\/))([\w]+\.){1}([\w]+\.)+([\w]+)/g,k.e);var s,t=i.config.IFRAME_URL+"?js_src="+i.config.IFRAME_JS_URL;s=document.getElementById("ppfniframe");if(-1===navigator.userAgent.indexOf("MSIE"))s.src=t;else{s.location=t;s.src=t}if(typeof window.postMessage==="undefined")s.src=s.src+"#"+encodeURIComponent(JSON.stringify(k))};setTimeout(p,1)};o()}}}};function j(){"use strict";__p&&__p();var k,l,m,n,o,p,q,r=/paypal\.com/,s,t,u=function(){var A="abcdefghijklmnopqrstuvwxyz0123456789",B="";for(n=0;n<32;n++)B+=A[Math.floor(Math.random()*A.length)];return B}(),v=document.createTextNode('{"f":"'+u+'","s":"FB_FLOW_ID"}'),w=document.createElement("script");w.setAttribute("type","application/json");w.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99");w.appendChild(v);var x=window.parent.document.getElementsByTagName("script");x=x[x.length-1];x.parentNode.insertBefore(w,x);try{if(window.parent!==window&&document.getElementById("js-iframe-async")){q=window.parent;q.PFB_4732=i}}catch(y){}try{s=document.getElementsByTagName("script");t=parent&&parent.document&&document!==parent.document&&parent.document.getElementsByTagName("script")||[];if(t===undefined||t.length===undefined)t=[];for(n=0;n<s.length+t.length;n+=1){p=n<s.length?s[n]:t[n-s.length];if(p.getAttribute("fncls")==="fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"&&p.type==="application/json"){o=p;break}}if(typeof o!==undefined)m=JSON.parse(o.text);i.conf=m;i.config=h.paypal;if(typeof m!==undefined){k=i.resolveCallback(m.cb);l=i.resolveCallback(m.cb1);i.fbOuter(m).runFbWrapper(k,l);if(typeof o!=="undefined")o.parentElement.removeChild(o)}}catch(z){}return u}f.exports={collectFraudnetFeatures:j}}),null);
__d("FBPaymentsPaymentMethodSelectorContainerBase.react",["invariant","CreditCardFormParam","FBPaymentsCreditCard","FBPaymentsCreditCardVerificationHelper","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsModulesAPIUtils","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodTypes","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","PaymentMethodVerifyFields","PaymentModulesGating","PayPalFraudNet","QE2Logger","React","Set","abstractMethod","emptyFunction","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsLoggerConstants").LoggerEvent,l=c("FBPaymentsLoggerConstants").LoggerFlowStep,m="payment_modules_growth_www_guest_checkout";i=babelHelpers.inherits(n,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function n(o){__p&&__p();var p,q,r,s;j.constructor.call(this,o);this.handleBankClick=function(w){this.setState({selectedBank:w})}.bind(this);this.handlePaymentMethodRowClicked=function(){this.props.onRequestActive(true)}.bind(this);this.handlePaymentMethodClick=function(w){this.setState({needVerification:this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase3(w,this.props),selectedBank:null,selectedPaymentMethod:w,selectedPaymentMethodID:w.id,selectedPaymentMethodOrNewPaymentOption:{id:w.id,type:"paymentMethod"}});this.props.onExtensionPrePaymentCallChange(c("emptyFunction"))}.bind(this);this.handleAddPaymentMethod=function(){var w=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(w).setEventName(k.INIT).logVital();this.props.onRequestActive(true)}.bind(this);this.handleNewPaymentOptionClick=function(w){var x=this.getLoggerFlowStepForNewPaymentOption(w);this.props.logger.setFlowStep(x).setEventName(k.INIT).logVital();this.setState({selectedNewPaymentOptionType:w,selectedPaymentMethodOrNewPaymentOption:{id:w,type:"newPaymentOption"},needVerification:false},function(){if(this.state.isNUXInlineCardFormMode||this.state.isPUXInlineCardFormMode)if(!this.state.isNUXInlineCardFormSavingCreditCard&&this.getIsDirectChargeAllowed())this.props.onExtensionPrePaymentCallChange(this.returnCCDataPrePaymentCall);else this.props.onExtensionPrePaymentCallChange(this.handleSaveNewPaymentOptionPrePaymentCall)}.bind(this))}.bind(this);this.handleSaveCreditCardCheckboxClick=function(event){if(!this.getIsDirectChargeAllowed())return;var w=event.target.checked,x=w?this.handleSaveNewPaymentOptionPrePaymentCall:this.returnCCDataPrePaymentCall;this.setState({isNUXInlineCardFormSavingCreditCard:w},function(){this.props.onExtensionPrePaymentCallChange(x)}.bind(this))}.bind(this);this.handleSaveNewPaymentOptionPrePaymentCall=function(w,x){__p&&__p();this.setState({saveErrors:null},function(){__p&&__p();this.saveNewPaymentOption(function(y){__p&&__p();var z=void 0,A=this.state.selectedNewPaymentOptionType;switch(A){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:z=new(c("FBPaymentsCreditCard"))({id:y});this.state.newPaymentOptionData||h(0);var B=this.state.newPaymentOptionData.data;this.setState({verificationData:babelHelpers["extends"]({csc:B[c("CreditCardFormParam").CSC]},this.state.verificationData)});break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:z=new(c("FBPaymentsPayPalBillingAgreement"))({id:y});break;default:h(0)}this.logNewPaymentOptionSaved(y,A);this.setState({selectedPaymentMethod:z,selectedPaymentMethodID:z.id,selectedPaymentMethodOrNewPaymentOption:{id:z.id,type:"paymentMethod"}});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});w({paymentMethod:z})}.bind(this),function(y){this.handleNewPaymentOptionSavedError(y);x()}.bind(this),x)}.bind(this))}.bind(this);this.returnCCDataPrePaymentCall=function(w,x){this.setState({saveErrors:null},function(){this.state.newPaymentOptionData||h(0);var y=this.state.newPaymentOptionData.data;if(!y[c("CreditCardFormParam").COUNTRY])y[c("CreditCardFormParam").COUNTRY]=this.state.billingCountry;this.setState({selectedPaymentMethod:new(c("FBPaymentsCreditCard"))({id:0})});this.props.logger.updateExtraData({default_save_cc_option:+this.isNUXInlineCardFormSavingCreditCardDefault,did_user_save_cc:+this.state.isNUXInlineCardFormSavingCreditCard});w(c("FBPaymentsModulesAPIUtils").prepareInlineCardDirectChargeData(y))}.bind(this))}.bind(this);this.handleNewPaymentOptionFormDataUpdated=function(w){this.setState({newPaymentOptionData:w})}.bind(this);this.handleSaveNewPaymentOption=function(){var w=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(w).setEventName(k.SAVE_CLICK).logVital();this.setState({isSaving:true,saveErrors:null},function(){this.saveNewPaymentOption(this.handleNewPaymentOptionSaved,this.handleNewPaymentOptionSavedError,this.handleCancelSaveNewPaymentOption)}.bind(this))}.bind(this);this.handleNewPaymentOptionSaved=function(w){this.logNewPaymentOptionSaved(w,this.state.selectedNewPaymentOptionType);var x=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase1(this.props);c("FBPaymentsPaymentMethodActions").fetchPaymentMethods(x);this.props.onRequestActive(false);this.setState({isLoading:true,isSaving:false,newCredentialID:w,newPaymentOptionData:null,selectedBank:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:false})}.bind(this);this.handleNewPaymentOptionSavedError=function(w){var x=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(x).setEventName(k.FAIL).updateExtraData({errors:w}).log();this.setState({isSaving:false,saveErrors:w,showForm:true})}.bind(this);this.handleCancelSaveNewPaymentOption=function(){var w=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(w).setEventName(k.CANCEL_SAVING).log();this.setState({isSaving:false})}.bind(this);this.handleShowCardForm=function(){this.handleToggleShowCardForm(true)}.bind(this);this.handleHideCardForm=function(){this.handleToggleShowCardForm(false)}.bind(this);this.handleCancelActiveStateClick=function(){var w=this.getLoggerFlowStepForNewPaymentOption(this.state.selectedNewPaymentOptionType);this.props.logger.setFlowStep(w).setEventName(k.CANCEL).log();var x=this.state.isPUXInlineCardFormMode?this.state.newPaymentOptionData:null;this.setState({newPaymentOptionData:x,saveErrors:null});this.props.onRequestActive(false)}.bind(this);this.handleCancelActiveForVerificationClick=function(){var w,x=this.state.selectedPaymentMethod,y=this.getLoggerFlowStepForVerification((w=x)!=null?w.type:w);this.props.logger.setFlowStep(y).setEventName(k.CANCEL).log();this.setState({convertPayPalErrorMessage:null,saveErrors:null});this.props.onExtensionWidthChange(null);this.props.onRequestActiveForVerification(false)}.bind(this);this.handleCreditCardVerificationFormValidation=function(w,x){this.setState({creditCardVerificationData:x,isCreditCardVerificationDataValid:w})}.bind(this);this.handleConfirmCreditCardVerification=function(){var w=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase4(this.state.selectedPaymentMethod,this.props),x=c("FBPaymentsCreditCardVerificationHelper").shouldUpdateCreditCard(w);if(x){var y,z;this.setState({isSaving:true,saveErrors:null,verificationData:{verified:false}});var A=babelHelpers["extends"]((y={},y[c("CreditCardFormParam").CARD_FBID]=this.state.selectedPaymentMethodID,y),this.state.creditCardVerificationData,(z={},z[c("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType,z[c("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID(),z));this.__getAPI().updateCreditCard(A,this.completeCreditCardVerification,this.handleUpdateCreditCardError)}else this.completeCreditCardVerification()}.bind(this);this.completeCreditCardVerification=function(){var w=this.state;w.isSaving=false;w.verificationData={verified:true,csc:this.state.creditCardVerificationData[c("CreditCardFormParam").CSC]};this.setState(w,function(){this.calculateExtensionStateAndSendUpdateImmediately(this.state)}.bind(this))}.bind(this);this.handleUpdateCreditCardError=function(w){this.setState({isSaving:false,saveErrors:w})}.bind(this);this.handleConvertPayPalBAToCIB=function(w){this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.INIT).setPaymentMethodID(w.id).log();this.setState({isConvertingPayPal:true,convertPayPalErrorMessage:null});var x={billing_agreement_id:w.id,billing_agreement_type:c("FBPaymentsPayPalBillingAgreementTypes").CIB};this.__getAPI().convertPayPalBAToCIB(x,this.handleConvertPayPalBAToCIBSuccess,this.handleConvertPayPalBAToCIBError)}.bind(this);this.handleConvertPayPalBAToCIBSuccess=function(w){__p&&__p();this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.SUCCESS).setPaymentMethodID(w).log();var x={key:this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase1(this.props),payPalBAID:w};c("FBPaymentsPaymentMethodActions").convertPayPalBAToCIB(x);var y=this.state;y.needVerification=false;y.verificationData={verified:true};y.isConvertingPayPal=false;y.convertPayPalErrorMessage=null;this.setState(y,function(){this.calculateExtensionStateAndSendUpdateImmediately(y)}.bind(this));this.props.onExtensionWidthChange(null)}.bind(this);this.handleConvertPayPalBAToCIBError=function(w){var x=w.message;this.props.logger.setFlowStep(l.PAYPAL_CONSENT).setEventName(k.FAIL).setErrorMessage(x).log();this.setState({isConvertingPayPal:false,convertPayPalErrorMessage:x})}.bind(this);if((p=o)!=null?(p=p.checkoutExtraProps)!=null?p.isInDirectChargeExperiment:p:p)c("QE2Logger").logExposureForUser(m);var t=!!((q=o)!=null?(q=q.checkoutExtraProps)!=null?(q=q.enableInlinePUXAndOtherEnhancements)!=null?q.field_level_errors:q:q:q),u=!!((r=o)!=null?(r=r.checkoutExtraProps)!=null?(r=r.enableInlinePUXAndOtherEnhancements)!=null?r.card_form_auto_tabbing:r:r:r),v=!!((s=o)!=null?(s=s.checkoutExtraProps)!=null?(s=s.enableInlinePUXAndOtherEnhancements)!=null?s.card_icons:s:s:s);this.state={billingCountry:null,connectPayPalURL:null,convertPayPalErrorMessage:null,creditCardVerificationData:{},fraudnetSessionID:null,isConvertingPayPal:false,isCreditCardVerificationDataValid:false,isNUXInlineCardFormMode:false,isPUXInlineCardFormMode:false,shouldShowCardIcons:v,shouldShowFieldLevelErrors:t,enableCardFormAutoTabbing:u,isNUXInlineCardFormSavingCreditCard:c("PaymentModulesGating").guestCheckoutIsCheckboxCheckedByDefault,isPUXNewPaymentOptionTabEnabled:false,isLoading:false,isSaving:false,needVerification:false,newCredentialID:null,newPaymentOptionData:null,paymentMethodsInfo:null,saveErrors:null,selectedBank:null,selectedNewPaymentOptionType:null,selectedPaymentMethod:null,selectedPaymentMethodID:null,selectedPaymentMethodOrNewPaymentOption:null,showForm:false,verificationData:null,showHardError:false};this.isNUXInlineCardFormSavingCreditCardDefault=this.state.isNUXInlineCardFormSavingCreditCard}n.getStores=function(){return[this.__getPaymentMethodStore()]};n.$FBPaymentsPaymentMethodSelectorContainerBase1=function(o){var p=o.checkoutConfiguration.paymentInfo;return{paymentType:p.paymentItemType,orderID:p.orderId,receiverID:p.receiverId,extraData:p.extraData}};n.$FBPaymentsPaymentMethodSelectorContainerBase2=function(o){__p&&__p();if(o.isSaving)return false;var p=o.paymentMethodsInfo;if(!p)return false;var q=o.selectedPaymentMethod;if(!q)return false;var r=q.type||"",s=r===c("FBPaymentsPaymentMethodTypes").NET_BANKING;if(s&&!o.selectedBank)return false;return true};n.$FBPaymentsPaymentMethodSelectorContainerBase3=function(o,p){var q=false;switch(o.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:var r=this.$FBPaymentsPaymentMethodSelectorContainerBase4(o,p);q=r.length!==0;break;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:q=o.cibConversionNeeded;break}return q};n.$FBPaymentsPaymentMethodSelectorContainerBase4=function(o,p){var q;if(!o)return[];switch(o.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:var r=new(c("Set"))(o.getVerifyFields()),s=(q=p)!=null?(q=q.checkoutExtraProps)!=null?q.shouldVerifyCSC:q:q;if(s)r.add(c("PaymentMethodVerifyFields").CSC);return Array.from(r);default:return[]}};n.$FBPaymentsPaymentMethodSelectorContainerBase5=function(o,p){switch(o){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return!!p&&p.isValid;default:return true}};n.calculateState=function(o,p){__p&&__p();var q=babelHelpers["extends"]({},o),r=this.$FBPaymentsPaymentMethodSelectorContainerBase1(p),s=this.__getPaymentMethodStore().get(r,p.logger.getSessionID());q.isLoading=s.isLoading();if(s.hasValue()){var t,u,v=s.getValueEnforcing();q.paymentMethodsInfo=v;var w=v.paymentMethods,x=v.newPaymentOptions;q.billingCountry=v.billingCountry;var y=!!((t=p)!=null?(t=t.checkoutExtraProps)!=null?t.enableInlineCardForm:t:t);q.isNUXInlineCardFormMode=w.size===0&&(y||c("PaymentModulesGating").isEnabledForInlineCardFormWWW);q.isPUXInlineCardFormMode=w.size>0&&!!((u=p)!=null?(u=u.checkoutExtraProps)!=null?(u=u.enableInlinePUXAndOtherEnhancements)!=null?u.inline_pux:u:u:u);q.isPUXNewPaymentOptionTabEnabled=w.size!==0&&y;var z=x.find(function(F){return F.type===c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL})||{};q.connectPayPalURL=z.url;if(q.newCredentialID){var A=w.find(function(F){return F.id===q.newCredentialID});if(A){q.selectedBank=null;q.selectedPaymentMethod=A;q.selectedPaymentMethodID=A.id;q.newCredentialID=null;q.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(A,p)}}else{if(!q.selectedPaymentMethod){var B=c("FBPaymentsLinkHelper").isCurrentURIReturnedFromPaypal(),C=w.first(),D=B?w.findLast(function(F){return F.getType()===c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT})||C:C;if(D){q.selectedBank=null;q.selectedPaymentMethod=D;q.selectedPaymentMethodID=D.id;q.needVerification=this.$FBPaymentsPaymentMethodSelectorContainerBase3(D,p);q.selectedPaymentMethodOrNewPaymentOption={id:q.selectedPaymentMethodID,type:"paymentMethod"}}}if(!q.selectedNewPaymentOptionType){var E=x.first();if(E)q.selectedNewPaymentOptionType=E.type}}}if(q.fraudnetSessionID==null&&q.selectedPaymentMethod&&q.selectedPaymentMethod.type==c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT)q.fraudnetSessionID=c("PayPalFraudNet").collectFraudnetFeatures();return q};n.__calculateExtensionState=function(o){var p=false,q={fraudnetSessionID:o.fraudnetSessionID};if(o.isPUXInlineCardFormMode&&o.selectedPaymentMethodOrNewPaymentOption&&o.selectedPaymentMethodOrNewPaymentOption.type==="newPaymentOption"||o.isNUXInlineCardFormMode)p=this.$FBPaymentsPaymentMethodSelectorContainerBase5(o.selectedNewPaymentOptionType,o.newPaymentOptionData);else if(this.$FBPaymentsPaymentMethodSelectorContainerBase2(o)){p=true;q=babelHelpers["extends"]({bank:o.selectedBank,paymentMethod:o.selectedPaymentMethod,paymentMethodID:o.selectedPaymentMethodID},q)}return{extraData:q,ready:p,needVerification:o.needVerification,verificationData:o.verificationData}};n.__getPaymentMethodStore=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getPaymentMethodStore")};n.prototype.getLoggerFlowStepForNewPaymentOption=function(o){switch(o){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return l.ADD_CARD;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return l.ADD_PAYPAL;default:return""}};n.prototype.getLoggerFlowStepForVerification=function(o){switch(o){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return l.VERIFY_CARD;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return l.PAYPAL_CONSENT;default:return""}};n.prototype.getLoggerSessionID=function(){return this.props.logger.getSessionID()};n.prototype.getPaymentType=function(){return this.props.checkoutConfiguration.paymentInfo.paymentItemType};n.prototype.getIsDirectChargeAllowed=function(){var o;return!!((o=this.props)!=null?(o=o.checkoutExtraProps)!=null?o.isDirectChargeEnabled:o:o)&&this.state.isNUXInlineCardFormMode};n.prototype.saveNewPaymentOption=function(o,p,q){__p&&__p();var r=this.state.selectedNewPaymentOptionType;switch(r){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:var s=this.state.newPaymentOptionData;s||h(0);var t=this.props.checkoutConfiguration.paymentInfo,u=s.data;u[c("CreditCardFormParam").COMBINED_PAYMENT_TYPE]=this.props.checkoutConfiguration.paymentInfo.paymentItemType;u[c("CreditCardFormParam").RECEIVER_ID]=t.receiverId;u[c("CreditCardFormParam").SESSION_ID]=this.getLoggerSessionID();if(!u[c("CreditCardFormParam").COUNTRY])u[c("CreditCardFormParam").COUNTRY]=this.state.billingCountry;this.__getAPI().addCreditCard(u,o,p);break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.__connectPayPal(o,p,q);break;default:h(0)}};n.prototype.logNewPaymentOptionSaved=function(o,p){var q=this.getLoggerFlowStepForNewPaymentOption(p);this.props.logger.setFlowStep(q).setEventName(k.SUCCESS).setPaymentMethodID(o).logVital()};n.prototype.handleToggleShowCardForm=function(o){this.setState({newPaymentOptionData:null,saveErrors:null,showForm:o})};n.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getView")};n.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__getAPI")};n.prototype.__connectPayPal=function(o,p,q){return c("abstractMethod")("FBPaymentsPaymentMethodSelectorContainerBase","__connectPayPal")};n.prototype.render=function(){var o=this.constructor.$FBPaymentsPaymentMethodSelectorContainerBase5(this.state.selectedNewPaymentOptionType,this.state.newPaymentOptionData),p=this.__getView();return c("React").createElement(p,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isActiveForVerification:this.props.isActiveForVerification,isDirectChargeAllowed:this.getIsDirectChargeAllowed(),logger:this.props.logger,newPaymentOptionSaveEnabled:o,onAddPaymentMethodClick:this.handleAddPaymentMethod,onBankClick:this.handleBankClick,onCancelActiveForVerificationClick:this.handleCancelActiveForVerificationClick,onCancelActiveStateClick:this.handleCancelActiveStateClick,onConfirmCreditCardVerification:this.handleConfirmCreditCardVerification,onConvertPayPalBAToCIB:this.handleConvertPayPalBAToCIB,onCreditCardVerificationFormValidation:this.handleCreditCardVerificationFormValidation,onExtensionWidthChange:this.props.onExtensionWidthChange,onHideCardForm:this.handleHideCardForm,onNewPaymentOptionClick:this.handleNewPaymentOptionClick,onNewPaymentOptionFormDataUpdated:this.handleNewPaymentOptionFormDataUpdated,onPaymentMethodClick:this.handlePaymentMethodClick,onRowClicked:this.handlePaymentMethodRowClicked,onSaveCreditCardCheckboxClick:this.handleSaveCreditCardCheckboxClick,onSaveNewPaymentOption:this.handleSaveNewPaymentOption,onShowCardForm:this.handleShowCardForm}))};f.exports=n}),null);
__d("FBPaymentsConsentViewBase.react",["React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){h.apply(this,arguments)}k.propTypes={consentContent:j.node.isRequired,logoSrc:j.object,subtitle:j.node,termsAndPoliciesText:j.node.isRequired,title:j.node};f.exports=k}),null);
__d("FBPaymentsConsentView.react",["cx","FBPaymentsConsentViewBase.react","Image.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsConsentViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.logoSrc?c("React").createElement(c("Image.react"),{src:this.props.logoSrc}):null,m=this.props.title?c("React").createElement("div",{className:"_1awf"},this.props.title):null,n=this.props.subtitle?c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"large",weight:"bold"},this.props.subtitle):null;return c("React").createElement("div",{className:"_1awe"},c("React").createElement("div",{className:"_52jv"},l,m),n,c("React").createElement(c("XUIGrayText.react"),{className:"_1awg",display:"block",shade:"medium",size:"large"},this.props.consentContent),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"medium",size:"large"},this.props.termsAndPoliciesText))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsFormFieldUtils_DEPRECATED",["Keys"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={stripNonDigits:function i(j){return j.replace(/\D/g,"")},stripNonAlpha:function i(j){return j.replace(/[^a-zA-Z]/g,"")},formatCardNumber:function i(j,k,l,m,n){__p&&__p();if(l===c("Keys").BACKSPACE||l===c("Keys").DELETE){var o=k.split(n).length-1,p=j.split(n).length-1;if(p!==o)return j}j=this.stripNonDigits(j);j=j.substr(0,m[m.length-1]);var q="";for(var r=1;r<m.length;r++){if(m[r]>j.length||r===m.length-1){q+=j.slice(m[r-1]);break}q+=j.slice(m[r-1],m[r])+n}return q},getUpdatedCursorPosition:function i(j,k,l,m){__p&&__p();var n=0,o=0;while(n<l&&n<k.length&&o<j.length)if(k[n]===j[o]){n++;o++}else if(!/^\d+$/.test(k[n]))n++;else o++;if(j.substr(o,1)===m)o++;return o}};f.exports=h}),null);
__d("FBPaymentsCreditCardCVCFormField_DEPRECATED.react",["fbt","ix","Image.react","FBPaymentsFormField_DEPRECATED.react","FBPaymentsFormFieldUtils_DEPRECATED","PaymentMethodUtils","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.getSecondaryIcon=function(o){var p=void 0;if(!this.props.showSecondaryIcon)return null;if(this.isAmex())p=i("95525");else p=i("95527");return c("React").createElement(c("Image.react"),{height:20,src:p,width:30})}.bind(this);this.validate=function(o){var p=h._("Veuillez entrer un code de s\u00e9curit\u00e9 valide.");if(o.length<this.getLimit()){this.setState({errorMessage:p});return false}this.setState({errorMessage:null});return true}.bind(this);this.state={errorMessage:null}}m.prototype.isAmex=function(){var n=void 0;if(this.props.creditCardNumber)n=c("PaymentMethodUtils").getCardType(this.props.creditCardNumber);return n?n.name==="amex":false};m.prototype.getLimit=function(){var n=this.props.cscMaxLength;if(!n)n=this.isAmex()?4:3;return n};m.prototype.render=function(){__p&&__p();var n=void 0,o=void 0,p=void 0,q=this.getLimit();if(this.props.showLabel){p=h._("Code de s\u00e9curit\u00e9");o="0".repeat(q)}else if(this.props.showPlaceholder)o=h._("CVV");if(this.props.showIcon)n={normal:c("React").createElement(c("Image.react"),{height:12,src:i("94378"),width:12}),focused:c("React").createElement(c("Image.react"),{height:12,src:i("94377"),width:12})};return c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),babelHelpers["extends"]({autoCompleteName:"cc-csc",errorMessage:this.state.errorMessage,formatValue:c("FBPaymentsFormFieldUtils_DEPRECATED").stripNonDigits,getSecondaryIcon:this.getSecondaryIcon,hideSecondaryIconOnBlur:true,icon:n,label:p,limit:q,placeholder:o,ref:"input",showSecondaryIconAlways:this.props.showSecondaryIconAlways,validate:this.validate},this.props))};m.propTypes={creditCardNumber:l.string,cscMaxLength:l.number,initiallyFocused:l.bool,name:l.string.isRequired,onChange:l.func.isRequired,showFocusOutline:l.bool,showIcon:l.bool,showPlaceholder:l.bool,showSecondaryIcon:l.bool,showSecondaryIconAlways:l.bool};m.defaultProps={showFocusOutline:true,showIcon:true,showPlaceholder:true,showSecondaryIconAlways:false};f.exports=m}),null);
__d("FBPaymentsCreditCardExpDateFormField_DEPRECATED.react",["fbt","ix","Image.react","FBPaymentsFormField_DEPRECATED.react","FBPaymentsFormFieldUtils_DEPRECATED","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={errorMessage:null},this.validate=function(s){__p&&__p();var t=s.split("/"),u=new Date(),v=parseInt(u.getFullYear().toString().substring(2),10),w=u.getMonth()+1,x=parseInt(t[0],10),y=parseInt(t[1],10),z=h._("Veuillez saisir une date d\u2019expiration valide.");if(s.length!==5||!x||!y||isNaN(x)||isNaN(y)||x<1||x>12){this.setState({errorMessage:z});return false}if(y<v||y===v&&x<w){this.setState({errorMessage:z});return false}this.setState({errorMessage:null});return true}.bind(this),o}m.prototype.getLimit=function(){return 5};m.prototype.formatValue=function(n,o,p){__p&&__p();var q=String.fromCharCode(p);n=n.replace(/[^0-9\/]+/g,"");var r=n.split("/"),s=r[0],t=r[1];if(t&&t.length===4)n=s+"/"+t.substr(-2);if(!/^\d+$/.test(q)&&p!==191&&p!==111)return n;n=c("FBPaymentsFormFieldUtils_DEPRECATED").stripNonDigits(n);if(/^\d$/.test(n)&&n!=="0"&&n!=="1")n="0"+n+"/";else if(n.length>=2&&n.indexOf("/")===-1)n=n.substr(0,2)+"/"+n.substr(2,2);return n};m.prototype.render=function(){var n=void 0,o=void 0,p=void 0;if(this.props.showLabel)o=h._("Date d\u2019expiration");if(this.props.showPlaceholder)n=h._("MM\/AA");if(this.props.showIcon)p={normal:c("React").createElement(c("Image.react"),{height:12,src:i("94370"),width:12}),focused:c("React").createElement(c("Image.react"),{height:12,src:i("94369"),width:12})};return c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),babelHelpers["extends"]({autoCompleteName:"cc-exp",errorMessage:this.state.errorMessage,formatValue:this.formatValue,icon:p,label:o,limit:this.getLimit(),placeholder:n,ref:"input",validate:this.validate},this.props))};m.propTypes={initiallyFocused:l.bool,name:l.string.isRequired,onChange:l.func.isRequired,showIcon:l.bool,showPlaceholder:l.bool};m.defaultProps={showIcon:true,showPlaceholder:true};f.exports=m}),null);
__d("FBPaymentsPaymentMethodUtils",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getStringFromCreditCardTypeCode:function i(j){switch(j){case 65:return"AmericanExpress";case 68:return"Discover";case 74:return"JCB";case 77:return"MasterCard";case 86:return"Visa";default:return"Default"}}};f.exports=h}),null);
__d("FBPaymentsCreditCardNumberFormField_DEPRECATED.react",["fbt","ix","Image.react","FBPaymentsFormField_DEPRECATED.react","FBPaymentsFormFieldUtils_DEPRECATED","FBPaymentsPaymentMethodUtils","PaymentMethodUtils","React","intlList"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={errorMessage:null,showErrorOnStatusChange:false},this.calculateLimit=function(s){return c("PaymentMethodUtils").getCardType(s).digits+(this.getGrouping(s).length-2)}.bind(this),this.formatValue=function(s,t,u){return c("FBPaymentsFormFieldUtils_DEPRECATED").formatCardNumber(s,t,u,this.getGrouping(s)," ")}.bind(this),this.validate=function(s){__p&&__p();var t=this.isValidCardType(s),u=c("PaymentMethodUtils").isValidCCNumber(s),v=false,w=null,x=h._("Saisissez un num\u00e9ro de carte de cr\u00e9dit ou de d\u00e9bit valable.");if(s.length<this.calculateLimit(s))w=x;else if(!t&&!this.props.allowCredit)w=h._("Veuillez entrer une carte de d\u00e9bit Visa ou MasterCard. Les cartes de cr\u00e9dit ne sont pas autoris\u00e9es.");else if(!t||!u)w=x;var y=c("PaymentMethodUtils").getCardType(s).code,z=this.props.acceptedCardTypeCode;if(z&&!z.includes(y)){var A=z.map(c("FBPaymentsPaymentMethodUtils").getStringFromCreditCardTypeCode);w=h._({"*":"Les cartes {list of credit card type} sont accept\u00e9es.","_1":"Les cartes {list of credit card type} sont accept\u00e9es."},[h.param("list of credit card type",c("intlList")(A,c("intlList").CONJUNCTIONS.AND)),h.plural(z.length)]);v=true}this.setState({errorMessage:w,showErrorOnStatusChange:v});return!!(u&&t&&!this.props.binError)}.bind(this),this.getSecondaryIcon=function(s){__p&&__p();var t=void 0,u=void 0;if(!this.props.showSecondaryIcon)return null;u=c("PaymentMethodUtils").getCardType(s).name;switch(u){case"visa":t=i("95533");break;case"mc":t=i("95531");break;case"amex":t=i("95528");break;case"disc":t=i("95529");break;case"jcb":t=i("95530");break;default:t=i("95526");break}return c("React").createElement(c("Image.react"),{height:20,src:t,width:30})}.bind(this),o}m.prototype.getGrouping=function(n){__p&&__p();var o=[0,4,8,12,16],p=o;switch(c("PaymentMethodUtils").getCardType(n).name){case"visa":case"mc":case"disc":p=o;break;case"amex":p=[0,4,10,15];break;case"diners":p=[0,4,10,14];break;default:p=o;break}return p};m.prototype.isValidCardType=function(n){var o=["mc","visa","unknown"];if(this.props.allowCredit)o.push("diners","disc","jcb","amex");var p=c("PaymentMethodUtils").getCardType(n),q=p?p.name:"",r=o.indexOf(q)>=0;return r};m.prototype.getSaveError=function(){return this.props.binError||this.props.saveError};m.prototype.render=function(){__p&&__p();var n=h._("Num\u00e9ro de carte"),o=void 0,p=void 0,q=void 0;if(this.props.showLabel){p=n;o="0000 0000 0000 0000"}else if(this.props.showPlaceholder)o=n;if(this.props.showIcon)q={normal:c("React").createElement(c("Image.react"),{height:12,src:i("94352"),width:12}),focused:c("React").createElement(c("Image.react"),{height:12,src:i("94351"),width:12})};return c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),babelHelpers["extends"]({autoCompleteName:"cc-number",cursorPositionUpdater:c("FBPaymentsFormFieldUtils_DEPRECATED").getUpdatedCursorPosition,errorMessage:this.state.errorMessage,formatValue:this.formatValue,getSecondaryIcon:this.getSecondaryIcon,icon:q,label:p,limit:this.calculateLimit,placeholder:o,ref:"input",validate:this.validate,showErrorOnStatusChange:this.state.showErrorOnStatusChange,value:this.props.value},this.props,{saveError:this.getSaveError()}))};m.propTypes={allowCredit:l.bool,binError:l.oneOfType([l.string,l.object]),disabled:l.bool,shouldValidateBIN:l.bool,initiallyFocused:l.bool,name:l.string.isRequired,onChange:l.func.isRequired,showIcon:l.bool,showPlaceholder:l.bool,showSecondaryIcon:l.bool,value:l.string,acceptedCardTypeCode:l.arrayOf(l.number)};m.defaultProps={allowCredit:true,showIcon:true,showPlaceholder:true,showSecondaryIcon:false};f.exports=m}),null);
__d("FBPaymentsPostalCodeUtils",[],(function a(b,c,d,e,f,g){"use strict";var h={US:{placeholder:"00000",limit:5},FR:{placeholder:"00000",limit:5},TH:{placeholder:"00000",limit:5},VN:{placeholder:"000000",limit:6}},i={getPostalCodeMap:function j(){return h}};f.exports=i}),null);
__d("FBPaymentsCreditCardZipCodeFormField_DEPRECATED.react",["fbt","ix","FBPaymentsFormFieldUtils_DEPRECATED","FBPaymentsPostalCodeUtils","Image.react","FBPaymentsFormField_DEPRECATED.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.validate=function(o){var p=h._("Veuillez entrer un code postal ou zip valide.");if(this.state.regex&&!this.state.regex.test(o)){this.setState({errorMessage:p});return false}else{this.setState({errorMessage:null});return true}}.bind(this);this.state={errorMessage:null,regex:this.buildRegex()}}m.prototype.buildRegex=function(){if(this.props.postalRegex){var n=/^\/(.*)\/(\w*)/g.exec(this.props.postalRegex),o=n[0],p=n[1],q=n[2],r=q==="u"||q==="y"?undefined:q;return new RegExp(p,r)}return null};m.prototype.render=function(){__p&&__p();var n=h._("Code postal de facturation"),o=void 0,p=void 0,q=void 0,r=void 0,s=this.props.countryCode,t=c("FBPaymentsPostalCodeUtils").getPostalCodeMap();if(s&&t[s]){var u=t[s];o=u.placeholder;p=u.limit}if(this.props.showLabel)r=n;else if(this.props.showPlaceholder)o=n;if(this.props.showIcon)q={normal:c("React").createElement(c("Image.react"),{height:12,src:i("94410"),width:12}),focused:c("React").createElement(c("Image.react"),{height:12,src:i("94409"),width:12})};return c("React").createElement(c("FBPaymentsFormField_DEPRECATED.react"),babelHelpers["extends"]({autoCompleteName:"postal-code",errorMessage:this.state.errorMessage,formatValue:this.props.countryCode==="US"?c("FBPaymentsFormFieldUtils_DEPRECATED").stripNonDigits:null,icon:q,label:r,limit:p,placeholder:o,ref:"input",validate:this.validate},this.props))};m.propTypes={onChange:l.func.isRequired,name:l.string.isRequired,postalRegex:l.string,showIcon:l.bool,showPlaceholder:l.bool,countryCode:l.string};m.defaultProps={showIcon:true,showPlaceholder:true};f.exports=m}),null);
__d("FBPaymentsRiskContextStoreBase",["FBPaymentsDispatcher","FBPaymentsRiskContextActions","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="RISK_CONTEXT_KEY";h=babelHelpers.inherits(k,c("FluxLoadObjectStore"));i=h&&h.prototype;function k(){i.constructor.call(this,c("FBPaymentsDispatcher"))}k.prototype.reduce=function(l,m){var n=m.data;switch(m.type){case c("FBPaymentsRiskContextActions").types.RISK_CONTEXT_LOADED:return this.__handleOne(l,j,n);default:return l}};k.prototype.get=function(){return i.get.call(this,j)};k.prototype.__load=function(){this.__getAPI().fetchRiskContext()};k.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsRiskContextStoreBase","__getAPI")};f.exports=k}),null);
__d("FBPaymentsRiskContextStore",["FBPaymentsModulesAPI","FBPaymentsRiskContextStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsRiskContextStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsRiskThreatMetrixIframeBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getStores=function(){return[this.__getRiskContextStore()]};j.calculateState=function(){this.__getRiskContextStore().get()};j.__getRiskContextStore=function(){return c("abstractMethod")("FBPaymentsRiskThreatMetrixIframeBase","__getRiskContextStore")};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsRiskThreatMetrixIframe.react",["FBPaymentsRiskContextStore","FBPaymentsRiskThreatMetrixIframeBase.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsRiskThreatMetrixIframeBase.react"));i=h&&h.prototype;j.__getRiskContextStore=function(){return c("FBPaymentsRiskContextStore")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsCreditCardForm_DEPRECATED.react",["fbt","CreditCardFormParam","FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react","FBPaymentsCreditCardCVCFormField_DEPRECATED.react","FBPaymentsCreditCardExpDateFormField_DEPRECATED.react","FBPaymentsCreditCardNumberFormField_DEPRECATED.react","FBPaymentsCreditCardVerificationHelper","FBPaymentsCreditCardZipCodeFormField_DEPRECATED.react","FBPaymentsForm_DEPRECATED.react","FBPaymentsRiskThreatMetrixIframe.react","FBPaymentsWebdriverTestIDs","KappaWrapper","PaymentMethodVerifyFields","React","emptyFunction","immutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.handleValidation=function(n,o){var p=this.isZipCodeFieldRequired(o);if(!p)delete o[c("CreditCardFormParam").ZIP];this.props.onValidation(n,o);this.setState({formData:o,showZipCodeField:p})}.bind(this);this.state={formData:{},showZipCodeField:this.isZipCodeFieldRequired(m.prefilledFormData)}}l.prototype.componentWillMount=function(){c("KappaWrapper").start(6,3,0)};l.prototype.isVerifyMode=function(){return c("FBPaymentsCreditCardVerificationHelper").shouldVerifyFields(this.props.verifyFields)};l.prototype.isCreditCardNumberMasked=function(){return this.props.editMode||this.isVerifyMode()};l.prototype.isCreditCardNumberFocused=function(){return!this.props.editMode&&!this.isVerifyMode()&&this.props.autoFocus};l.prototype.isExpFocused=function(){return this.props.editMode};l.prototype.isExpDisabled=function(){var m=this.props.verifyFields,n=c("FBPaymentsCreditCardVerificationHelper").shouldVerifyExp(m);return this.isVerifyMode()&&!n};l.prototype.showExpField=function(){var m=this.props.prefilledFormData[c("CreditCardFormParam").CARD_EXPIRATION];if(this.isExpDisabled()&&!m)return false;return true};l.prototype.isZipCodeFieldRequired=function(m){if(!this.props.showCountryField)return this.props.showZipCodeField;var n=m[c("CreditCardFormParam").COUNTRY];return c("FBPaymentsCreditCardVerificationHelper").isFieldRequiredForCountry(this.props.additionalFields,n,c("PaymentMethodVerifyFields").ZIP)};l.prototype.isCVVFocused=function(){return c("FBPaymentsCreditCardVerificationHelper").shouldOnlyVerifyCVV(this.props.verifyFields)};l.prototype.getSaveErrors=function(){if(this.props.binError)return{general:{message:this.props.binError}};return this.props.saveErrors};l.prototype.render=function(){var m=this.props.compactMode,n=this.showExpField()?c("React").createElement(c("FBPaymentsCreditCardExpDateFormField_DEPRECATED.react"),{disabled:this.isExpDisabled(),initiallyFocused:this.isExpFocused(),name:c("CreditCardFormParam").CARD_EXPIRATION,onChange:c("emptyFunction"),required:true,width:m?25:50}):null,o=this.state.showZipCodeField,p=o&&this.props.showCountryField?50:100,q=o?c("React").createElement(c("FBPaymentsCreditCardZipCodeFormField_DEPRECATED.react"),{name:c("CreditCardFormParam").ZIP,onChange:c("emptyFunction"),required:true,countryCode:this.state.formData[c("CreditCardFormParam").COUNTRY],width:m?30:p,postalRegex:this.props.postalRegex}):null,r=this.props.showCountryField?c("React").createElement(c("FBPaymentsAddressCountrySelectorFormField_DEPRECATED.react"),{name:c("CreditCardFormParam").COUNTRY,onChange:c("emptyFunction"),required:true,size:"xlarge",width:p}):null,s=c("React").createElement(c("FBPaymentsForm_DEPRECATED.react"),{autoTab:this.props.autoTab,className:this.props.className,"data-testid":c("FBPaymentsWebdriverTestIDs").CREDIT_CARD_FORM,errorTitle:h._("Probl\u00e8me d\u2019enregistrement de la carte"),prefilledFormData:this.props.prefilledFormData,onFormFieldsChange:this.props.onFormFieldsChange,onValidation:this.handleValidation,saveErrors:this.getSaveErrors(),showIcons:this.props.showIcons,showLabels:this.props.showLabels,showPlaceholderOnFocus:this.props.showPlaceholderOnFocus,showSecondaryIcons:this.props.showSecondaryIcons,useGutters:this.props.useGutters},c("React").createElement(c("FBPaymentsCreditCardNumberFormField_DEPRECATED.react"),{allowCredit:this.props.allowCredit,binError:this.props.binError,disabled:this.isCreditCardNumberMasked(),initiallyFocused:this.isCreditCardNumberFocused(),name:c("CreditCardFormParam").CARD_NUMBER,onChange:c("emptyFunction"),required:true,width:m?75:100}),n,c("React").createElement(c("FBPaymentsCreditCardCVCFormField_DEPRECATED.react"),{initiallyFocused:this.isCVVFocused(),creditCardNumber:this.state.formData[c("CreditCardFormParam").CARD_NUMBER],cscMaxLength:this.props.cscMaxLength,name:c("CreditCardFormParam").CSC,onChange:c("emptyFunction"),required:true,width:m?25:50}),q,r);return c("React").createElement("div",null,s,c("React").createElement(c("FBPaymentsRiskThreatMetrixIframe.react"),null))};l.propTypes={additionalFields:k.instanceOf(c("immutable").List),allowCredit:k.bool,autoFocus:k.bool,autoTab:k.bool,binError:k.oneOfType([k.string,k.object]),className:k.string,compactMode:k.bool,cscMaxLength:k.number,editMode:k.bool,onFormFieldsChange:k.func,onValidation:k.func,postalRegex:k.string,prefilledFormData:k.object,saveErrors:k.object,showCountryField:k.bool,showIcons:k.bool,showLabels:k.bool,showPlaceholderOnFocus:k.bool,showSecondaryIcons:k.bool,showZipCodeField:k.bool,useGutters:k.bool,verifyFields:k.arrayOf(k.oneOf(Object.values(c("PaymentMethodVerifyFields"))))};l.defaultProps={autoTab:false,autoFocus:true,allowCredit:true,binError:"",compactMode:false,editMode:false,onValidation:c("emptyFunction"),postalRegex:"/^(\\d{5})$/",prefilledFormData:{},showCountryField:false,showIcons:true,showSecondaryIcons:false,showLabels:false,showPlaceholderOnFocus:false,showZipCodeField:true,useGutters:false};f.exports=l}),null);
__d("FBPaymentsCreditCardVerificationForm_DEPRECATED.react",["FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationHelper","PaymentMethodVerifyFields","React","Set"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;k.prototype.getVerifyFields=function(){return Array.from(new(c("Set"))([c("PaymentMethodVerifyFields").CSC].concat(this.props.verifyFields)))};k.prototype.render=function(){var l=this.getVerifyFields(),m=c("FBPaymentsCreditCardVerificationHelper").getVerifyFieldsMessage(l),n=c("FBPaymentsCreditCardVerificationHelper").shouldVerifyZIP(l);return c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{autoTab:true,cscMaxLength:this.props.cscMaxLength,onValidation:this.props.onValidation,prefilledFormData:this.props.prefilledFormData,saveErrors:this.props.saveErrors||m,showCountryField:n,showIcons:false,showLabels:true,showZipCodeField:n,useGutters:this.props.useGutters,verifyFields:l})};function k(){h.apply(this,arguments)}k.propTypes={cscMaxLength:j.number,onValidation:j.func.isRequired,prefilledFormData:j.object.isRequired,saveErrors:j.object,useGutters:j.bool,verifyFields:j.arrayOf(j.oneOf(Object.values(c("PaymentMethodVerifyFields")))).isRequired};k.defaultProps={cscMaxLength:3,useGutters:true,verifyFields:[c("PaymentMethodVerifyFields").CSC]};f.exports=k}),null);
__d("FBPaymentsPaymentMethodIcon.react",["ix","FBPaymentsMethodType","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l={small:[30,20],square:[32,32],normal:[36,24],large:[48,32]},m=h("95526");i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o)}n.prototype.getImageSrc=function(){switch(this.props.methodType){case c("FBPaymentsMethodType").AMEX:return{small:h("95528"),square:h("95503"),normal:h("95501"),large:h("95502")}[this.props.size];case c("FBPaymentsMethodType").DISC:return{small:h("95529"),square:h("95514"),normal:h("95512"),large:h("95513")}[this.props.size];case c("FBPaymentsMethodType").MC:return{small:h("95531"),square:h("95523"),normal:h("95521"),large:h("95522")}[this.props.size];case c("FBPaymentsMethodType").VISA:return{small:h("95533"),square:h("95539"),normal:h("95537"),large:h("95538")}[this.props.size];case c("FBPaymentsMethodType").GENERIC_CARD:return{small:h("95526"),square:m,normal:m,large:m}[this.props.size];case c("FBPaymentsMethodType").JCB:return{small:h("95530"),square:h("95520"),normal:h("95518"),large:h("95519")}[this.props.size];case c("FBPaymentsMethodType").PAYPAL:return{small:h("95532"),square:h("95536"),normal:h("95534"),large:h("95535")}[this.props.size];default:return m}};n.prototype.render=function(){var o=l[this.props.size],p=o[0],q=o[1];return c("React").createElement(c("Image.react"),{height:q,src:this.getImageSrc(),width:p})};n.propTypes={methodType:k.oneOf(Object.values(c("FBPaymentsMethodType"))).isRequired,size:k.oneOf(["small","square","normal","large"]).isRequired};n.defaultProps={size:"normal"};f.exports=n}),null);
__d("FBPaymentsPaymentMethodListItemViewBase.react",["FBPaymentsMethodType","React"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l)}k.propTypes={iconURI:j.string,image:j.string,isSelected:j.bool,onClick:j.func,paymentMethodType:j.oneOf(Object.values(c("FBPaymentsMethodType"))),subtitle:j.node,title:j.node.isRequired};f.exports=k}),null);
__d("FBPaymentsPaymentMethodListItemView.react",["cx","FBPaymentsPaymentMethodIcon.react","FBPaymentsPaymentMethodListItemViewBase.react","Image.react","Layout.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m="data:image/png;base64,";i=babelHelpers.inherits(n,c("FBPaymentsPaymentMethodListItemViewBase.react"));j=i&&i.prototype;n.prototype.getIcon=function(){var o=this.props.image;if(o)return c("React").createElement(c("Image.react"),{className:"_4xq7",src:m+o});return c("React").createElement(c("FBPaymentsPaymentMethodIcon.react"),{methodType:this.props.paymentMethodType})};n.prototype.getFontSize=function(){return"small"};n.prototype.render=function(){return c("React").createElement(c("Layout.react"),{className:"_4v_s",onClick:this.props.onClick},c("React").createElement(k,{className:"_3-91"},this.getIcon()),c("React").createElement(l,{className:"_4v_t"},c("React").createElement(c("XUIGrayText.react"),{className:"_4v_r",display:"block",shade:"dark",size:this.getFontSize()},this.props.title),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:this.getFontSize()},this.props.subtitle)))};function n(){i.apply(this,arguments)}f.exports=n}),null);
__d("ZipcodeCollectIndicatorFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REQUIRED:"required",HIDDEN:"hidden",OPTIONAL:"optional"})}),null);
__d("FBPaymentsPaymentMethodSelectorViewBase.react",["fbt","invariant","ix","FBPaymentsLinkHelper","FBPaymentsLoggerBase","FBPaymentsLoggerConstants","FBPaymentsMethodType","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodTypes","immutable","React","ZipcodeCollectIndicatorFields"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("immutable").List,n=c("FBPaymentsLoggerConstants").LoggerEvent,o=c("FBPaymentsLoggerConstants").LoggerFlowStep,p=c("React").PropTypes;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.handleCreditCardFormValidation=function(w,x){var y={newPaymentOptionType:c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD,data:x||{},isValid:w};this.props.onNewPaymentOptionFormDataUpdated(y)}.bind(this),s}q.prototype.isNUXInlineCardFormMode=function(){return this.props.isNUXInlineCardFormMode};q.prototype.isPUXInlineCardFormMode=function(){return this.props.isPUXInlineCardFormMode};q.prototype.shouldShowCardIcons=function(){return this.props.shouldShowCardIcons};q.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};q.prototype.enableCardFormAutoTabbing=function(){return this.props.enableCardFormAutoTabbing};q.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};q.prototype.getAdditionalFields=function(){var r=this.getNewPaymentOptions(),s=r.find(function(t){return t.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});return s?s.additionalFields:null};q.prototype.getPaymentMethods=function(){var r=this.props.paymentMethodsInfo||{};return r.paymentMethods||m()};q.prototype.getNewPaymentOptions=function(){var r=this.props.paymentMethodsInfo||{};return r.newPaymentOptions||m()};q.prototype.getPaymentMethodSubtype=function(r){var s=r.type;Object.values(c("FBPaymentsPaymentMethodTypes")).includes(s)||i(0);switch(s){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return r.cardType;case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return c("FBPaymentsMethodType").PAYPAL;case c("FBPaymentsPaymentMethodTypes").MANUAL_TRANSFER:return c("FBPaymentsMethodType").MANUAL_TRANSFER;case c("FBPaymentsPaymentMethodTypes").NET_BANKING:return c("FBPaymentsMethodType").NET_BANKING;default:return""}};q.prototype.getShowZipCodeField=function(){var r=this.getNewPaymentOptions(),s=r.find(function(t){return t.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD});if(!s)return false;return s.zipFieldProperty!==c("ZipcodeCollectIndicatorFields").HIDDEN};q.prototype.getCancelButtonText=function(){return h._("Annuler")};q.prototype.getSaveButtonText=function(){switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return h._("Se connecter");default:return h._("Enregistrer")}};q.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};q.prototype.getBankNameLabel=function(){return h._("Nom de la banque")};q.prototype.getPayButtonText=function(){return h._("Payer")};q.prototype.getPayPalConfirmButtonText=function(){return h._("Confirmer et payer")};q.prototype.getPaymentMethodLabel=function(){return h._("Moyen de paiement")};q.prototype.getAddPaymentMethodLabel=function(){return h._("Ajouter un moyen de paiement")};q.prototype.getAddPaymentMethodNUXLabel=function(){return h._("Ajouter un moyen de paiement")};q.prototype.getAddCardLabel=function(){if(this.isPUXInlineCardFormMode())return h._("Utiliser une nouvelle carte");return h._("Ajouter une carte")};q.prototype.getNewPaymentOptionTabLabel=function(r){var s=r.getCallToActionTitle();if(this.props.isDirectChargeAllowed)if(r.type===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD)s=h._("Payer par carte de d\u00e9bit ou de cr\u00e9dit");return s};q.prototype.getAddPayPalLabel=function(){if(this.isPUXInlineCardFormMode())return h._("Utiliser PayPal");return h._("Ajouter un compte PayPal")};q.prototype.getAddPaymentMethodHeader=function(){return h._("Ajouter un moyen de paiement")};q.prototype.getDefaultBankSelectorOptionLabel=function(){return h._("S\u00e9lectionner une banque")};q.prototype.getHardErrorMessage=function(){return h._("Veuillez s\u00e9lectionner un moyen de paiement valide.")};q.prototype.getPayPalLogoSrc=function(){return j("95544")};q.prototype.getPayPalBrandSrc=function(){return j("303560")};q.prototype.getPayPalConnectMessage=function(){return h._("Connectez-vous \u00e0 votre compte Paypal pour terminer ce paiement sur Facebook.")};q.prototype.getPayPalConsentTitle=function(){return h._("Mise \u00e0 jour de vos paiements pr\u00e9-approuv\u00e9s")};q.prototype.getPayPalConsentSubtitle=function(){return h._("Vous pouvez maintenant utiliser votre autorisation de paiements Facebook pr\u00e9-approuv\u00e9s d\u00e8s que PayPal est disponible quand vous payez sur Facebook.")};q.prototype.getPayPalConsentPoliciesText=function(r){return h._("Voir les {=Paypal Policies} et les droits de votre moyen de paiement.",[h.param("=Paypal Policies",c("React").createElement("a",{href:r,target:"_blank"},h._("R\u00e8glements PayPal")))])};q.prototype.getSecurityMessage=function(){var r=c("React").createElement("a",{href:c("FBPaymentsLinkHelper").getPayerProtectionURI(),onClick:function(){switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:this.props.logger.setFlowStep(o.ADD_CARD).setEventName(n.TERMS_CLICK).log();break;case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:this.props.logger.setFlowStep(o.ADD_PAYPAL).setEventName(n.TERMS_CLICK).log();break}}.bind(this),target:"_blank"},h._("En savoir plus"));if(this.props.isDirectChargeAllowed)return h._("Nous utilisons des transmissions s\u00e9curis\u00e9es et un syst\u00e8me de stockage chiffr\u00e9 pour prot\u00e9ger vos informations personnelles. {Link. =Learn more}",[h.param("Link. =Learn more",r)]);return h._("Vos informations de paiement sont chiffr\u00e9es et stock\u00e9es avec une s\u00e9curit\u00e9 de niveau bancaire. {Link. =Learn more}",[h.param("Link. =Learn more",r)])};q.prototype.getCSCVerificationMessage=function(r){if(r===4)return h._("Pour votre s\u00e9curit\u00e9, veuillez entrer \u00e0 nouveau le code de s\u00e9curit\u00e9 \u00e0 quatre chiffres qui figure au recto de votre carte.");else return h._("Pour votre s\u00e9curit\u00e9, veuillez entrer \u00e0 nouveau le code de s\u00e9curit\u00e9 \u00e0 trois chiffres qui figure au dos de votre carte.")};q.propTypes={billingCountry:p.string,convertPayPalErrorMessage:p.node,isActive:p.bool.isRequired,isActiveForVerification:p.bool.isRequired,isConvertingPayPal:p.bool.isRequired,isCreditCardVerificationDataValid:p.bool.isRequired,isDirectChargeAllowed:p.bool.isRequired,isLoading:p.bool.isRequired,isNUXInlineCardFormMode:p.bool.isRequired,isPUXInlineCardFormMode:p.bool.isRequired,shouldShowCardIcons:p.bool.isRequired,shouldShowFieldLevelErrors:p.bool.isRequired,enableCardFormAutoTabbing:p.bool.isRequired,isNUXInlineCardFormSavingCreditCard:p.bool,isPUXNewPaymentOptionTabEnabled:p.bool.isRequired,isSaving:p.bool.isRequired,logger:p.instanceOf(c("FBPaymentsLoggerBase")).isRequired,newPaymentOptionData:p.object,newPaymentOptionSaveEnabled:p.bool.isRequired,onAddPaymentMethodClick:p.func.isRequired,onBankClick:p.func,onCancelActiveForVerificationClick:p.func.isRequired,onCancelActiveStateClick:p.func.isRequired,onConfirmCreditCardVerification:p.func.isRequired,onConvertPayPalBAToCIB:p.func.isRequired,onCreditCardVerificationFormValidation:p.func.isRequired,onExtensionWidthChange:p.func.isRequired,onHideCardForm:p.func.isRequired,onNewPaymentOptionClick:p.func.isRequired,onNewPaymentOptionFormDataUpdated:p.func,onPaymentMethodClick:p.func.isRequired,onRowClicked:p.func.isRequired,onSaveCreditCardCheckboxClick:p.func.isRequired,onSaveNewPaymentOption:p.func,onShowCardForm:p.func.isRequired,paymentMethodsInfo:p.object,saveErrors:p.object,selectedNewPaymentOptionType:p.string,selectedPaymentMethod:p.object,selectedPaymentMethodID:p.string,selectedPaymentMethodOrNewPaymentOption:p.object,showForm:p.bool,showHardError:p.bool};f.exports=q}),null);
__d("FBPaymentsTabBar.react",["cx","invariant","React","TabBar.react","TabBarItem.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(p){k.constructor.call(this,p);var q=p.tabs,r=p.defaultActiveTabKey;q.size!==0||i(0);r=r||q.first().key;this.state={defaultActiveTabKey:r};this.props.onTabClick(r)}n.prototype.$FBPaymentsTabBar1=function(p){return c("React").createElement(o,{key:p.key},p.label)};n.prototype.render=function(){var p=this.props.tabs,q=p.size===1;return c("React").createElement("div",{className:this.props.className},c("React").createElement(c("TabBar.react"),{activeTabKey:this.props.activeTabKey,className:"_24a0"+(!q?" _hl-":"")+(q?" _hl_":""),defaultActiveTabKey:this.state.defaultActiveTabKey,onTabClick:this.props.onTabClick},p.map(this.$FBPaymentsTabBar1)))};l=babelHelpers.inherits(o,c("React").PureComponent);m=l&&l.prototype;o.prototype.render=function(){return c("React").createElement(c("TabBarItem.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_24a1")}),this.props.children)};function o(){l.apply(this,arguments)}f.exports=n}),null);
__d("FBPaymentsPaymentMethodSelectorView.react",["cx","fbt","invariant","CreditCardFormParam","FBPaymentsAddButton.react","FBPaymentsConsentView.react","FBPaymentsCreditCardForm_DEPRECATED.react","FBPaymentsCreditCardVerificationForm_DEPRECATED.react","FBPaymentsLoadingView.react","FBPaymentsLoggerConstants","FBPaymentsNewPaymentOptionTypes","FBPaymentsPaymentMethodIcon.react","FBPaymentsPaymentMethodListItemView.react","FBPaymentsPaymentMethodSelectorViewBase.react","FBPaymentsPaymentMethodTypes","FBPaymentsRichSelector.react","FBPaymentsTabBar.react","FBPaymentsWebdriverTestIDs","Image.react","InputLabel.react","Layout.react","PaymentModulesGating","React","XUIButton.react","XUICheckboxInput.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","idx"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("FBPaymentsRichSelector.react").Option,n=c("Layout.react").Column,o=c("Layout.react").FillColumn,p=c("FBPaymentsLoggerConstants").LoggerEvent,q=c("FBPaymentsLoggerConstants").LoggerFlowStep,r="add_payment_method",s=650;k=babelHelpers.inherits(t,c("FBPaymentsPaymentMethodSelectorViewBase.react"));l=k&&k.prototype;function t(){__p&&__p();var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.handleBankSelectorChange=function(z){var A=this.props.selectedPaymentMethod,B=A&&A.type;if(!A||B!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return;A.banks||j(0);var C=z.value,D=A.banks.find(function(E){return E.code===C});this.props.onBankClick&&this.props.onBankClick(D)}.bind(this),this.handlePaymentMethodSelectorChange=function(z){var A,B=this;if(z.value===r){this.props.onAddPaymentMethodClick();return}else(function(){var C=z.value,D=B.getPaymentMethods(),E=D.find(function(F){return F.id===C});B.props.onPaymentMethodClick(E)})()}.bind(this),this.handleTogglePaymentMethodsDropdown=function(z){if(z)this.props.logger.setFlowStep(q.SELECT_PAYMENT_METHOD).setEventName(p.INIT).log()}.bind(this),this.renderPaymentMethodListItem=function(z){var A=c("React").createElement(c("Layout.react"),null,c("React").createElement(n,{className:"_3-90"},c("React").createElement(c("FBPaymentsPaymentMethodIcon.react"),{methodType:this.getPaymentMethodSubtype(z),size:"small"})),c("React").createElement(o,null,z.getDisplayLabel()));return c("React").createElement(m,{key:z.id,label:A,value:z.id},c("React").createElement(c("FBPaymentsPaymentMethodListItemView.react"),{paymentMethodType:this.getPaymentMethodSubtype(z),subtitle:z.getDisplaySubtitle(),title:z.getDisplayTitle()}))}.bind(this),this.handleNewPaymentOptionSelectorChange=function(z){var A=z.value;this.props.onNewPaymentOptionClick(A)}.bind(this),this.handleNewPaymentOptionTabClick=function(z){this.props.onNewPaymentOptionClick(z)}.bind(this),v}t.prototype.isPUXNewPaymentOptionTabEnabled=function(){return this.props.isPUXNewPaymentOptionTabEnabled||c("PaymentModulesGating").isEnabledForPaymentMethodTabSelectorWWW};t.prototype.renderBankListItem=function(u){return c("React").createElement(m,{key:u.code,label:u.name,value:u.code},c("React").createElement(c("FBPaymentsPaymentMethodListItemView.react"),{image:u.image,title:u.name}))};t.prototype.renderBanksDropdown=function(){var u,v=this.props.selectedPaymentMethod,w=v&&v.type;if(!v||w!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;v.banks||j(0);var x=(u=this.props)!=null?(u=u.selectedBank)!=null?u.code:u:u,y=this.getDefaultBankSelectorOptionLabel();return c("React").createElement(c("FBPaymentsRichSelector.react"),{className:"_3-8x _52jv",defaultValue:x,multiple:false,name:"bank_selector",onChange:this.handleBankSelectorChange},c("React").createElement(m,{key:"default",label:y,value:""},y),v.banks.map(this.renderBankListItem))};t.prototype.renderBanksLabel=function(){var u=this.props.selectedPaymentMethod,v=u&&u.type;if(!u||v!==c("FBPaymentsPaymentMethodTypes").NET_BANKING)return null;return c("React").createElement(c("XUIGrayText.react"),{className:"_3-8y",display:"block",size:"small"},this.getBankNameLabel())};t.prototype.renderSaveCardCheckbox=function(){return c("React").createElement("div",{className:"_1ghk"},c("React").createElement(c("InputLabel.react"),{className:"_s8u",label:i._("Enregistrer cette carte pour des paiements plus rapides sur Facebook")},c("React").createElement(c("XUICheckboxInput.react"),{checked:this.props.isNUXInlineCardFormSavingCreditCard,name:"cc_save_card",onChange:this.props.onSaveCreditCardCheckboxClick})))};t.prototype.renderPaymentMethodsNUXView=function(){if(this.isNUXInlineCardFormMode())return this.renderInlineCardForm();else return this.renderAddPaymentMethodButton()};t.prototype.renderInlineCardForm=function(){return c("React").createElement("div",null,this.renderNewPaymentOptionsTab(),c("React").createElement("div",{className:"_1ghk"},this.renderNewPaymentOptionViewTabContent()))};t.prototype.renderAddPaymentMethodButton=function(){return c("React").createElement(c("FBPaymentsAddButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_BUTTON,label:this.getAddPaymentMethodNUXLabel(),onClick:this.props.onAddPaymentMethodClick})};t.prototype.renderAddPaymentMethodListItem=function(){var u=this.getNewPaymentOptions();if(u.size===0)return null;var v=this.getAddPaymentMethodLabel();return c("React").createElement(m,{className:"_52jw _5kyc",clickable:false,"data-testid":c("FBPaymentsWebdriverTestIDs").ADD_PAYMENT_METHOD_LIST_ITEM,key:r,label:v,value:r},c("React").createElement(c("XUIButton.react"),{label:v,onClick:this.props.onAddPaymentMethodClick,size:"large",use:"confirm"}))};t.prototype.renderPaymentMethods=function(){var u=this.props.paymentMethodsInfo;if(this.props.isLoading||!u)return c("React").createElement(c("XUISpinner.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_LOADING_INDICATOR});var v=u.paymentMethods;if(v.size===0)return this.renderPaymentMethodsNUXView();var w=this.props.selectedPaymentMethodID?this.props.selectedPaymentMethodID:r;return c("React").createElement(c("FBPaymentsRichSelector.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHODS_DROPDOWN,defaultValue:w,multiple:false,name:"payment_method_selector",onChange:this.handlePaymentMethodSelectorChange,onToggleLayer:this.handleTogglePaymentMethodsDropdown},v.map(this.renderPaymentMethodListItem),this.renderAddPaymentMethodListItem(),this.renderSecurityMessageListItem())};t.prototype.renderNewPaymentOptionListItem=function(u){return c("React").createElement(m,{key:u.type,label:u.getCallToActionTitle(),value:u.type},c("React").createElement(c("XUIGrayText.react"),{shade:"dark"},u.getCallToActionTitle()))};t.prototype.renderNewPaymentOptionView=function(){var u;switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:return this.renderAddCreditCardForm();case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:var v=(u=this.props.saveErrors)!=null?u.message:u,w=v?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},v):null;return w;default:return j(false,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};t.prototype.renderSecurityMessageCreditCard=function(){var u=this.props.isDirectChargeAllowed;return c("React").createElement(c("XUIGrayText.react"),{className:"_2pic"+(u?" _s8v":""),display:"block",shade:"light",size:"small"},this.getSecurityMessage())};t.prototype.renderNewPaymentOptionViewTabContent=function(){var u="_52ju _1ghk";switch(this.props.selectedNewPaymentOptionType){case c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD:if(this.props.isDirectChargeAllowed)return c("React").createElement("div",{className:u},this.renderAddCreditCardForm(),this.renderSaveCardCheckbox(),this.renderSecurityMessageCreditCard());else return c("React").createElement("div",{className:u},this.renderAddCreditCardForm(),this.renderSecurityMessageCreditCard());case c("FBPaymentsNewPaymentOptionTypes").NEW_PAYPAL:return c("React").createElement("div",{className:u},this.renderAddPayPalTabContent());default:return j(false,"Unhandled new payment option type: %s",this.props.selectedNewPaymentOptionType)}};t.prototype.renderAddPayPalTabContent=function(){var u,v=(u=this.props.saveErrors)!=null?u.message:u,w=v?c("React").createElement(c("XUINotice.react"),{className:"_3-96",use:"warn"},v):null;return c("React").createElement("div",null,w,c("React").createElement("div",{className:"_2pid _3yor"},c("React").createElement(c("Image.react"),{src:this.getPayPalBrandSrc()}),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"medium"},this.getPayPalConnectMessage()),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"medium",size:"medium"},this.getSecurityMessage())))};t.prototype.renderNewPaymentOptionsTab=function(){var u=this.getNewPaymentOptions();if(u.size===0)return null;var v=u.map(function(x){return{label:this.getNewPaymentOptionTabLabel(x),key:x.type}}.bind(this)),w=this.isNUXInlineCardFormMode();return c("React").createElement(c("FBPaymentsTabBar.react"),{activeTabKey:this.props.selectedNewPaymentOptionType,className:(w&&v.size>1&&!this.props.isDirectChargeAllowed?"_2owm":"")+(!w?" _2pid":"")+" _3ro0",defaultActiveTabKey:this.props.selectedNewPaymentOptionType,onTabClick:this.handleNewPaymentOptionTabClick,tabs:v})};t.prototype.renderNewPaymentOptionsDropdown=function(){var u=this.getNewPaymentOptions();if(u.size===0)return null;return c("React").createElement(c("FBPaymentsRichSelector.react"),{className:"_2pio",defaultValue:this.props.selectedNewPaymentOptionType,multiple:false,name:"new_payment_options_selector",onChange:this.handleNewPaymentOptionSelectorChange},u.map(this.renderNewPaymentOptionListItem))};t.prototype.renderAddPaymentMethod=function(){var u=this.getSecurityMessage(),v=this.isPUXNewPaymentOptionTabEnabled()?c("React").createElement("div",null,c("React").createElement("div",{className:"_1ghk _420v _2pi9"},this.renderNewPaymentOptionsTab()),c("React").createElement("div",{className:"_420v _2pio _2pi9"},this.renderNewPaymentOptionViewTabContent())):c("React").createElement("div",{className:"_1j8c"},c("React").createElement("div",{className:"_2pio _1ghk"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small",weight:"bold"},this.getAddPaymentMethodHeader()),c("React").createElement(c("XUIGrayText.react"),{className:"_1ghk",display:"block",shade:"light",size:"small"},u)),this.renderNewPaymentOptionsDropdown(),this.renderNewPaymentOptionView());return c("React").createElement("div",{className:"_1jnq"},c("React").createElement(c("FBPaymentsLoadingView.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SAVING_PAYMENT_METHOD_INDICATOR,overlay:true,visible:this.props.isSaving}),v,c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveStateClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{"data-testid":c("FBPaymentsWebdriverTestIDs").SAVE_PAYMENT_METHOD_BUTTON,disabled:!this.props.newPaymentOptionSaveEnabled||this.props.isSaving,label:this.getSaveButtonText(),onClick:this.props.onSaveNewPaymentOption,size:"large",use:"confirm"})))};t.prototype.renderSecurityMessageListItem=function(){return c("React").createElement(m,{className:"_2y76 _5kyc",clickable:false,key:"security_message"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getSecurityMessage()))};t.prototype.renderAddCreditCardForm=function(){var u={},v=c("PaymentModulesGating").isEnabledForCreditCardCountrySelectorWWW;if(v)u[c("CreditCardFormParam").COUNTRY]=this.props.billingCountry;var w=this.props.newPaymentOptionData||{};if(w.newPaymentOptionType===c("FBPaymentsNewPaymentOptionTypes").NEW_CREDIT_CARD)u=babelHelpers["extends"]({},u,w.data);return c("React").createElement(c("FBPaymentsCreditCardForm_DEPRECATED.react"),{additionalFields:this.getAdditionalFields(),allowCredit:true,autoTab:true,className:"_3yor",compactMode:false,editMode:false,onValidation:this.handleCreditCardFormValidation,prefilledFormData:u,saveErrors:this.props.saveErrors,showCountryField:v,showIcons:false,showLabels:true,showPlaceholderOnFocus:false,showSecondaryIcons:true,showZipCodeField:this.getShowZipCodeField(),useGutters:true})};t.prototype.renderPayPalConsentView=function(u){this.props.onExtensionWidthChange(s);var v=void 0;if(this.props.convertPayPalErrorMessage)v=c("React").createElement(c("XUINotice.react"),{className:"_q-q",use:"warn"},this.props.convertPayPalErrorMessage);return c("React").createElement("div",{className:"_1jnq"},v,c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isConvertingPayPal}),c("React").createElement(c("FBPaymentsConsentView.react"),{consentContent:u.cibConsentText,logoSrc:this.getPayPalLogoSrc(),subtitle:this.getPayPalConsentSubtitle(),termsAndPoliciesText:this.getPayPalConsentPoliciesText(u.cibTermsUrl),title:this.getPayPalConsentTitle()}),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{label:this.getPayPalConfirmButtonText(),onClick:function(){this.props.onConvertPayPalBAToCIB(u)}.bind(this),size:"large",use:"confirm"})))};t.prototype.renderCreditCardCSCVerificationView=function(u){var v=u.zip,w=u.countryCode,x={};x[c("CreditCardFormParam").CARD_NUMBER]=u.getCreditCardNumberMask();x[c("CreditCardFormParam").CARD_EXPIRATION]=u.getFormattedExpiration();x[c("CreditCardFormParam").ZIP]=v;x[c("CreditCardFormParam").COUNTRY]=w||this.props.billingCountry;var y=u.getCscMaxLength();return c("React").createElement("div",{className:"_1jnq"},c("React").createElement("div",{className:"_2ph_"},c("React").createElement(c("FBPaymentsCreditCardVerificationForm_DEPRECATED.react"),{cscMaxLength:y,onValidation:this.props.onCreditCardVerificationFormValidation,prefilledFormData:x,saveErrors:this.props.saveErrors,verifyFields:u.getVerifyFields()}),c("React").createElement(c("XUIGrayText.react"),{className:"_2pie",display:"block",size:"small",shade:"light"},this.getCSCVerificationMessage(y))),c("React").createElement("div",{className:"_52jw _2ph_ _5kyc"},c("React").createElement(c("XUIButton.react"),{className:"_2-uy",label:this.getCancelButtonText(),onClick:this.props.onCancelActiveForVerificationClick,size:"large"}),c("React").createElement(c("XUIButton.react"),{disabled:!this.props.isCreditCardVerificationDataValid,label:this.getPayButtonText(),onClick:this.props.onConfirmCreditCardVerification,size:"large",use:"confirm"})),c("React").createElement(c("FBPaymentsLoadingView.react"),{overlay:true,visible:this.props.isSaving}))};t.prototype.render=function(){__p&&__p();if(this.props.isActiveForVerification){var u=this.props.selectedPaymentMethod;u||j(0);switch(u.type){case c("FBPaymentsPaymentMethodTypes").CREDIT_CARD:return this.renderCreditCardCSCVerificationView(u);case c("FBPaymentsPaymentMethodTypes").PAYPAL_BILLING_AGREEMENT:return this.renderPayPalConsentView(u);default:return j(false,"Unsupported payment method type for verification: %s",u.type)}}if(this.props.isActive)return this.renderAddPaymentMethod();var v=this.isNUXInlineCardFormMode(),w=v?null:c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getPaymentMethodLabel());return c("React").createElement("div",{className:"__j9 _2ph_","data-testid":c("FBPaymentsWebdriverTestIDs").PAYMENT_METHOD_EXTENSION},w,c("React").createElement("div",{className:(!v?"_3-8x":"")+" _52jv"},this.renderPaymentMethods()),this.renderBanksLabel(),this.renderBanksDropdown())};f.exports=t}),null);
__d("FBPaymentsPaymentMethodStoreBase",["FBPaymentsDispatcher","FBPaymentsPaymentMethodActions","FBPaymentsPaymentMethodsInfo","FBPaymentsPayPalBillingAgreement","FBPaymentsPayPalBillingAgreementTypes","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"));this.$FBPaymentsPaymentMethodStoreBase1=null}j.prototype.reduce=function(k,l){__p&&__p();var m=l.data,n=void 0;switch(l.type){case c("FBPaymentsPaymentMethodActions").types.FETCH_PAYMENT_METHODS:n=this.makeImmutableKey(m);var o=this.getCached(n);if(o.isEmpty()){this.get(m);return k}else{this.__load(n);return this.__setUpdating(k,[n])}case c("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_LOADED:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.paymentMethodsInfo);case c("FBPaymentsPaymentMethodActions").types.PAYMENT_METHODS_ERROR:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.error);case c("FBPaymentsPaymentMethodActions").types.CONVERT_PAYPAL_BA_TO_CIB:n=this.makeImmutableKey(m.key);var p=this.getCached(n),q=p.getValueEnforcing(),r=q.paymentMethods;r=r.update(r.findIndex(function(s){return s.id===m.payPalBAID}),function(s){return s.set(c("FBPaymentsPayPalBillingAgreement").MutableProperties.BA_TYPE,c("FBPaymentsPayPalBillingAgreementTypes").CIB)});q=q.set(c("FBPaymentsPaymentMethodsInfo").MutableProperties.PAYMENT_METHODS,r);p=p.setValue(q);return k.set(n,p);default:return k}};j.prototype.makeImmutableKey=function(k){return c("immutable").fromJS(k)};j.prototype.get=function(k,l){this.$FBPaymentsPaymentMethodStoreBase1=l;var m=this.makeImmutableKey(k);return i.get.call(this,m)};j.prototype.__load=function(k){var l=k.toJS();this.__getAPI().fetchPaymentMethodsInfo(l,this.$FBPaymentsPaymentMethodStoreBase1)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPaymentMethodStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsPaymentMethodStore",["FBPaymentsModulesAPI","FBPaymentsPaymentMethodStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPaymentMethodStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("PaypalPopupManager",[],(function a(b,c,d,e,f,g){var h={_instances:{},register:function i(j,k){Object.prototype.hasOwnProperty.call(this._instances,j);this._instances[j]=k},processPopup:function i(j){var k=j.instance_id;!Object.prototype.hasOwnProperty.call(this._instances,k);var l=this._instances[k];l.close(j)}};f.exports=h}),null);
__d("XPaymentsPaypalInitController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/payments/paypal_init/",{purchase_type:{type:"String"},is_dg_flow:{type:"Bool",defaultValue:false},is_dg_flow_final_action:{type:"Bool",defaultValue:false},use_payment_engine:{type:"Bool",defaultValue:false},item_title:{type:"String"},item_desc:{type:"String"},payment_type:{type:"Enum",enumType:1},session_id:{type:"String"}})}),null);
__d("PaypalPopup",["PopupWindow","URI","guid","PaypalPopupManager","XPaymentsPaypalInitController"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();this.initData=i;this.pollingInterval=100;this.isDigitalGoodsFlow=true;this.isFinalStepOfDigitalGoodsFlow=false;this.timerID=0;this.width=0;this.height=0;this.secretKey="paypalPopup$"+c("guid")();c("PaypalPopupManager").register(this.secretKey,this)}h.prototype.setPollingInterval=function(i){"use strict";this.pollingInterval=i;return this};h.prototype.setIsDigitalGoodsFlow=function(i){"use strict";this.isDigitalGoodsFlow=i;return this};h.prototype.setIsFinalDigitalGoodFlow=function(i){"use strict";this.isFinalStepOfDigitalGoodsFlow=i;return this};h.prototype.setCancelHandler=function(i){"use strict";this.cancelHandler=i;return this};h.prototype.setHandler=function(i){"use strict";this.handler=i;return this};h.prototype.setWidth=function(i){"use strict";this.width=i;return this};h.prototype.setHeight=function(i){"use strict";this.height=i;return this};h.prototype.open=function(){"use strict";__p&&__p();var i=this.initData;if(Object.prototype.hasOwnProperty.call(i,"redirect_data")){i.redirect_data.instance_id=this.secretKey;i.redirect_data.type="rp"}else i.redirect_data={instance_id:this.secretKey,type:"rp"};i.is_dg_flow_final_action=this.isFinalStepOfDigitalGoodsFlow;var j=c("XPaymentsPaypalInitController").getURIBuilder().getURI().setProtocol("https").setSubdomain("secure").setQueryData(i).toString();this.popup=c("PopupWindow").open(j,this.getHeight(),this.getWidth());this.setupPopupOpenCheck()};h.prototype.close=function(i){"use strict";this.closePopup();if(i.cancel)this.cancelHandler(i);else if(this.handler)this.handler(i)};h.prototype.setupPopupOpenCheck=function(){"use strict";this.timerID=setInterval(function(){if(this.popup&&this.popup.closed){this.closePopup();if(this.cancelHandler)this.cancelHandler()}}.bind(this),this.pollingInterval)};h.prototype.closePopup=function(){"use strict";if(this.timerID!==0){clearInterval(this.timerID);this.timerID=0}if(this.popup){this.popup.close();this.popup=null}};h.prototype.getWidth=function(){"use strict";if(this.width)return this.width;if(this.isDigitalGoodsFlow)return 420;return 955};h.prototype.getHeight=function(){"use strict";if(this.height)return this.height;if(this.isDigitalGoodsFlow)return 600;return 750};f.exports=h}),null);
__d("FBPaymentsPaymentMethodSelectorContainer.react",["invariant","FBPaymentsModulesAPI","FBPaymentsPaymentMethodSelectorContainerBase.react","FBPaymentsPaymentMethodSelectorView.react","FBPaymentsPaymentMethodStore","FluxContainer","PaypalPopup","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=100,l=500;i=babelHelpers.inherits(m,c("FBPaymentsPaymentMethodSelectorContainerBase.react"));j=i&&i.prototype;m.__getPaymentMethodStore=function(){return c("FBPaymentsPaymentMethodStore")};m.prototype.__getView=function(){return c("FBPaymentsPaymentMethodSelectorView.react")};m.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};m.prototype.__connectPayPal=function(n,o,p){__p&&__p();var q=this.state.connectPayPalURL;q||h(0);var r=new(c("URI"))(q),s=r.getQueryData();delete s.redirect_url;var t=new(c("PaypalPopup"))(s).setIsDigitalGoodsFlow(false).setWidth(l).setHeight(l).setHandler(function(u){u.payment_type=this.props.checkoutConfiguration.paymentInfo.paymentItemType;u.paypal_ba_type=s.paypal_ba_type;u.session_id=this.props.logger.getSessionID();c("FBPaymentsModulesAPI").completePayPal(u,n,o)}.bind(this)).setCancelHandler(p).setPollingInterval(k);t.open()};function m(){i.apply(this,arguments)}f.exports=c("FluxContainer").create(m,{withProps:true})}),null);
__d("FBPaymentsPriceSelectorStoreBase",["FBPaymentsDispatcher","FBPaymentsPriceSelectorActions","FBPaymentsPriceSelectorConfiguration","FluxLoadObjectStore","immutable","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxLoadObjectStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("FBPaymentsDispatcher"))}j.prototype.reduce=function(k,l){var m=l.data,n=void 0;switch(l.type){case c("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_LOADED:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.priceSelectorConfig);case c("FBPaymentsPriceSelectorActions").types.PRICE_SELECTOR_ERROR:n=this.makeImmutableKey(m.requestData);return this.__handleOne(k,n,m.error);default:return k}};j.prototype.makeImmutableKey=function(k){return c("immutable").fromJS(k)};j.prototype.get=function(k){var l=this.makeImmutableKey(k);return i.get.call(this,l)};j.prototype.__load=function(k){var l=k.toJS();this.__getAPI().fetchPriceSelectorConfiguration(l)};j.prototype.__getAPI=function(){return c("abstractMethod")("FBPaymentsPriceSelectorStoreBase","__getAPI")};f.exports=j}),null);
__d("FBPaymentsPriceSelectorViewBase.react",["fbt","FBPaymentsPriceSelectorConfiguration","PECurrency","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldShowHardErrorMessage=function(){return this.props.showHardError};k.prototype.shouldShowFieldLevelErrors=function(){return this.props.shouldShowFieldLevelErrors};k.prototype.getCustomAmoutInputPlaceHolder=function(){return h._("Autre")};k.prototype.getPriceSelectorTitle=function(){var l=this.props.priceSelectorConfiguration;return l&&l.title||h._("Montant")};k.prototype.getCurrencySymbol=function(){var l=this.props.priceSelectorConfiguration?c("PECurrency").getCurrencySymbol(this.props.priceSelectorConfiguration.getCurrency()):"";return l};k.prototype.getHardErrorMessage=function(){return h._("Veuillez s\u00e9lectionner un montant valide.")};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPriceSelectorContainerBase.react",["invariant","FBPaymentsCheckoutConstants","FBPaymentsCheckoutStore","FBPaymentsExtensionInterface.react","FBPaymentsLinkHelper","FBPaymentsLoggerConstants","FBPaymentsPriceSelectorConfiguration","FBPaymentsPriceSelectorStoreBase","FBPaymentsPriceSelectorViewBase.react","FBPaymentsStringHelper","React","abstractMethod","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("FBPaymentsCheckoutConstants").RestoreKey,l=c("FBPaymentsLoggerConstants").LoggerEvent,m=c("FBPaymentsLoggerConstants").LoggerFlowStep;i=babelHelpers.inherits(n,c("FBPaymentsExtensionInterface.react"));j=i&&i.prototype;function n(o){__p&&__p();var p;j.constructor.call(this,o);this.handleCustomAmountInputChange=function(r,s,t){this.setState({selectedIndex:-1,customAmount:s,customAmountInputErrorMessage:t.errorMessage});if(!t.isValid)this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.CLICK).setRawAmount(Number(s)).setCurrency(this.getCurrency()).setUserFacingMessage(t.errorMessage).log()}.bind(this);this.handleCustomAmountInputFocus=function(){this.setState({selectedIndex:-1});this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.FIELD_FOCUS).setRawAmount(Number(this.state.customAmount)).setCurrency(this.getCurrency()).log()}.bind(this);this.handleCustomAmountInputBlur=function(r,s,t){this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.BLUR).setRawAmount(Number(s)).setCurrency(this.getCurrency()).setUserFacingMessage(t.errorMessage).log()}.bind(this);this.handlePriceButtonClick=function(r){this.setState({selectedIndex:r,customAmount:"",customAmountInputErrorMessage:null});this.props.logger.setFlowStep(m.SELECT_AMOUNT).setEventName(l.CLICK).setRawAmount(this.getRawAmountAtIndex(r)).setCurrency(this.getCurrency()).log()}.bind(this);var q=!!((p=o)!=null?(p=p.checkoutExtraProps)!=null?(p=p.enableInlinePUXAndOtherEnhancements)!=null?p.field_level_errors:p:p:p);this.state={customAmountInputErrorMessage:null,fetchErrorMessage:null,initialFetch:true,isLoading:false,priceSelectorConfiguration:null,selectedIndex:-1,customAmount:"",showHardError:false,shouldShowFieldLevelErrors:q}}n.getStores=function(){return[c("FBPaymentsCheckoutStore"),this.__getPriceSelectorStore()]};n.$FBPaymentsPriceSelectorContainerBase1=function(o){var p=o.checkoutConfiguration.paymentInfo;return{payment_type:p.paymentItemType,order_id:p.orderId?p.orderId:"",extra_data:JSON.stringify(p.extraData)}};n.calculateState=function(o,p){__p&&__p();var q=babelHelpers["extends"]({},o),r=this.$FBPaymentsPriceSelectorContainerBase1(p),s=this.__getPriceSelectorStore().get(r);q.isLoading=s.isLoading();if(s.hasValue()&&q.initialFetch){var t=s.getValueEnforcing();if(t.message)q.fetchErrorMessage=t.message;else{q.priceSelectorConfiguration=t;var u=c("FBPaymentsLinkHelper").getCurrentURI(),v=u.getQueryData(),w=v[k.PRICE_SELECTOR_CUSTOM_AMOUNT],x=w&&c("FBPaymentsStringHelper").isNumber(w)&&parseInt(w,10)>0;if(x){q.customAmount=w;this.logInitialSelection(p.logger,t,w,null)}else{var y=v[k.PRICE_SELECTOR_SELECTED_INDEX],z=parseInt(y,10),A=c("FBPaymentsStringHelper").isNumber(y)&&z>-1;q.selectedIndex=A?z:parseInt(t.defaultSelected,10);this.logInitialSelection(p.logger,t,null,q.selectedIndex)}}q.initialFetch=false}return q};n.__calculateExtensionState=function(o){__p&&__p();var p=false,q={};if(!o.customAmountInputErrorMessage&&!o.fetchErrorMessage&&o.priceSelectorConfiguration)if(o.customAmount){p=true;q={currency:o.priceSelectorConfiguration.getCurrency(),selectedAmount:o.customAmount,selectedIndex:o.selectedIndex}}else if(o.selectedIndex!==-1){p=true;o.priceSelectorConfiguration||h(0);q={currency:o.priceSelectorConfiguration.getCurrency(),selectedAmount:o.priceSelectorConfiguration.getSelectedAmountFromIndex(o.selectedIndex),selectedIndex:o.selectedIndex}}return{extraData:q,ready:p}};n.logInitialSelection=function(o,p,q,r){var s=0;if(q)s=Number(q);else if(r)s=Number(p.getSelectedAmountFromIndex(r));o.setFlowStep(m.SELECT_AMOUNT).setEventName(l.INIT).setRawAmount(s).setCurrency(p.getCurrency()).log()};n.prototype.getCurrency=function(){var o=this.state.priceSelectorConfiguration;return o&&o.getCurrency()};n.prototype.getRawAmountAtIndex=function(o){var p=this.state.priceSelectorConfiguration;if(!p)return null;return Number(p.getSelectedAmountFromIndex(o))};n.__getPriceSelectorStore=function(){return c("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getPriceSelectorStore")};n.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPriceSelectorContainerBase","__getView")};n.prototype.render=function(){var o=this.__getView();return c("React").createElement(o,babelHelpers["extends"]({},this.state,{isActive:this.props.isActive,isLoading:this.state.isLoading,onCustomAmountInputBlur:this.handleCustomAmountInputBlur,onCustomAmountInputChange:this.handleCustomAmountInputChange,onCustomAmountInputFocus:this.handleCustomAmountInputFocus,onPriceButtonClick:this.handlePriceButtonClick}))};f.exports=n}),null);
__d("FBPaymentsPriceSelectorStore",["FBPaymentsModulesAPI","FBPaymentsPriceSelectorStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceSelectorStoreBase"));i=h&&h.prototype;j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d("FBPaymentsFormFieldInputConfigsGenerator",["fbt","invariant","FBPaymentsNormalizers","FBPaymentsValidators","FundraiserCurrencyFormatter"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(l,m,n){l<=m||i(0);var o=c("FundraiserCurrencyFormatter").formatForButton(n,l),p=c("FundraiserCurrencyFormatter").formatForButton(n,m),q=h._("Veuillez entrer un montant entre {min_amount} et {max_amount}.",[h.param("min_amount",o),h.param("max_amount",p)]),r=h._("Veuillez saisir un montant sans points ni virgules.");return{normalizeOnChange:true,normalizers:[c("FBPaymentsNormalizers").stripNonNumericAndNumericSeparator],validations:[{validator:c("FBPaymentsValidators").onlyNumeric,errorMessage:r},{validator:c("FBPaymentsValidators").greaterOrEqualTo(l),errorMessage:q},{validator:c("FBPaymentsValidators").lessOrEqualTo(m),errorMessage:q}]}}var k={getPriceInputConfig:j};f.exports=k}),null);
__d("FBPaymentsPriceSelectorView.react",["cx","invariant","FBPaymentsFormField.react","FBPaymentsFormFieldInputConfigsGenerator","FBPaymentsPriceSelectorViewBase.react","React","XUIButton.react","XUIGrayText.react","XUINotice.react","XUIRadioButtonGroup.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("FBPaymentsPriceSelectorViewBase.react"));k=j&&j.prototype;l.prototype.__renderAmountButtonGroup=function(m){var n=m.getButtonLabels(),o=this.props.selectedIndex,p=[];for(var q=0;q<n.size;q++)p.push(c("React").createElement(c("XUIButton.react"),{className:"_t3l",key:q,label:n.get(q),size:"xlarge",type:"button",value:q}));return c("React").createElement(c("XUIRadioButtonGroup.react"),{className:"_4a6b",onValueChange:this.props.onPriceButtonClick,selectedDepressed:true,selectedValue:o},p)};l.prototype.__renderCustomAmountInput=function(m){var n=c("FBPaymentsFormFieldInputConfigsGenerator").getPriceInputConfig(m.getCustomAmountMin(),m.getCustomAmountMax(),m.getCurrency());return c("React").createElement(c("FBPaymentsFormField.react"),{className:"_4a6e"+(this.props.customAmount&&!this.props.customAmountInputErrorMessage?" _1kv1":""),classNameOnInput:"_1kv1",config:n,errorMessage:this.props.customAmountInputErrorMessage,fieldType:"textInput",inline:true,name:"customAmount",onBlur:this.props.onCustomAmountInputBlur,onChange:this.props.onCustomAmountInputChange,onFocus:this.props.onCustomAmountInputFocus,placeholder:this.getCustomAmoutInputPlaceHolder(),value:this.props.customAmount})};l.prototype.render=function(){var m=void 0,n=this.props.priceSelectorConfiguration;if(this.props.fetchErrorMessage)m=c("React").createElement(c("XUINotice.react"),{use:"warn"},this.props.fetchErrorMessage);else if(this.props.isLoading||!this.props.priceSelectorConfiguration)m=c("React").createElement(c("XUISpinner.react"),null);else{!!n||i(0);m=c("React").createElement("div",{className:"_1zbe"},c("React").createElement("div",{className:"_4a6f"},this.__renderAmountButtonGroup(n)),c("React").createElement("div",{className:"_4a6c"},c("React").createElement("span",{className:"_4a6d"},this.getCurrencySymbol()),this.__renderCustomAmountInput(n)))}return c("React").createElement("div",{className:"__j9"},c("React").createElement(c("XUIGrayText.react"),{display:"block",size:"small"},this.getPriceSelectorTitle()),m)};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPriceSelectorContainer.react",["FBPaymentsPriceSelectorContainerBase.react","FBPaymentsPriceSelectorStore","FBPaymentsPriceSelectorView.react","FluxContainer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceSelectorContainerBase.react"));i=h&&h.prototype;j.__getPriceSelectorStore=function(){return c("FBPaymentsPriceSelectorStore")};j.prototype.__getView=function(){return c("FBPaymentsPriceSelectorView.react")};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("FBPaymentsExtensionManager",["FBPaymentsCheckoutConstants","FBPaymentsContactEmailSelectorContainer.react","FBPaymentsContactNameInputContainer.react","FBPaymentsContactPhoneNumberSelectorContainer.react","FBPaymentsCustomOptionsContainer.react","FBPaymentsExtensionManagerBase","FBPaymentsFrequencySelectorContainer.react","FBPaymentsMailingAddressSelectorContainer.react","FBPaymentsNoteExtension.react","FBPaymentsPaymentMethodSelectorContainer.react","FBPaymentsPINVerificationContainer.react","FBPaymentsPriceSelectorContainer.react","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConstants").Extensions;h=babelHelpers.inherits(k,c("FBPaymentsExtensionManagerBase"));i=h&&h.prototype;function k(){__p&&__p();i.constructor.call(this);this.extensionMap=new(c("Map"))();this.extensionMap.set(j.CONTACT_NAME,c("FBPaymentsContactNameInputContainer.react"));this.extensionMap.set(j.CONTACT_EMAIL,c("FBPaymentsContactEmailSelectorContainer.react"));this.extensionMap.set(j.CONTACT_PHONE,c("FBPaymentsContactPhoneNumberSelectorContainer.react"));this.extensionMap.set(j.PAYMENT_METHOD,c("FBPaymentsPaymentMethodSelectorContainer.react"));this.extensionMap.set(j.PIN_VERIFICATION,c("FBPaymentsPINVerificationContainer.react"));this.extensionMap.set(j.SHIPPING_ADDRESS,c("FBPaymentsMailingAddressSelectorContainer.react"));this.extensionMap.set(j.CUSTOM_OPTIONS,c("FBPaymentsCustomOptionsContainer.react"));this.extensionMap.set(j.PRICE_SELECTOR,c("FBPaymentsPriceSelectorContainer.react"));this.extensionMap.set(j.FREQUENCY_SELECTOR,c("FBPaymentsFrequencySelectorContainer.react"));this.extensionMap.set(j.NOTE,c("FBPaymentsNoteExtension.react"))}k.prototype.__getExtensionMap=function(){return this.extensionMap};f.exports=new k()}),null);
__d("FBPaymentsLoadingContainerBase.react",["React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,{loadingText:this.props.loadingText})};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsLoadingContainerBase","__getView")};function k(){h.apply(this,arguments)}k.propTypes={loadingText:j.node.isRequired};f.exports=k}),null);
__d("FBPaymentsLoadingContainer.react",["FBPaymentsLoadingContainerBase.react","FBPaymentsLoadingView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsLoadingContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsLoadingView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("PaymentsFlowsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$PaymentsFlowsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:PaymentsFlowsLoggerConfig",this.$PaymentsFlowsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$PaymentsFlowsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$PaymentsFlowsTypedLogger1=babelHelpers["extends"]({},this.$PaymentsFlowsTypedLogger1,j);return this};h.prototype.setAdAccountID=function(j){this.$PaymentsFlowsTypedLogger1.ad_account_id=j;return this};h.prototype.setClientTime=function(j){this.$PaymentsFlowsTypedLogger1.client_time=j;return this};h.prototype.setContainermodule=function(j){this.$PaymentsFlowsTypedLogger1.containermodule=j;return this};h.prototype.setContextID=function(j){this.$PaymentsFlowsTypedLogger1.context_id=j;return this};h.prototype.setCurrency=function(j){this.$PaymentsFlowsTypedLogger1.currency=j;return this};h.prototype.setErrorCategory=function(j){this.$PaymentsFlowsTypedLogger1.error_category=j;return this};h.prototype.setErrorCode=function(j){this.$PaymentsFlowsTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$PaymentsFlowsTypedLogger1.error_message=j;return this};h.prototype.setErrorOrigin=function(j){this.$PaymentsFlowsTypedLogger1.error_origin=j;return this};h.prototype.setErrorStacktrace=function(j){this.$PaymentsFlowsTypedLogger1.error_stacktrace=j;return this};h.prototype.setEventName=function(j){this.$PaymentsFlowsTypedLogger1.event_name=j;return this};h.prototype.setEventType=function(j){this.$PaymentsFlowsTypedLogger1.event_type=j;return this};h.prototype.setExceptionClass=function(j){this.$PaymentsFlowsTypedLogger1.exception_class=j;return this};h.prototype.setFlowName=function(j){this.$PaymentsFlowsTypedLogger1.flow_name=j;return this};h.prototype.setFlowStep=function(j){this.$PaymentsFlowsTypedLogger1.flow_step=j;return this};h.prototype.setIncomingParams=function(j){this.$PaymentsFlowsTypedLogger1.incoming_params=j;return this};h.prototype.setIsFree=function(j){this.$PaymentsFlowsTypedLogger1.is_free=j;return this};h.prototype.setIsTestPayment=function(j){this.$PaymentsFlowsTypedLogger1.is_test_payment=j;return this};h.prototype.setLoggingServiceID=function(j){this.$PaymentsFlowsTypedLogger1.logging_service_id=j;return this};h.prototype.setMailingAddressID=function(j){this.$PaymentsFlowsTypedLogger1.mailing_address_id=j;return this};h.prototype.setOrderID=function(j){this.$PaymentsFlowsTypedLogger1.order_id=j;return this};h.prototype.setOtherProfileID=function(j){this.$PaymentsFlowsTypedLogger1.other_profile_id=j;return this};h.prototype.setPaymentAccountID=function(j){this.$PaymentsFlowsTypedLogger1.payment_account_id=j;return this};h.prototype.setPaymentID=function(j){this.$PaymentsFlowsTypedLogger1.payment_id=j;return this};h.prototype.setPaymentMethodID=function(j){this.$PaymentsFlowsTypedLogger1.payment_method_id=j;return this};h.prototype.setPaymentMethodType=function(j){this.$PaymentsFlowsTypedLogger1.payment_method_type=j;return this};h.prototype.setPaymodExtraData=function(j){this.$PaymentsFlowsTypedLogger1.paymod_extra_data=j;return this};h.prototype.setProduct=function(j){this.$PaymentsFlowsTypedLogger1.product=j;return this};h.prototype.setProvider=function(j){this.$PaymentsFlowsTypedLogger1.provider=j;return this};h.prototype.setRawAmount=function(j){this.$PaymentsFlowsTypedLogger1.raw_amount=j;return this};h.prototype.setRedirectURL=function(j){this.$PaymentsFlowsTypedLogger1.redirect_url=j;return this};h.prototype.setRequestID=function(j){this.$PaymentsFlowsTypedLogger1.request_id=j;return this};h.prototype.setSessionID=function(j){this.$PaymentsFlowsTypedLogger1.session_id=j;return this};h.prototype.setShippingOptionID=function(j){this.$PaymentsFlowsTypedLogger1.shipping_option_id=j;return this};h.prototype.setUserFacingErrorCode=function(j){this.$PaymentsFlowsTypedLogger1.user_facing_error_code=j;return this};h.prototype.setUserFacingMessage=function(j){this.$PaymentsFlowsTypedLogger1.user_facing_message=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$PaymentsFlowsTypedLogger1=babelHelpers["extends"]({},this.$PaymentsFlowsTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={ad_account_id:true,client_time:true,containermodule:true,context_id:true,currency:true,error_category:true,error_code:true,error_message:true,error_origin:true,error_stacktrace:true,event_name:true,event_type:true,exception_class:true,flow_name:true,flow_step:true,incoming_params:true,is_free:true,is_test_payment:true,logging_service_id:true,mailing_address_id:true,order_id:true,other_profile_id:true,payment_account_id:true,payment_id:true,payment_method_id:true,payment_method_type:true,paymod_extra_data:true,product:true,provider:true,raw_amount:true,redirect_url:true,request_id:true,session_id:true,shipping_option_id:true,user_facing_error_code:true,user_facing_message:true};f.exports=h}),null);
__d("FBPaymentsLogger",["FBPaymentsLoggerBase","PaymentsFlowsTypedLogger"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsLoggerBase"));i=h&&h.prototype;j.prototype.__getLoggerInstance=function(){return new(c("PaymentsFlowsTypedLogger"))()};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsOrderSummaryViewBase.react",["fbt","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getItemImage=function(m,n){return m?c("React").createElement(c("Image.react"),{src:m,width:n,height:n}):null};l.prototype.getMerchantText=function(m,n){if(m)return m;else if(n)return h._("Vendu par {merchantName}",[h.param("merchantName",n)]);return null};function l(){i.apply(this,arguments)}l.propTypes={items:k.arrayOf(k.shape({title:k.string.isRequired,subtitle:k.string,subsubtitle:k.string,merchantName:k.string,merchantText:k.string,itemImageUrl:k.string})).isRequired};f.exports=l}),null);
__d("FBPaymentsOrderSummaryContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsOrderSummaryViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("FBPaymentsCheckoutConfigurationTypes").ContentConfigurationPropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.__getView();return c("React").createElement(l,this.props.configuration)};k.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsOrderSummaryContainerBase","__getView")};function k(){h.apply(this,arguments)}k.propTypes={configuration:j.isRequired};f.exports=k}),null);
__d("FBPaymentsOrderSummaryView.react",["cx","FBPaymentsOrderSummaryViewBase.react","ImageBlock.react","InlineBlock.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=72;i=babelHelpers.inherits(l,c("FBPaymentsOrderSummaryViewBase.react"));j=i&&i.prototype;l.prototype.render=function(){var m=this.props.items[0];return c("React").createElement(c("ImageBlock.react"),{className:"_qu2 _2ph_"},c("React").createElement("div",{className:"_3-91"},this.getItemImage(m.itemImageUrl,k)),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:k},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"medium",weight:"bold"},m.title),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small"},m.subtitle),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"dark",size:"small"},m.subsubtitle),c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},this.getMerchantText(m.merchantText,m.merchantName))))};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsOrderSummaryContainer.react",["FBPaymentsOrderSummaryContainerBase.react","FBPaymentsOrderSummaryView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsOrderSummaryContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsOrderSummaryView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionRowViewBase.react",["fbt","FBPaymentsLinkHelper","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getPayButtonText=function(){return this.props.actionTitle?this.props.actionTitle:h._("Payer")};l.prototype.getBackButtonText=function(){return h._("Pr\u00e9c\u00e9dent")};l.prototype.getDefaultTermsAndPoliciesText=function(){var m=h._("conditions g\u00e9n\u00e9rales et r\u00e8glements"),n=c("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},m);if(this.props.merchantName&&this.props.processorName)return h._("En cliquant sur {text on action button}, vous acceptez les conditions g\u00e9n\u00e9rales et r\u00e8glements de {merchant name} et de {processor name}.",[h.param("text on action button",this.getPayButtonText()),h.param("merchant name",c("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName)),h.param("processor name",c("React").createElement("a",{href:this.props.termsAndPoliciesUrl,target:"_blank"},this.props.processorName))]);else if(this.props.merchantName)return h._("En cliquant sur {text on action button}, vous acceptez les conditions g\u00e9n\u00e9rales et r\u00e8glements de {merchant name}.",[h.param("text on action button",this.getPayButtonText()),h.param("merchant name",c("React").createElement("a",{href:this.props.merchantTermsAndPoliciesUrl,target:"_blank"},this.props.merchantName))]);else return h._("En cliquant sur {text on action button}, vous acceptez ces {=terms and policies}.",[h.param("text on action button",this.getPayButtonText()),h.param("=terms and policies",n)])};function l(){i.apply(this,arguments)}l.propTypes={actionTitle:k.node,backButton:k.bool,customTermsAndPoliciesText:k.element,isLoading:k.bool.isRequired,merchantName:k.string,onBackButtonClick:k.func.isRequired,onPayButtonClick:k.func.isRequired,payButtonEnabled:k.bool.isRequired,payButtonAlwaysEnabled:k.bool,processorName:k.string,termsAndPoliciesUrl:k.string,merchantTermsAndPoliciesUrl:k.string.isRequired,price:k.shape({amount:k.string.isRequired,currency:k.string.isRequired})};l.defaultProps={merchantTermsAndPoliciesUrl:c("FBPaymentsLinkHelper").getPaymentsTermsURI().toString(),payButtonAlwaysEnabled:false};f.exports=l}),null);
__d("FBPaymentsPayActionRowContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPayActionRowViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").PayActionContentPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){var m=this.__getView();return c("React").createElement(m,babelHelpers["extends"]({isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,payButtonAlwaysEnabled:this.props.payButtonAlwaysEnabled,price:this.props.price},this.props.configuration))};l.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPayActionRowContainerBase","__getView")};function l(){h.apply(this,arguments)}l.propTypes={configuration:k.isRequired,isLoading:j.bool.isRequired,onBackButtonClick:j.func.isRequired,onPayButtonClick:j.func.isRequired,payButtonEnabled:j.bool.isRequired,payButtonAlwaysEnabled:j.bool};l.defaultProps={payButtonAlwaysEnabled:false};f.exports=l}),null);
__d("FBPaymentsPayActionButtonViewBase.react",["fbt","PECurrency","PECurrency.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("PECurrency").DEFAULT_AMOUNT_OFFSET;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.getActionText=function(){var m=this.props.actionTitle?this.props.actionTitle:h._("Payer");if(this.props.price){var n=this.props.price;return h._("{actionTitle} {price}",[h.param("actionTitle",m),h.param("price",c("React").createElement(c("PECurrency.react"),{code:n.currency,showSymbol:true,value:k*Number(n.amount)}))])}else return m};l.prototype.getBackText=function(){return this.props.backTitle?this.props.backTitle:h._("Retour")};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("FBPaymentsPayActionButtonContainerBase.react",["FBPaymentsPayActionButtonViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.__getView();return c("React").createElement(k,{actionTitle:this.props.actionTitle,backTitle:this.props.backTitle,backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:this.props.payButtonEnabled,use:this.props.use,price:this.props.price})};j.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPayActionButtonContainerBase","__getView")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionButtonView.react",["cx","FBPaymentsPayActionButtonViewBase.react","FBPaymentsWebdriverTestIDs","React","XUIButton.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPayActionButtonViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.isLoading?c("React").createElement(c("XUISpinner.react"),{background:"dark",size:"small"}):this.getActionText(),m=void 0;if(this.props.backButton)m=c("React").createElement(c("XUIButton.react"),{className:"_2oqx",disabled:this.props.isLoading,label:this.getBackText(),size:"large",onClick:this.props.onBackButtonClick,use:"default"});var n=c("React").createElement(c("XUIButton.react"),{className:"_39gi","data-testid":c("FBPaymentsWebdriverTestIDs").PAY_BUTTON,disabled:!this.props.payButtonEnabled,label:l,size:"large",onClick:this.props.onPayButtonClick,use:this.props.use?this.props.use:"confirm"});return c("React").createElement("div",{className:"_39ge"},m,n)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPayActionButtonContainer.react",["FBPaymentsPayActionButtonContainerBase.react","FBPaymentsPayActionButtonView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPayActionButtonContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPayActionButtonView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPayActionRowView.react",["cx","FBPaymentsPayActionButtonContainer.react","FBPaymentsPayActionRowViewBase.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("FBPaymentsPayActionRowViewBase.react"));j=i&&i.prototype;k.prototype.render=function(){var l=this.props.customTermsAndPoliciesText?this.props.customTermsAndPoliciesText:this.getDefaultTermsAndPoliciesText(),m=this.props.payButtonEnabled||this.props.payButtonAlwaysEnabled;return c("React").createElement("div",{className:"_5kyc _2ph_"},c("React").createElement(c("XUIGrayText.react"),{display:"block",shade:"light",size:"small"},l),c("React").createElement(c("FBPaymentsPayActionButtonContainer.react"),{actionTitle:this.getPayButtonText(),backTitle:this.getBackButtonText(),backButton:this.props.backButton,isLoading:this.props.isLoading,onBackButtonClick:this.props.onBackButtonClick,onPayButtonClick:this.props.onPayButtonClick,payButtonEnabled:m,price:this.props.price}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBPaymentsPayActionRowContainer.react",["FBPaymentsPayActionRowContainerBase.react","FBPaymentsPayActionRowView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPayActionRowContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPayActionRowView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsPriceTableContainerBase.react",["FBPaymentsCheckoutConfigurationTypes","FBPaymentsPriceTableViewBase.react","React","abstractMethod"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes,k=c("FBPaymentsCheckoutConfigurationTypes").PriceListPropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){var m=this.__getView();return c("React").createElement(m,this.props.configuration)};l.prototype.__getView=function(){return c("abstractMethod")("FBPaymentsPriceTableContainerBase","__getView")};function l(){h.apply(this,arguments)}l.propTypes={configuration:j.shape({priceList:k.isRequired}).isRequired};f.exports=l}),null);
__d("FBPaymentsPriceTableContainer.react",["FBPaymentsPriceTableContainerBase.react","FBPaymentsPriceTableView.react"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FBPaymentsPriceTableContainerBase.react"));i=h&&h.prototype;j.prototype.__getView=function(){return c("FBPaymentsPriceTableView.react")};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("FBPaymentsCheckoutFlowContainer.react",["DOMScroll","FBPaymentsCheckoutFlowContainerBase.react","FBPaymentsCheckoutFlowView.react","FBPaymentsCheckoutNUXContainer.react","FBPaymentsConfirmationContainer.react","FBPaymentsEntityHeaderView.react","FBPaymentsExtensionManager","FBPaymentsLoadingContainer.react","FBPaymentsLogger","FBPaymentsModulesAPI","FBPaymentsOrderSummaryContainer.react","FBPaymentsPayActionRowContainer.react","FBPaymentsPriceTableContainer.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FBPaymentsCheckoutFlowContainerBase.react"));i=h&&h.prototype;j.prototype.__scrollToTop=function(){c("DOMScroll").scrollToTop(true)};j.prototype.__getExtensionManager=function(){return c("FBPaymentsExtensionManager")};j.prototype.__getCheckoutFlowView=function(){return c("FBPaymentsCheckoutFlowView.react")};j.prototype.__getNUXContainer=function(){return c("FBPaymentsCheckoutNUXContainer.react")};j.prototype.__getLoadingContainer=function(){return c("FBPaymentsLoadingContainer.react")};j.prototype.__getConfirmationContainer=function(){return c("FBPaymentsConfirmationContainer.react")};j.prototype.__getOrderSummaryContainer=function(){return c("FBPaymentsOrderSummaryContainer.react")};j.prototype.__getEntityHeaderContainer=function(){return c("FBPaymentsEntityHeaderView.react")};j.prototype.__getPayActionRowContainer=function(){return c("FBPaymentsPayActionRowContainer.react")};j.prototype.__getPriceTableContainer=function(){return c("FBPaymentsPriceTableContainer.react")};j.prototype.__getAPI=function(){return c("FBPaymentsModulesAPI")};j.prototype.__getLogger=function(){return c("FBPaymentsLogger")};j.prototype.render=function(){return i.render.call(this)};function j(){h.apply(this,arguments)}j.propTypes=babelHelpers["extends"]({},c("FBPaymentsCheckoutFlowContainerBase.react").propTypes);f.exports=j}),null);