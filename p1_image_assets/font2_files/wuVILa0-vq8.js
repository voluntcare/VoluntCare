if (self.CavalryLogger) { CavalryLogger.start_js(["25OvN"]); }

__d("BootloaderEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("bootloader_events:BootloaderEventsLoggerConfig",this.$BootloaderEventsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("bootloader_events:BootloaderEventsLoggerConfig",this.$BootloaderEventsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$BootloaderEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$BootloaderEventsTypedLogger1=babelHelpers["extends"]({},this.$BootloaderEventsTypedLogger1,j);return this};h.prototype.setAllResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.all_resources_count=j;return this};h.prototype.setAllResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.all_resources_downloaded=j;return this};h.prototype.setAsyncResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.async_resources_count=j;return this};h.prototype.setAsyncResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.async_resources_downloaded=j;return this};h.prototype.setBlEndpointMode=function(j){this.$BootloaderEventsTypedLogger1.bl_endpoint_mode=j;return this};h.prototype.setBlSampleRate=function(j){this.$BootloaderEventsTypedLogger1.bl_sample_rate=j;return this};h.prototype.setBlockingResourcesCount=function(j){this.$BootloaderEventsTypedLogger1.blocking_resources_count=j;return this};h.prototype.setBlockingResourcesDownloaded=function(j){this.$BootloaderEventsTypedLogger1.blocking_resources_downloaded=j;return this};h.prototype.setCavalryBlCohort=function(j){this.$BootloaderEventsTypedLogger1.cavalry_bl_cohort=j;return this};h.prototype.setCavalryCohort=function(j){this.$BootloaderEventsTypedLogger1.cavalry_cohort=j;return this};h.prototype.setComponents=function(j){this.$BootloaderEventsTypedLogger1.components=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setDuration=function(j){this.$BootloaderEventsTypedLogger1.duration=j;return this};h.prototype.setErrCount=function(j){this.$BootloaderEventsTypedLogger1.err_count=j;return this};h.prototype.setFirstIdenticalRequest=function(j){this.$BootloaderEventsTypedLogger1.first_identical_request=j;return this};h.prototype.setHasNewComponent=function(j){this.$BootloaderEventsTypedLogger1.has_new_component=j;return this};h.prototype.setIsEmployee=function(j){this.$BootloaderEventsTypedLogger1.is_employee=j;return this};h.prototype.setMsSinceNavstart=function(j){this.$BootloaderEventsTypedLogger1.ms_since_navstart=j;return this};h.prototype.setParentLid=function(j){this.$BootloaderEventsTypedLogger1.parent_lid=j;return this};h.prototype.setPkgCohort=function(j){this.$BootloaderEventsTypedLogger1.pkg_cohort=j;return this};h.prototype.setRef=function(j){this.$BootloaderEventsTypedLogger1.ref=j;return this};h.prototype.setRequestPath=function(j){this.$BootloaderEventsTypedLogger1.request_path=j;return this};h.prototype.setRetries=function(j){this.$BootloaderEventsTypedLogger1.retries=j;return this};h.prototype.setSvnRev=function(j){this.$BootloaderEventsTypedLogger1.svn_rev=j;return this};h.prototype.setTimesliceContext=function(j){this.$BootloaderEventsTypedLogger1.timeslice_context=j;return this};h.prototype.setVC=function(j){this.$BootloaderEventsTypedLogger1.vc=j;return this};h.prototype.setWeight=function(j){this.$BootloaderEventsTypedLogger1.weight=j;return this};var i={all_resources_count:true,all_resources_downloaded:true,async_resources_count:true,async_resources_downloaded:true,bl_endpoint_mode:true,bl_sample_rate:true,blocking_resources_count:true,blocking_resources_downloaded:true,cavalry_bl_cohort:true,cavalry_cohort:true,components:true,duration:true,err_count:true,first_identical_request:true,has_new_component:true,is_employee:true,ms_since_navstart:true,parent_lid:true,pkg_cohort:true,ref:true,request_path:true,retries:true,svn_rev:true,timeslice_context:true,vc:true,weight:true};f.exports=h}),null);
__d("BootloaderLoggerUtil",["Arbiter","Bootloader","BootloaderEventsTypedLogger","CurrentUser","ScriptPath","SiteData","performanceNavigationStart"],(function a(b,c,d,e,f,g){var h=null,i={initLogging:function j(k){if(h)return;h=c("Arbiter").subscribe(c("Bootloader").Events.BOOTLOAD,function(l,m){var n=m.start_time,o=babelHelpers.objectWithoutProperties(m,["start_time"]),p=Math.round(n-c("performanceNavigationStart")());new(c("BootloaderEventsTypedLogger"))().setMsSinceNavstart(p).setCavalryCohort(k.cavalry_cohort).setPkgCohort(c("SiteData").pkg_cohort).setWeight(k.sample_rate).setIsEmployee(c("CurrentUser").isEmployee()).setSvnRev(c("SiteData").client_revision).setBlEndpointMode(c("SiteData").be_mode).setRequestPath(c("ScriptPath").getScriptPath()).setCavalryBlCohort(k.cavalry_bl_cohort).setBlSampleRate(k.bl_sample_rate).setParentLid(k.parent_lid).updateData(o).log()})}};f.exports=i}),null);
__d("TimeSpentArray",["Banzai","pageID","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=2,i=h*32,j,k,l,m,n,o,p,q,r,s={},t;function u(){return{timeoutDelayMap:s,nextDelay:t,timeoutInSeconds:l}}function v(){if(j){var D=Date.now();if(D>n)p=Math.min(i,Math.ceil(D/1e3-m));var E=A();if(E)j(E,t)}z()}function w(){x();k=c("setTimeoutAcrossTransitions")(v,l*1e3)}function x(){if(k){clearTimeout(k);k=null}}function y(D){__p&&__p();m=D;n=m*1e3;o=[1];for(var E=1;E<h;E++)o.push(0);p=1;q+=1;r+=1;var F=r.toString()+"_delay";t=s[F];if(t===undefined)t=s.delay;var G=r.toString()+"_timeout",H=s[G];if(H===undefined)H=s.timeout;H=Math.min(H,i);l=H||i;w()}function z(){x();o=null}function A(){if(!o)return null;return{tos_id:c("pageID"),start_time:m,tos_array:o.slice(0),tos_len:p,tos_seq:r,tos_cum:q}}function B(D){if(D>=n&&D-n<1e3)return;C(Math.floor(D/1e3))}function C(D){__p&&__p();var E=D-m;if(E<0||E>=i)v();if(!o)y(D);else{o[E>>5]|=1<<(E&31);p=E+1;q+=1;n=D*1e3}}f.exports={init:function D(E,F,G){__p&&__p();q=0;r=-1;j=E;if(typeof F=="object"&&F!==null)s=F;else s={};if(!G)G=Date.now();y(Math.floor(G/1e3));c("Banzai").subscribe(c("Banzai").SHUTDOWN,v)},update:function D(E){B(E)},get:function D(){return A()},ship:function D(){v()},reset:function D(){z()},testState:function D(){return u()}}}),null);
__d("TimeSpentImmediateActiveSecondsLogger",["Banzai","ImmediateActiveSecondsConfig","ScriptPath"],(function a(b,c,d,e,f,g){__p&&__p();var h="immediate_active_seconds",i={signal:true,retry:true},j=c("ImmediateActiveSecondsConfig").sampling_rate,k=c("ImmediateActiveSecondsConfig").ias_bucket,l=0;function m(o){if(j<=0)return false;var p=Math.floor(o/1e3)%j;return p===k}function n(o){if(o>=l&&o-l<1e3)return;if(m(o)){var p={activity_time_ms:o,last_activity_time_ms:l,script_path:c("ScriptPath").getTopViewEndpoint()};try{c("Banzai").post(h,p,i)}catch(q){}}l=Math.floor(o/1e3)*1e3}f.exports={maybeReportActiveSecond:n}}),null);
__d("TimeSpentBitArrayLogger",["Arbiter","Banzai","BanzaiODS","TimeSpentArray","TimeSpentConfig","TimeSpentImmediateActiveSecondsLogger","UserActivity","isInIframe"],(function a(b,c,d,e,f,g){__p&&__p();var h={delay:c("Banzai").BASIC.delay,retry:true};function i(j,k){c("Arbiter").inform("timespent/tosbitdataposted",babelHelpers["extends"]({},j));if(typeof k=="number")h.delay=k;else h.delay=c("Banzai").BASIC.delay;c("Banzai").post("time_spent_bit_array",babelHelpers["extends"]({},j),h);h.delay=c("TimeSpentConfig").delay}f.exports={init:function j(k){__p&&__p();if(c("isInIframe")())return;c("UserActivity").subscribe(function(m,n){var o=n.last_inform;c("TimeSpentArray").update(o);c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(o)});var l=Date.now();c("TimeSpentArray").init(i,c("TimeSpentConfig"),l);c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(l);c("BanzaiODS").bumpEntityKey("ms.time_spent.qa.www","time_spent.bits.js_initialized")}}}),null);
__d("UserActionHistory",["Arbiter","ClickRefUtils","ScriptPath","throttle","WebStorage"],(function a(b,c,d,e,f,g){__p&&__p();var h={click:1,submit:1},i=false,j={log:[],len:0},k=c("throttle").acrossTransitions(function(){try{i._ua_log=JSON.stringify(j)}catch(n){i=false}},1e3);function l(){__p&&__p();var n=c("WebStorage").getSessionStorage();if(n){i=n;i._ua_log&&(j=JSON.parse(i._ua_log))}else i=false;j.log[j.len%10]={ts:Date.now(),path:"-",index:j.len,type:"init",iref:"-"};j.len++;c("Arbiter").subscribe("UserAction/new",function(o,p){var q=p.ua,r=p.node,event=p.event;if(!event||!(event.type in h))return;var s={path:c("ScriptPath").getScriptPath(),type:event.type,ts:q._ue_ts,iref:c("ClickRefUtils").get_intern_ref(r)||"-",index:j.len};j.log[j.len++%10]=s;i&&k()})}function m(){return j.log.sort(function(n,o){return o.ts!=n.ts?o.ts-n.ts:o.index-n.index})}l();f.exports={getHistory:m}}),null);
__d("NavigationClickPointHandler",["Event","ScriptPath","collectDataAttributes"],(function a(b,c,d,e,f,g){__p&&__p();var h={getClickPointInfo:function j(k){__p&&__p();var l=null,m=c("collectDataAttributes")(k,["ft"],["href","data-click"]),n=m.normal.href;if(!n||n==="#")return false;var o=m.normal["data-click"];if(l===null&&o)l={click:o};var p=m.ft.tn;if(l===null&&p)l={tn:p};if(l===null&&k.getAttribute){var q=k.getAttribute("class");if(q)l={"class":q}}return l}};function i(event){var j=event.target||event.srcElement,k=h.getClickPointInfo(j);if(k!==false)c("ScriptPath").setClickPointInfo(k)}if(document.documentElement!==null)c("Event").listen(document.documentElement,{click:i});f.exports=h}),null);
__d("ScriptPathLogger",["Banzai","CurrentUser","ScriptPath","TimeSpentPageTransitionCause","URI","isInIframe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="script_path_change",i={scriptPath:null,categoryToken:null,extraData:{}},j=false,k="imp_id";function l(v){__p&&__p();var w=c("URI").getNextURI?c("URI").getNextURI():new(c("URI"))(window.location.href),x=w.getQueryData(),y=w.getPath();if(y.endsWith("/"))y=y.substr(0,y.length-1);var z=m(y,x);if(z){v.content_id=z;return}var A=n(y);if(A!==""){v.dest_topic_feed=A;return}if(o(y)){var B=x.queue_id;if(B)v.dest_srt_queue_id=B;return}}function m(v,w){__p&&__p();if(w.story_fbid)return w.story_fbid;if(w.fbid)return w.fbid;if(w.view==="permalink"&&w.id)return w.id;var x=/\/(posts|videos|notes|groups\/.*\/permalink)\//,y=/^[0-9]+$/;if(x.test(v)){var z=v.split("/"),A=z[z.length-1];if(y.test(A))return A}return""}function n(v){if(!v||v.search("/feed/topics/")==-1)return"";var w=v.split("/");return w[w.length-1]}function o(v){return!!v&&v.search("/intern/review/")!==-1}function p(v,w,x,y){__p&&__p();if(!j||c("isInIframe")())return;var z=c("CurrentUser").isLoggedIn(),A=z?c("Banzai").VITAL:c("Banzai").BASIC;if(z){y=y||{};y.via_banzai_vital="1"}var B={source_path:v.scriptPath,source_token:v.categoryToken,dest_path:w.scriptPath,dest_token:w.categoryToken,impression_id:w.extraData?w.extraData.imp_id:null,cause:x},C=x===c("TimeSpentPageTransitionCause").PAGE_UNLOAD;if(!C)l(B);if(y!=null){var D=y,E=D.snowlift_content_id;if(!C&&E!=null){B.content_id=E;delete y.snowlift_content_id}B.extra_data=y}if(v.scriptPath===null)B.referrer=document.referrer;var F=c("ScriptPath").getClickPointInfo();if(F)B.click_point_info=F;if(v.extraData)for(var G in v.extraData)if(G!=k)B["source_"+G]=v.extraData[G];if(w.extraData)for(var H in w.extraData)if(H!=k)B["dest_"+H]=w.extraData[H];if(v.topViewEndpoint)B.source_endpoint=v.topViewEndpoint;if(w.topViewEndpoint)B.dest_endpoint=w.topViewEndpoint;if(v.restored)B.source_restored=true;c("Banzai").post(h,B,A);c("ScriptPath").setClickPointInfo(null)}function q(){p(c("ScriptPath").getSourcePageInfo()||i,c("ScriptPath").getPageInfo()||i,c("TimeSpentPageTransitionCause").PAGE_LOAD)}function r(v,w,x){p(v,w,c("TimeSpentPageTransitionCause").TRANSITION,x)}function s(){p(c("ScriptPath").getPageInfo()||i,i,c("TimeSpentPageTransitionCause").PAGE_UNLOAD);c("ScriptPath").shutdown()}var t=c("ScriptPath").subscribe(function(v){if(j){var w=v.source,x=v.dest,y=v.cause,z=v.extraData;if(y)p(w||i,x||i,y,z);else if(w)r(w,x||i,z);else q()}});c("Banzai").subscribe(c("Banzai").SHUTDOWN,s);var u={startLogging:function v(){j=true;if(c("ScriptPath").getPageInfo())q()},stopLogging:function v(){j=false;t.remove()},BANZAI_LOGGING_ROUTE:h};f.exports=u}),null);